<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on October, 5 2017 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>Maxima 5.41.0 Manual: 5. Data Types and Structures</title>

<meta name="description" content="Maxima 5.41.0 Manual: 5. Data Types and Structures">
<meta name="keywords" content="Maxima 5.41.0 Manual: 5. Data Types and Structures">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 0px; padding-bottom: 0px;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%}
-->
</style>

<link rel="icon" href="figures/favicon.ico"/>
<script type="text/javascript"><!--

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-510249-14']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

--></script>

</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<div style="position: fixed; width: 300px; right: 20px;">
<script>
  (function() {
    var cx = '010272381774241760502:zr4s1iggymk';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>


<a name="Data-Types-and-Structures"></a>
<a name="SEC11"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="maxima_4.html#SEC10" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC12" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima_4.html#SEC7" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 5. Data Types and Structures </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC12">5.1 Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC16">5.2 Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC19">5.3 Constants</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC21">5.5 Lists</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC25">5.6 Arrays</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC27">5.8 Structures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p><a name="Item_003a-Numbers"></a>
</p><hr size="6">
<a name="Numbers"></a>
<a name="SEC12"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC11" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC13" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.1 Numbers </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC13">5.1.1 Introduction to Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC15">5.1.2 Functions and Variables for Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p><a name="Item_003a-Introduction-to-Numbers"></a>
</p><hr size="6">
<a name="Introduction-to-Numbers"></a>
<a name="SEC13"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC12" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC15" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC12" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.1.1 Introduction to Numbers </h3>

<a name="SEC14"></a>
<h3 class="subheading"> Complex numbers </h3>

<p>Maximaでは複素数式を式の実部と<code>%i</code>かける虚部の足し算で指定します。
例えば、等式 <code>x^2 - 4*x + 13 = 0</code>の根は
<code>2 + 3*%i</code>と <code>2 - 3*%i</code>です。
複素数式の積の整理は積を展開することで影響を受けるかもしれないことに注意してください。
複素数式の商や根、他の関数の整理は普通、
<code>realpart</code>, <code>imagpart</code>, <code>rectform</code>, <code>polarform</code>,
<code>abs</code>, <code>carg</code>関数を使って達成することができます。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Complex-variables">Complex variables</a>
</div>
</p>
<p><a name="Item_003a-Functions-and-Variables-for-Numbers"></a>
</p><hr size="6">
<a name="Functions-and-Variables-for-Numbers"></a>
<a name="SEC15"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC13" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC16" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC12" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.1.2 Functions and Variables for Numbers </h3>

<p><a name="bfloat"></a>
<a name="Item_003a-bfloat"></a>
</p><dl>
<dt><u>関数:</u> <b>bfloat</b><i> (<var>expr</var>)</i>
<a name="IDX66"></a>
</dt>
<dd><p><var>expr</var>の中のすべての数や数の関数を多倍長浮動小数点に変換します。
戻り値の多倍長浮動小数点の有効桁数は、
グローバル変数<code><a href="#fpprec">fpprec</a></code>によって規定されます。
</p>
<p><code><a href="#float2bf">float2bf</a></code>が<code>false</code>の場合、
浮動小数点が多倍長浮動小数点に変換される時
（精度が落ちることを意味するので）警告メッセージが出力されます。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a>
</div>
</p></dd></dl>

<p><a name="bfloatp"></a>
<a name="Item_003a-bfloatp"></a>
</p><dl>
<dt><u>関数:</u> <b>bfloatp</b><i> (<var>expr</var>)</i>
<a name="IDX67"></a>
</dt>
<dd><p>もし<var>expr</var>が多倍長浮動小数点数なら<code>true</code>を、そうでなければ<code>false</code>を返します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a> &middot;
<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p></dd></dl>

<p><a name="bftorat"></a>
<a name="Item_003a-bftorat"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>bftorat</b>
<a name="IDX68"></a>
</dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p><code>bftorat</code>は多倍長浮動小数点の有理数への変換を制御します。
<code>bftorat</code>が<code>false</code>の時、
<code><a href="#ratepsilon">ratepsilon</a></code>が変換を制御するのに使われます。
(これは比較的小さな有理数になります。)
<code>bftorat</code>が<code>true</code>の時、
生成された有理数は多倍長浮動小数点を正確に表します。
</p>
<p>注意: <code>bftorat</code>は関数
<code><a href="#rationalize">rationalize</a></code>を使った有理数への変換に関して効果を持ちません。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) ratepsilon:1e-4;
(%o1)                         1.e-4
(%i2) rat(bfloat(11111/111111)), bftorat:false;
`rat' replaced 9.99990999991B-2 by 1/10 = 1.0B-1
                               1
(%o2)/R/                       --
                               10
(%i3) rat(bfloat(11111/111111)), bftorat:true;
`rat' replaced 9.99990999991B-2 by 11111/111111 = 9.99990999991B-2
                             11111
(%o3)/R/                     ------
                             111111
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a>
</div>
</p>
</dd></dl>

<p><a name="bftrunc"></a>
<a name="Item_003a-bftrunc"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>bftrunc</b>
<a name="IDX69"></a>
</dt>
<dd><p>デフォルト値: <code>true</code>
</p>
<p><code>bftrunc</code>は、非ゼロの多倍長浮動小数点数の中のずるずる続くゼロを表示しないようにします。
例えば、もし<code>bftrunc</code>が<code>false</code>なら、
<code>bfloat (1)</code>は<code>1.000000000000000B0</code>と表示されます。
そうでなければ、これは、<code>1.0B0</code>と表示されます。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a>
</div>
</p></dd></dl>

<p><a name="evenp"></a>
<a name="Item_003a-evenp"></a>
</p><dl>
<dt><u>関数:</u> <b>evenp</b><i> (<var>expr</var>)</i>
<a name="IDX70"></a>
</dt>
<dd><p>もし <var>expr</var>が偶数なら <code>true</code>を、そうでなければ <code>false</code>を返します。
</p>
<p>たとえ <var>expr</var>が <code>even</code>と宣言されていても
もし <var>expr</var>がシンボルなら、<code>evenp</code>は <code>false</code>を返します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p></dd></dl>

<p><a name="float"></a>
<a name="Item_003a-float"></a>
</p><dl>
<dt><u>関数:</u> <b>float</b><i> (<var>expr</var>)</i>
<a name="IDX71"></a>
</dt>
<dd><p><var>expr</var>の中の整数、有理数、多倍長浮動小数点を浮動小数点に変換します。
<code>float</code>は<code>evflag</code>でもあり、
非整数有理数と多倍長浮動小数点を浮動小数点に変換します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a> &middot;
<a href="maxima_106.html#Category_003a-Evaluation-flags">Evaluation flags</a>
</div>
</p></dd></dl>

<p><a name="float2bf"></a>
<a name="Item_003a-float2bf"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>float2bf</b>
<a name="IDX72"></a>
</dt>
<dd><p>デフォルト値: <code>true</code>
</p>
<p><code>float2bf</code>が<code>false</code>の場合、
浮動小数点が多倍長浮動小数点に変換される時、
（これは精度の無駄使いとなるかもしれないので、）
警告メッセージが表示されます。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a>
</div>
</p>
</dd></dl>

<p><a name="floatnump"></a>
<a name="Item_003a-floatnump"></a>
</p><dl>
<dt><u>関数:</u> <b>floatnump</b><i> (<var>expr</var>)</i>
<a name="IDX73"></a>
</dt>
<dd><p>もし<var>expr</var>が浮動小数点なら
<code>true</code>を返し、そうでないなら
<code>false</code>を返します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a> &middot;
<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p>
</dd></dl>

<p><a name="fpprec"></a>
<a name="Item_003a-fpprec"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>fpprec</b>
<a name="IDX74"></a>
</dt>
<dd><p>デフォルト値: 16
</p>
<p><code>fpprec</code>は多倍長浮動小数点上の代数のための有効桁数です。
<code>fpprec</code>は通常の浮動小数点上の計算に影響を与えません。
</p>
<p><code><a href="#bfloat">bfloat</a></code>と<code><a href="#fpprintprec">fpprintprec</a></code>も参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a>
</div>
</p>
</dd></dl>

<p><a name="fpprintprec"></a>
<a name="Item_003a-fpprintprec"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>fpprintprec</b>
<a name="IDX75"></a>
</dt>
<dd><p>デフォルト値: 0
</p>
<p><code>fpprintprec</code>は、通常の浮動小数点もしくは多倍長浮動小数点を表示する時の
表示する桁数です。
</p>
<p>通常の浮動小数点に関しては、
<code>fpprintprec</code>が2から16までの値を持つ時、
表示されるディジット数は<code>fpprintprec</code>に等しいです。
そうでなければ、<code>fpprintprec</code>は0もしくは16より大きく、
表示されるディジット数は16です。
</p>
<p>多倍長浮動小数点に関しては、
<code>fpprintprec</code>が2から<code>fpprec</code>までの値を持つ時、
表示される桁数は、<code>fpprintprec</code>に等しいです。
そうでなければ、<code>fpprintprec</code>は、0もしくは<code>fpprec</code>より大きく、
表示される桁数は<code>fpprec</code>に等しいです。
</p>
<p>通常の浮動小数点でも多倍長浮動小数点でも、後置ゼロは抑制されます。
もし後置ゼロがあれば、表示される実際の桁数は <code>fpprintprec</code>を小さくなります。
</p>
<p><code>fpprintprec</code>は1にはできません。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a> &middot;
<a href="maxima_106.html#Category_003a-Display-flags-and-variables">Display flags and variables</a>
</div>
</p></dd></dl>

<p><a name="integerp"></a>
<a name="Item_003a-integerp"></a>
</p><dl>
<dt><u>関数:</u> <b>integerp</b><i> (<var>expr</var>)</i>
<a name="IDX76"></a>
</dt>
<dd><p>もし<var>expr</var>が整数リテラルなら <code>true</code>を、
そうでないなら <code>false</code>を返します。
</p>
<p>たとえ <var>expr</var>が <code>integer</code>と宣言されていても、もし <var>expr</var>がシンボルなら
<code>integerp</code>は <code>false</code>を返します。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) integerp (0);
(%o1)                         true
(%i2) integerp (1);
(%o2)                         true
(%i3) integerp (-17);
(%o3)                         true
(%i4) integerp (0.0);
(%o4)                         false
(%i5) integerp (1.0);
(%o5)                         false
(%i6) integerp (%pi);
(%o6)                         false
(%i7) integerp (n);
(%o7)                         false
(%i8) declare (n, integer);
(%o8)                         done
(%i9) integerp (n);
(%o9)                         false
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p></dd></dl>

<p><a name="m1pbranch"></a>
<a name="Item_003a-m1pbranch"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>m1pbranch</b>
<a name="IDX77"></a>
</dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p><code>m1pbranch</code>は <code>-1</code>のべき乗の主枝です。
<code>(-1)^(1/3)</code>(すなわち、「奇」の有理指数)や
<code>(-1)^(1/4)</code>(すなわち、「偶」の有理指数)
のような量は以下のように扱われます:
</p><table><tr><td>&nbsp;</td><td><pre class="example">              domain:real

(-1)^(1/3):      -1
(-1)^(1/4):   (-1)^(1/4)

             domain:complex
m1pbranch:false          m1pbranch:true
(-1)^(1/3)               1/2+%i*sqrt(3)/2
(-1)^(1/4)              sqrt(2)/2+%i*sqrt(2)/2
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Expressions">Expressions</a> &middot;
<a href="maxima_106.html#Category_003a-Global-flags">Global flags</a>
</div>
</p></dd></dl>

<p><a name="Item_003a-nonnegintegerp"></a>
</p><dl>
<dt><u>関数:</u> <b>nonnegintegerp</b><i> (<var>n</var>)</i>
<a name="IDX78"></a>
</dt>
<dd><p><code><var>n</var> &gt;= 0</code>かつ <var>n</var>が整数の時だけ<code>true</code>を返します。
</p>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Package-linearalgebra">Package linearalgebra</a> &middot;
<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p></dd></dl>

<p><a name="numberp"></a>
<a name="Item_003a-numberp"></a>
</p><dl>
<dt><u>関数:</u> <b>numberp</b><i> (<var>expr</var>)</i>
<a name="IDX79"></a>
</dt>
<dd><p>もし<var>expr</var>が文字リテラルか、有理数か、浮動小数点数か、多倍長浮動小数点なら
<code>true</code>を、
そうでなければ <code>false</code>を返します。
</p>
<p>たとえ <var>expr</var>が <code>%pi</code>や <code>%i</code>のようなシンボリックな数でも、また、
<code>even</code>, <code>odd</code>, <code>integer</code>, <code>rational</code>, <code>irrational</code>,
<code>real</code>, <code>imaginary</code>, <code>complex</code>のいずれかに宣言されていても、
もし <var>expr</var>がシンボルなら <code>numberp</code>は <code>false</code>を返します。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) numberp (42);
(%o1)                         true
(%i2) numberp (-13/19);
(%o2)                         true
(%i3) numberp (3.14159);
(%o3)                         true
(%i4) numberp (-1729b-4);
(%o4)                         true
(%i5) map (numberp, [%e, %pi, %i, %phi, inf, minf]);
(%o5)      [false, false, false, false, false, false]
(%i6) declare (a, even, b, odd, c, integer, d, rational,
     e, irrational, f, real, g, imaginary, h, complex);
(%o6)                         done
(%i7) map (numberp, [a, b, c, d, e, f, g, h]);
(%o7) [false, false, false, false, false, false, false, false]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p></dd></dl>


<p><a name="numer"></a>
<a name="Item_003a-numer"></a>
</p><dl>
<dt><u>特殊シンボル:</u> <b>numer</b>
<a name="IDX80"></a>
</dt>
<dd><p><code>numer</code>は数値の引数を持つ（指数関数を含む）いくつかの数学関数を
浮動小数点に評価するようにします。
数値が与えられた<code>expr</code>の中の変数を値に置き換えるようにします。
それは <code><a href="#float">float</a></code>スイッチをオンにもします。
</p>
<p><code><a href="maxima_10.html#g_t_0025enumer">%enumer</a></code>も参照してください。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) [sqrt(2), sin(1), 1/(1+sqrt(3))];
                                        1
(%o1)            [sqrt(2), sin(1), -----------]
                                   sqrt(3) + 1
(%i2) [sqrt(2), sin(1), 1/(1+sqrt(3))],numer;
(%o2) [1.414213562373095, .8414709848078965, .3660254037844387]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a> &middot;
<a href="maxima_106.html#Category_003a-Evaluation-flags">Evaluation flags</a>
</div>
</p></dd></dl>

<p><a name="numer_005fpbranch"></a>
<a name="Item_003a-numer_005fpbranch"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>numer_pbranch</b>
<a name="IDX81"></a>
</dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p>オプション変数<code>numer_pbranch</code>は
負の整数、有理数、または浮動小数点数のべきの数値評価を制御します。
<code>numer_pbranch</code>が<code>true</code>でかつ、指数が浮動小数点数であるか
オプション変数<code><a href="#numer">numer</a></code>も<code>true</code>の時、
Maximaは主枝を使って数値結果を評価します。
そうでなければ、式整理されたが未評価の結果が返されます。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) (-2)^0.75;
                                 0.75
(%o1)                       (- 2)
(%i2) (-2)^0.75,numer_pbranch:true;
(%o2)       1.189207115002721 %i - 1.189207115002721
(%i3) (-2)^(3/4);
                               3/4  3/4
(%o3)                     (- 1)    2
(%i4) (-2)^(3/4),numer;
                                          0.75
(%o4)              1.681792830507429 (- 1)
(%i5) (-2)^(3/4),numer,numer_pbranch:true;
(%o5)       1.189207115002721 %i - 1.189207115002721
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a>
</div>
</p></dd></dl>


<p><a name="numerval"></a>
<a name="Item_003a-numerval"></a>
</p><dl>
<dt><u>関数:</u> <b>numerval</b><i> (<var>x_1</var>, <var>expr_1</var>, &hellip;, <var>x_n</var>, <var>expr_n</var>)</i>
<a name="IDX82"></a>
</dt>
<dd><p>変数<code>x_1</code>, &hellip;, <code>x_n</code>を
<code>expr_1</code>, &hellip;, <code>expr_n</code>に等しい数値を持つ変数だと宣言します。
もし <code>numer</code>フラグが <code>true</code>なら、
変数が現れる任意の式にて、数値は評価され、変数に代入されます。
<code><a href="maxima_8.html#ev">ev</a></code>も参照してください。
</p>
<p>式<code>expr_1</code>, &hellip;, <code>expr_n</code>は、任意の式を取り得ます。数値である必要はありません。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Declarations-and-inferences">Declarations and inferences</a> &middot;
<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a>
</div>
</p></dd></dl>

<p><a name="oddp"></a>
<a name="Item_003a-oddp"></a>
</p><dl>
<dt><u>関数:</u> <b>oddp</b><i> (<var>expr</var>)</i>
<a name="IDX83"></a>
</dt>
<dd><p>もし <var>exp</var>が奇数リテラルであれば <code>true</code>を、そうでなければ <code>false</code>を返します。
</p>
<p>たとえ <var>expr</var>が <code>odd</code>と宣言されていても
もし <var>expr</var>がシンボルなら
<code>oddp</code>は <code>false</code>を返します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p></dd></dl>

<p><a name="ratepsilon"></a>
<a name="Item_003a-ratepsilon"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>ratepsilon</b>
<a name="IDX84"></a>
</dt>
<dd><p>デフォルト値: <code>2.0e-15</code>
</p>
<p>オプション変数 <code><a href="#bftorat">bftorat</a></code>が値 <code>false</code>を持つ時、
<code>ratepsilon</code>は浮動小数点数を有理数に変換する際に使われる許容誤差です。
例は<code>bftorat</code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a> &middot;
<a href="maxima_106.html#Category_003a-Rational-expressions">Rational expressions</a>
</div>
</p></dd></dl>

<p><a name="rationalize"></a>
<a name="Item_003a-rationalize"></a>
</p><dl>
<dt><u>関数:</u> <b>rationalize</b><i> (<var>expr</var>)</i>
<a name="IDX85"></a>
</dt>
<dd><p>Maximaの式<var>expr</var>の中の倍精度浮動小数点やビッグフローすべてを同値の有理数に変換します。
もし浮動小数点の２値表現に詳しくなれば、<code>rationalize (0.1)</code>が1/10に等しくないことに
驚くかもしれません。
この振る舞いはMaximaに特別なわけではありません。―1/10は２値の循環小数表現を持ちます。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) rationalize (0.5);
                                1
(%o1)                           -
                                2
(%i2) rationalize (0.1);
                        3602879701896397
(%o2)                   -----------------
                        36028797018963968
(%i3) fpprec : 5$
(%i4) rationalize (0.1b0);
                             209715
(%o4)                        -------
                             2097152
(%i5) fpprec : 20$
(%i6) rationalize (0.1b0);
                     236118324143482260685
(%o6)                ----------------------
                     2361183241434822606848
(%i7) rationalize (sin (0.1*x + 5.6));
               3602879701896397 x   3152519739159347
(%o7)      sin(------------------ + ----------------)
               36028797018963968    562949953421312
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Numerical-evaluation">Numerical evaluation</a>
</div>
</p></dd></dl>

<p><a name="ratnump"></a>
<a name="Item_003a-ratnump"></a>
</p><dl>
<dt><u>関数:</u> <b>ratnump</b><i> (<var>expr</var>)</i>
<a name="IDX86"></a>
</dt>
<dd><p>もし<var>expr</var>が整数リテラルもしくは整数リテラルの比なら <code>true</code>を返し、
そうでなければ <code>false</code>を返します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_106.html#Category_003a-Rational-expressions">Rational expressions</a>
</div>
</p></dd></dl>


<p><a name="Item_003a-Strings"></a>
</p><hr size="6">
<a name="Strings"></a>
<a name="SEC16"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC15" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC17" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.2 Strings </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC17">5.2.1 Introduction to Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC18">5.2.2 Functions and Variables for Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p><a name="Item_003a-Introduction-to-Strings"></a>
</p><hr size="6">
<a name="Introduction-to-Strings"></a>
<a name="SEC17"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC16" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC18" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC16" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.2.1 Introduction to Strings </h3>


<p>文字列(クォートされた文字の列)は入力の際にはダブルクォートマーク <code>&quot;</code>で括り、
グローバル変数 <code><a href="#stringdisp">stringdisp</a></code>に依存して、クォートマークありだったりなしだったりで
表示されます。
</p>
<p>文字列は、埋め込みタブ、改行、キャリッジリターン文字を含む任意の文字を含み得ます。
列 <code>\&quot;</code>は文字通りダブルクォートとして認識され、
<code>\\</code>は文字通りバックスラッシュとして認識されます。
バックスラッシュが行の終わりに現れる時、
バックスラッシュと(改行かキャリッジリターンと改行かいずれかの)行終端を無視します。
そして、文字列は次の行に続きます。
他にバックスラッシュともう一つの文字の組み合わせで特殊なものはありません;
<code>&quot;</code>か, <code>\</code>,　行終端以外の任意の文字の前にバックスラッシュが現れる時、
バックスラッシュは無視されます。
文字列の中に文字リテラルを埋め込むことを除いて
(タブ、改行、キャリッジリターンのような)特殊文字を表す方法はありません。
</p>
<p>Maximaでは文字タイプはありません;
文字単体は1文字の文字列として表されます。
</p>
<p><code>stringproc</code>アドオンパッケージは文字列に機能する多くの関数を含みます。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) s_1 : &quot;This is a string.&quot;;
(%o1)                   This is a string.
(%i2) s_2 : &quot;Embedded \&quot;double quotes\&quot; and backslash \\ characters.&quot;;
(%o2) Embedded &quot;double quotes&quot; and backslash \ characters.
(%i3) s_3 : &quot;Embedded line termination
(%o3) Embedded line termination
in this string.
(%i4) in this string.&quot;;
(%o4) Ignore the line termination characters in this string.
(%i5) s_4 : &quot;Ignore the \
(%o5)                         false
(%i6) line termination \
(%o6)                   This is a string.
(%i7) characters in \
(%o7)                         true
(%i8) this string.&quot;;
(%o8)                  &quot;This is a string.&quot;
(%i9) stringdisp : false;
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Syntax">Syntax</a>
</div>
</p>
<p><a name="Item_003a-Functions-and-Variables-for-Strings"></a>
</p><hr size="6">
<a name="Functions-and-Variables-for-Strings"></a>
<a name="SEC18"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC17" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC19" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC16" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.2.2 Functions and Variables for Strings </h3>

<p><a name="concat"></a>
<a name="Item_003a-concat"></a>
</p><dl>
<dt><u>関数:</u> <b>concat</b><i> (<var>arg_1</var>, <var>arg_2</var>, &hellip;)</i>
<a name="IDX87"></a>
</dt>
<dd><p>引数を連結します。
引数はアトムに評価されなければいけません。
もし最初の引数がシンボルなら戻り値はシンボルで、
そうでなければ文字列です。
</p>
<p><code>concat</code>は引数を評価します。
シングルクォート<code>'</code>は評価を抑制します。
</p>
<p><code><a href="#sconcat">sconcat</a></code>と <code><a href="maxima_84.html#eval_005fstring">eval_string</a></code>も参照してください。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) y: 7$
(%i2) z: 88$
(%i3) concat (y, z/2);
(%o3)                          744
(%i4) concat ('y, z/2);
(%o4)                          y44
</pre></td></tr></table>
<p><code>concat</code>によって組み立てられたシンボルは値に割り当てられたり、式の中に現れたりします。
<code><a href="maxima_7.html#g_t_003a_003a">::</a></code> (ダブルコロン)割り当て演算子は左辺を評価します。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i5) a: concat ('y, z/2);
(%o5)                          y44
(%i6) a:: 123;
(%o6)                          123
(%i7) y44;
(%o7)                          123
(%i8) b^a;
                               y44
(%o8)                         b
(%i9) %, numer;
                               123
(%o9)                         b
</pre></td></tr></table>
<p><code>concat (1, 2)</code>は数のように見えますが、文字列であることに注意してください。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i10) concat (1, 2) + 3;
(%o10)                       12 + 3
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Expressions">Expressions</a> &middot;
<a href="maxima_106.html#Category_003a-Strings">Strings</a>
</div>
</p></dd></dl>

<p><a name="sconcat"></a>
<a name="Item_003a-sconcat"></a>
</p><dl>
<dt><u>関数:</u> <b>sconcat</b><i> (<var>arg_1</var>, <var>arg_2</var>, ...)</i>
<a name="IDX88"></a>
</dt>
<dd><p>引数を文字列に連結します。
<code><a href="#concat">concat</a></code>と違い、引数はアトムである必要は<i>ありません</i>。
</p>
<p><code><a href="#concat">concat</a></code>と <code><a href="maxima_84.html#eval_005fstring">eval_string</a></code>も参照してください。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) sconcat (&quot;xx[&quot;, 3, &quot;]:&quot;, expand ((x+y)^3));
(%o1)               xx[3]:y^3+3*x*y^2+3*x^2*y+x^3
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Expressions">Expressions</a> &middot;
<a href="maxima_106.html#Category_003a-Strings">Strings</a>
</div>
</p></dd></dl>


<p><a name="string"></a>
<a name="Item_003a-string"></a>
</p><dl>
<dt><u>関数:</u> <b>string</b><i> (<var>expr</var>)</i>
<a name="IDX89"></a>
</dt>
<dd><p><code>expr</code>を、ただまるでタイプされたようにMaximaの線形表記に変換します。
</p>
<p><code>string</code>の戻り値は文字列であり、
計算の中で使うことはできません。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Strings">Strings</a>
</div>
</p></dd></dl>


<p><a name="stringdisp"></a>
<a name="Item_003a-stringdisp"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>stringdisp</b>
<a name="IDX90"></a>
</dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p><code>stringdisp</code>が<code>true</code>の時、
文字列はダブルクォートマークで囲まれて表示されます。
そうでなければクォートマークは表示されません。
</p>
<p>関数定義を表示する時はいつも、<code>stringdisp</code>は <code>true</code>です。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) stringdisp: false$
(%i2) &quot;This is an example string.&quot;;
(%o2)              This is an example string.
(%i3) foo () :=
      print (&quot;This is a string in a function definition.&quot;);
(%o3) foo() :=
              print(&quot;This is a string in a function definition.&quot;)
(%i4) stringdisp: true$
(%i5) &quot;This is an example string.&quot;;
(%o5)             &quot;This is an example string.&quot;
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Display-flags-and-variables">Display flags and variables</a>
</div>
</p></dd></dl>


<p><a name="Item_003a-Constants"></a>
</p><hr size="6">
<a name="Constants"></a>
<a name="SEC19"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC18" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC20" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.3 Constants </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC20">5.4 Functions and Variables for Constants</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p><a name="Item_003a-Functions-and-Variables-for-Constants"></a>
</p><hr size="6">
<a name="Functions-and-Variables-for-Constants"></a>
<a name="SEC20"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC19" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC21" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.4 Functions and Variables for Constants </h2>

<p><a name="g_t_0025e"></a>
<a name="Item_003a-_0025e"></a>
</p><dl>
<dt><u>定数:</u> <b>%e</b>
<a name="IDX91"></a>
</dt>
<dd><p><code>%e</code>はEuler数としても知られる自然対数の基数を表します。
<code>%e</code>の数値は倍精度浮動小数点数2.718281828459045d0です。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="g_t_0025i"></a>
<a name="Item_003a-_0025i"></a>
</p><dl>
<dt><u>定数:</u> <b>%i</b>
<a name="IDX92"></a>
</dt>
<dd><p><code>%i</code>は虚数単位<em>sqrt(- 1)</em>を表します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="false"></a>
<a name="Item_003a-false"></a>
</p><dl>
<dt><u>定数:</u> <b>false</b>
<a name="IDX93"></a>
</dt>
<dd><p><code>false</code>は同じ名前のブーリアン定数を表します。
Maximaは、Lispの値<code>NIL</code>で<code>false</code>を実装しています。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="g_t_0025gamma"></a>
<a name="Item_003a-_0025gamma"></a>
</p><dl>
<dt><u>定数:</u> <b>%gamma</b>
<a name="IDX94"></a>
</dt>
<dd><p>Euler-Macheroni定数0.5772156649015329 ....
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="ind"></a>
<a name="Item_003a-ind"></a>
</p><dl>
<dt><u>定数:</u> <b>ind</b>
<a name="IDX95"></a>
</dt>
<dd><p><code>ind</code>は有界で不定の結果を表します。
</p>
<p><code><a href="maxima_17.html#limit">limit</a></code>も参照してください。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) limit (sin(1/x), x, 0);
(%o1)                          ind
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="inf"></a>
<a name="Item_003a-inf"></a>
</p><dl>
<dt><u>定数:</u> <b>inf</b>
<a name="IDX96"></a>
</dt>
<dd><p><code>inf</code>は実数の正の無限大を表します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="infinity"></a>
<a name="Item_003a-infinity"></a>
</p><dl>
<dt><u>定数:</u> <b>infinity</b>
<a name="IDX97"></a>
</dt>
<dd><p><code>infinity</code>は複素数の無限大を表します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="minf"></a>
<a name="Item_003a-minf"></a>
</p><dl>
<dt><u>定数:</u> <b>minf</b>
<a name="IDX98"></a>
</dt>
<dd><p><code>minf</code>は実数のマイナスの（すなわち負の）無限大を表します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="g_t_0025phi"></a>
<a name="Item_003a-_0025phi"></a>
</p><dl>
<dt><u>定数:</u> <b>%phi</b>
<a name="IDX99"></a>
</dt>
<dd><p><code>%phi</code>は<i>黄金比</i>と呼ばれる<em>(1 + sqrt(5))/2</em>を表します。
<code>%phi</code>の数値は倍精度浮動小数点数1.618033988749895d0です。
</p>
<p><code><a href="maxima_29.html#fibtophi">fibtophi</a></code>は、<code>%phi</code>を使って
フィボナッチ数<code>fib(n)</code>を表現します。
</p>
<p>デフォルトでは、Maximaは
<code>%phi</code>の代数的プロパティを知りません。
<code>tellrat(%phi^2 - %phi - 1)</code>と<code>algebraic: true</code>を評価した後、
<code><a href="maxima_14.html#ratsimp">ratsimp</a></code>は <code>%phi</code>を含むいくつかの式を整理できます。
</p>
<p>例:
</p>
<p><code>fibtophi</code>は、<code>%phi</code>を使って
フィボナッチ数<code>fib(n)</code>を表現します。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) fibtophi (fib (n));
                           n             n
                       %phi  - (1 - %phi)
(%o1)                  -------------------
                           2 %phi - 1
(%i2) fib (n-1) + fib (n) - fib (n+1);
(%o2)          - fib(n + 1) + fib(n) + fib(n - 1)
(%i3) fibtophi (%);
            n + 1             n + 1       n             n
        %phi      - (1 - %phi)        %phi  - (1 - %phi)
(%o3) - --------------------------- + -------------------
                2 %phi - 1                2 %phi - 1
                                          n - 1             n - 1
                                      %phi      - (1 - %phi)
                                    + ---------------------------
                                              2 %phi - 1
(%i4) ratsimp (%);
(%o4)                           0
</pre></td></tr></table>
<p>デフォルトでは、Maximaは
<code>%phi</code>の代数的プロパティを知りません。
<code>tellrat(%phi^2 - %phi - 1)</code>と<code>algebraic: true</code>を評価した後、
<code>ratsimp</code>は <code>%phi</code>を含むいくつかの式を整理できます。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) e : expand ((%phi^2 - %phi - 1) * (A + 1));
                 2                      2
(%o1)        %phi  A - %phi A - A + %phi  - %phi - 1
(%i2) ratsimp (e);
                  2                     2
(%o2)        (%phi  - %phi - 1) A + %phi  - %phi - 1
(%i3) tellrat (%phi^2 - %phi - 1);
                            2
(%o3)                  [%phi  - %phi - 1]
(%i4) algebraic : true;
(%o4)                         true
(%i5) ratsimp (e);
(%o5)                           0
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="g_t_0025pi"></a>
<a name="Item_003a-_0025pi"></a>
</p><dl>
<dt><u>定数:</u> <b>%pi</b>
<a name="IDX100"></a>
</dt>
<dd><p><code>%pi</code>は直径に体する円周の比を表します。
<code>%pi</code>の数値は倍精度浮動小数点数3.141592653589793d0です。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="true"></a>
<a name="Item_003a-true"></a>
</p><dl>
<dt><u>定数:</u> <b>true</b>
<a name="IDX101"></a>
</dt>
<dd><p><code>true</code>は同じ名前のブーリアン定数を表します。
MaximaはLispの値<code>T</code>で<code>true</code>を実装しています。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="und"></a>
<a name="Item_003a-und"></a>
</p><dl>
<dt><u>定数:</u> <b>und</b>
<a name="IDX102"></a>
</dt>
<dd><p><code>und</code>は未定義の結果を表します。
</p>
<p><code><a href="maxima_17.html#limit">limit</a></code>も参照してください。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) limit (x*sin(x), x, inf);
(%o1)                          und
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="zeroa"></a>
<a name="Item_003a-zeroa"></a>
</p><dl>
<dt><u>定数:</u> <b>zeroa</b>
<a name="IDX103"></a>
</dt>
<dd><p><code>zeroa</code>はゼロの上の無限小を表します。
<code>zeroa</code>は式の中で使うことができます。
<code>limit</code>は無限小を含む式を整理します。
</p>
<p><code><a href="#zerob">zerob</a></code>と<code><a href="maxima_17.html#limit">limit</a></code>も参照してください。
</p>
<p>例:
</p>
<p><code>limit</code>は無限小を含む式を整理します:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) limit(zeroa);
(%o1)                           0
(%i2) limit(x+zeroa);
(%o2)                           x
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>

<p><a name="zerob"></a>
<a name="Item_003a-zerob"></a>
</p><dl>
<dt><u>定数:</u> <b>zerob</b>
<a name="IDX104"></a>
</dt>
<dd><p><code>zerob</code>はゼロの下の無限小を表します。
<code>zerob</code>は式の中で使うことができます。
<code>limit</code>は無限小を含む式を整理します。
</p>
<p><code><a href="#zeroa">zeroa</a></code>と<code><a href="maxima_17.html#limit">limit</a></code>も参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Constants">Constants</a>
</div>
</p></dd></dl>


<p><a name="Item_003a-Lists"></a>
</p><hr size="6">
<a name="Lists"></a>
<a name="SEC21"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC20" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC22" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.5 Lists </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC22">5.5.1 Introduction to Lists</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC23">5.5.2 Functions and Variables for Lists</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC24">5.5.3 Performance considerations for Lists</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p><a name="Item_003a-Introduction-to-Lists"></a>
</p><hr size="6">
<a name="Introduction-to-Lists"></a>
<a name="SEC22"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC21" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC23" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC21" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.5.1 Introduction to Lists </h3>

<p>リストはMaximaとLispにとって基本的な構成要素です。
配列、ハッシュテーブル、数以外のデータタイプすべてはLispのリストとして表現されます。
これらのLispのリストは
式 <code>a+2</code>を示すために以下の形式を取ります。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">((MPLUS) $A 2)
</pre></td></tr></table>


<p>Maximaレベルでは中置表記<code>a+2</code>を見ることになるでしょう。
Maximaには、以下のようにプリントされるリストもあります。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">[1, 2, 7, x+y]
</pre></td></tr></table>

<p>これは4要素のリストの場合の例です。
内部的には、これは以下の形式のLispのリストに対応します。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">((MLIST) 1 2 7 ((MPLUS) $X $Y))
</pre></td></tr></table>


<p>Maxima式のタイプフィールドを意味するフラグはそれ自体リストです。
整理器を通った後、上のリストは以下のようになるでしょう。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">((MLIST SIMP) 1 2 7 ((MPLUS SIMP) $X $Y))
</pre></td></tr></table>


<p><a name="Item_003a-Functions-and-Variables-for-Lists"></a>
</p><hr size="6">
<a name="Functions-and-Variables-for-Lists"></a>
<a name="SEC23"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC22" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC24" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC21" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.5.2 Functions and Variables for Lists </h3>

<p><a name="g_t_005b"></a>
<a name="g_t_005d"></a>
</p>
<p><a name="Item_003a-_005b"></a>
</p><dl>
<dt><u>演算子:</u> <b>[</b>
<a name="IDX105"></a>
</dt>
<dt><u>演算子:</u> <b>]</b>
<a name="IDX106"></a>
</dt>
<dd><p><code>[</code>と <code>]</code>は、それぞれ、リストの始まりと終わりをマークします。
</p>
<p><code>[</code>と<code>]</code>は、リスト、配列、ハッシュ配列、配列関数の添字もくくります。
配列と違い、リストの <code>n</code>番目の要素にアクセスすることは
おおよそ <code>n</code>に比例する時間が必要かもしれないことに注意してください。
See section <a href="#SEC24">Performance considerations for Lists</a>.
</p>

<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) x: [a, b, c];
(%o1)                       [a, b, c]
(%i2) x[3];
(%o2)                           c
(%i3) array (y, fixnum, 3);
(%o3)                           y
(%i4) y[2]: %pi;
(%o4)                          %pi
(%i5) y[2];
(%o5)                          %pi
(%i6) z['foo]: 'bar;
(%o6)                          bar
(%i7) z['foo];
(%o7)                          bar
(%i8) g[k] := 1/(k^2+1);
                                  1
(%o8)                     g  := ------
                           k     2
                                k  + 1
(%i9) g[10];
                                1
(%o9)                          ---
                               101
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Operators">Operators</a>
</div>
</p></dd></dl>


<p><a name="append"></a>
<a name="Item_003a-append"></a>
</p><dl>
<dt><u>関数:</u> <b>append</b><i> (<var>list_1</var>, &hellip;, <var>list_n</var>)</i>
<a name="IDX107"></a>
</dt>
<dd><p><var>list_1</var>の要素のあとに
<var>list_2</var>の要素が続き、&hellip;
という１つのリストを返します。
<code>append</code>は一般式上でも機能します。
例えば、 <code>append (f(a,b), f(c,d,e));</code>は
<code>f(a,b,c,d,e)</code>をもたらします。
</p>
<p><code><a href="maxima_23.html#addrow">addrow</a></code>, <code><a href="maxima_23.html#addcol">addcol</a></code>, <code><a href="#join">join</a></code>も参照してください。
</p>
<p>例を見るには、 <code>example(append);</code>を実行してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>


<p><a name="assoc"></a>
<a name="Item_003a-assoc"></a>
</p><dl>
<dt><u>関数:</u> <b>assoc</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>assoc</tt> (<var>key</var>, <var>list</var>, <var>default</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>assoc</tt> (<var>key</var>, <var>list</var>)</i>
<a name="IDX108"></a>
</dt>
<dd><p>この関数は入力 <var>list</var>の左辺の中で <var>key</var>を探します。
<var>list</var>引数はリストでなければならず、その要素のそれぞれは正確に２つの部分を持つ式です。
最も普通には、<var>list</var>の要素はそれ自身リストで、それぞれが2つの要素を持ちます。
</p>
<p><code>assoc</code>関数は <var>list</var>に従って、それぞれの要素の最初の部分が <var>key</var>と等しいかチェックを
繰り返します。
もし比較が真になる要素が見つかったら、 <code>assoc</code>はその要素の二番目の部分を返します。
もしリストの中にそんな要素が存在しなければ、
<code>assoc</code>は <code>false</code>か、もし与えられていれば <var>default</var>を返します。
</p>
<p>例えば、 式 <code>assoc (y, [[x,1], [y,2], [z,3]])</code>の場合、
<code>assoc</code>関数はリスト <code>[[y,1],[x,2]]</code>の左辺に <code>y</code>を探して、第二項にそれを見つけて、 <code>2</code>を返します。
<code>assoc (z, [[x,1], [z,2], [z,3]])</code>の場合、
探索は <code>z</code>で始まる最初の項で止まり、 <code>2</code>を返します。
<code>assoc(x, [[y,1]])</code>の場合、マッチする要素がないので、 <code>assoc</code>は <code>false</code>を返します。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) assoc (y, [[x,1], [y,2],[z,3]]);
(%o1)                           2
(%i2) assoc (z, [[x,1], [z,2], [z,3]]);
(%o2)                           2
(%i3) assoc (x, [[y,1]]);
(%o3)                         false
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>


<p><a name="cons"></a>
<a name="Item_003a-cons"></a>
</p><dl>
<dt><u>関数:</u> <b>cons</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>cons</tt> (<var>expr</var>, <var>list</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>cons</tt> (<var>expr_1</var>, <var>expr_2</var>)</i>
<a name="IDX109"></a>
</dt>
<dd><p><code>cons (<var>expr</var>, <var>list</var>)</code> は
要素 <var>expr</var>を一番目の要素とし、<var>list</var>の要素が続くように構成された新しいリストを返します。
これは Lisp言語の構成演算 &quot;cons&quot;に類似したものです。
</p>
<p>Maxima 関数 <code>cons</code>は二番目の引数がリストとは別のものであるような使い方もでき、役に立つかもしれません。
この場合、 <code>cons (<var>expr_1</var>, <var>expr_2</var>)</code>は
<var>expr_2</var>と同じ演算子に引数 <code>cons(expr_1, args(expr_2))</code>を渡した式を返します。
例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) cons(a,[b,c,d]);
(%o1)                     [a, b, c, d]
(%i2) cons(a,f(b,c,d));
(%o2)                     f(a, b, c, d)
</pre></td></tr></table>
<p>一般的にはリストでないものに適用した <code>cons</code>は意味がありません。
例えば、'^'は3つの引数を取れないので <code>cons(a,b^c)</code>は違法な式になります。
</p>
<p><code>inflag</code>が真の時、 <code>cons</code>は式の内部構造上に演算し、そうでなければ
<code>cons</code>は表示形式上に演算します。
特に <code>inflag</code>が真の時、リストでないものに適用されあt <code>cons</code>は時々驚くべき結果を与えます;
例えば
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) cons(a,-a), inflag : true;
                                 2
(%o1)                         - a
(%i2) cons(a,-a), inflag : false;
(%o2)                           0
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="copylist"></a>
<a name="Item_003a-copylist"></a>
</p><dl>
<dt><u>関数:</u> <b>copylist</b><i> (<var>list</var>)</i>
<a name="IDX110"></a>
</dt>
<dd><p>リスト <var>list</var>のコピーを返します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p></dd></dl>

<p><a name="create_005flist"></a>
<a name="Item_003a-create_005flist"></a>
</p><dl>
<dt><u>関数:</u> <b>create_list</b><i> (<var>form</var>, <var>x_1</var>, <var>list_1</var>, &hellip;, <var>x_n</var>, <var>list_n</var>)</i>
<a name="IDX111"></a>
</dt>
<dd><p><var>list_1</var>の要素それぞれにバインドされた <var>x_1</var>で、
また、それぞれのバインドに対して、
<var>x_2</var>を <var>list_2</var>の要素それぞれにバインドして、...
それらのバインドを使って <var>form</var>を評価することによって
リストを生成します。
結果の要素の数はそれぞれのリストの要素の数の積です。
それぞれの変数 <var>x_i</var>は実際に、シンボルでなければいけません。ーそれは評価されません。
リスト引数は繰り返しの始めに一度だけ評価されます。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) create_list(x^i,i,[1,3,7]);
                 3   7
(%o1)       [x, x , x ]
</pre></td></tr></table>

<p>二重の繰り返しで:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) create_list([i,j],i,[a,b],j,[e,f,h]);
(%o1) [[a, e], [a, f], [a, h], [b, e], [b, f], [b, h]]
</pre></td></tr></table>
<p><var>list_i</var>の代わりに、
それぞれが数に評価される２つの引数を供給することもできます。
これらは繰り返しの下限と上限になります。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) create_list([i,j],i,[1,2,3],j,1,i);
(%o1) [[1, 1], [2, 1], [2, 2], [3, 1], [3, 2], [3, 3]]
</pre></td></tr></table>
<p><code>j</code>変数の範囲やリストは <code>i</code>の現在値に依存することができることに注意してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p></dd></dl>

<p><a name="delete"></a>
<a name="Item_003a-delete"></a>
</p><dl>
<dt><u>関数:</u> <b>delete</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>delete</tt> (<var>expr_1</var>, <var>expr_2</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>delete</tt> (<var>expr_1</var>, <var>expr_2</var>, <var>n</var>)</i>
<a name="IDX112"></a>
</dt>
<dd><p><code>delete(<var>expr_1</var>, <var>expr_2</var>)</code>は、
<var>expr_2</var>から
そのトップレベル演算子の引数のうち、
<var>expr_1</var>と(&quot;=&quot;で決定される意味で)同じ引数を取り除きます。
&quot;=&quot;は、同値ではなく、形式的な同一をテストすることに注意してください。
部分式の引数には影響しないことにも注意してください。
</p>
<p><var>expr_1</var>はアトムか、非アトムの式を取り得ます。
<var>expr_2</var>は任意の非アトムの式を取り得ます。
<code>delete</code>は新しい式を返します;
<var>expr_2</var>を変更しません。
</p>
<p><code>delete(<var>expr_1</var>, <var>expr_2</var>, <var>n</var>)</code>は、
</p>
<p><var>expr_2</var>から
そのトップレベル演算子の引数のうち、
<var>expr_1</var>と同じ最初の
<var>n</var>個の引数を取り除きます。
もしそんな引数が <var>n</var>個より少ないなら、
該当するすべての引数が取り除かれます。
</p>
<p>例:
</p>
<p>リストから要素を削除。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) delete (y, [w, x, y, z, z, y, x, w]);
(%o1)                  [w, x, z, z, x, w]
</pre></td></tr></table>
<p>和から項を削除。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) delete (sin(x), x + sin(x) + y);
(%o1)                         y + x
</pre></td></tr></table>
<p>積から因子を削除。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) delete (u - x, (u - w)*(u - x)*(u - y)*(u - z));
(%o1)                (u - w) (u - y) (u - z)
</pre></td></tr></table>
<p>任意の式から引数を削除。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) delete (a, foo (a, b, c, d, a));
(%o1)                     foo(b, c, d)
</pre></td></tr></table>
<p>削除する引数の数を制限。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) delete (a, foo (a, b, a, c, d, a), 2);
(%o1)                    foo(b, c, d, a)
</pre></td></tr></table>
<p>引数が <var>expr_1</var>と同じかどうかは&quot;=&quot;で決定されます。
<code>equal</code>ですが、&quot;=&quot;でない引数は取り除かれません。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) [is(equal(0, 0)), is(equal(0, 0.0)), is(equal(0, 0b0))];
(%o1)                  [true, true, true]
(%i2) [is (0 = 0), is (0 = 0.0), is (0 = 0b0)];
(%o2)                 [true, false, false]
(%i3) delete (0, [0, 0.0, 0b0]);
(%o3)                     [0.0, 0.0b0]
(%i4) is (equal ((x + y)*(x - y), x^2 - y^2));
(%o4)                         true
(%i5) is ((x + y)*(x - y) = x^2 - y^2);
(%o5)                         false
(%i6) delete ((x + y)*(x - y), [(x + y)*(x - y), x^2 - y^2]);
                              2    2
(%o6)                       [x  - y ]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="eighth"></a>
<a name="Item_003a-eighth"></a>
</p><dl>
<dt><u>関数:</u> <b>eighth</b><i> (<var>expr</var>)</i>
<a name="IDX113"></a>
</dt>
<dd><p>式またはリスト <var>expr</var>の8番目の項を返します。
詳細は <code>first</code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>


<p><a name="endcons"></a>
<a name="Item_003a-endcons"></a>
</p><dl>
<dt><u>関数:</u> <b>endcons</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>endcons</tt> (<var>expr</var>, <var>list</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>endcons</tt> (<var>expr_1</var>, <var>expr_2</var>)</i>
<a name="IDX114"></a>
</dt>
<dd><p><code>endcons (<var>expr</var>, <var>list</var>)</code>は<var>list</var>の要素に <var>expr</var>が続くように構成された新しいリストを返します。
Maxima 関数 <code>endcons</code>は二番目の引数がリストとは別のものであるような使い方もでき、役に立つかもしれません。 この場合、
<code>endcons (<var>expr_1</var>, <var>expr_2</var>)</code>は <var>expr_2</var>と同じ演算子に引数  <code>endcons(expr_1, args(expr_2))</code>を渡した式を返します。
例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) endcons(a,[b,c,d]);
(%o1)                     [b, c, d, a]
(%i2) endcons(a,f(b,c,d));
(%o2)                     f(b, c, d, a)
</pre></td></tr></table>
<p>一般的にはリストでないものに適用した <code>endcons</code>は意味がありません。
例えば、'^'は3つの引数を取れないので <code>endcons(a,b^c)</code>は違法な式になります。
</p>
<p><code>inflag</code>が真の時、 <code>endcons</code>は式の内部構造上に演算し、そうでなければ
<code>endcons</code>は表示形式上に演算します。
特に <code>inflag</code>が真の時、リストでないものに適用されあt <code>endcons</code>は時々驚くべき結果を与えます;
例えば
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) endcons(a,-a), inflag : true;
                                 2
(%o1)                         - a
(%i2) endcons(a,-a), inflag : false;
(%o2)                           0
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>


<p><a name="fifth"></a>
<a name="Item_003a-fifth"></a>
</p><dl>
<dt><u>関数:</u> <b>fifth</b><i> (<var>expr</var>)</i>
<a name="IDX115"></a>
</dt>
<dd><p>式またはリスト <var>expr</var>の5番目の項を返します。
詳細は <code><a href="#first">first</a></code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="first"></a>
<a name="Item_003a-first"></a>
</p><dl>
<dt><u>関数:</u> <b>first</b><i> (<var>expr</var>)</i>
<a name="IDX116"></a>
</dt>
<dd><p>リストの最初の要素、行列の最初の行、和の最初の項などに帰着する、
<var>expr</var>の最初の部分を返します:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) matrix([1,2],[3,4]);
                                   [ 1  2 ]
(%o1)                              [      ]
                                   [ 3  4 ]
(%i2) first(%);
(%o2)                              [1,2]
(%i3) first(%);
(%o3)                              1
(%i4) first(a*b/c+d+e/x);
                                   a b
(%o4)                              ---
                                    c
(%i5) first(a=b/c+d+e/x);
(%o5)                              a
</pre></td></tr></table>
<p><code>first</code>とその関連関数 <code>rest</code>と <code>last</code>は、
入力時にタイプした形式ではなく、 <var>expr</var>の表示形式上で機能することに注意してください。
しかしながら、もし変数 <code>inflag</code>が <code>true</code>に設定されているなら、
これらの関数は <var>expr</var>の内部形式を見ます。
これが違いを生む理由の1つは、整理器が式を並べ替えするからです:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) x+y;
(%o1)                              y+1
(%i2) first(x+y),inflag : true;
(%o2)                              x
(%i3) first(x+y),inflag : false;
(%o3)                              y
</pre></td></tr></table>
<p>関数 <code>second</code> &hellip; <code>tenth</code>は
入力引数の二番目から十番目の部分をもたらします。
</p>
<p><code><a href="#firstn">firstn</a></code>, <code><a href="maxima_6.html#part">part</a></code>も参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="firstn"></a>
<a name="Item_003a-firstn"></a>
</p><dl>
<dt><u>関数:</u> <b>firstn</b><i> (<var>expr</var>, <var>count</var>)</i>
<a name="IDX117"></a>
</dt>
<dd><p>もし <var>expr</var>が少なくとも <var>count</var>個の引数を持つなら、
<var>expr</var>の、先頭から <var>count</var>個のの引数を返します。
もし <var>expr</var> <var>count</var>個より少ないの引数を持つなら、
<var>expr</var>を返します。
</p>
<p><var>expr</var>はノンアトミックな任意の式です。
<var>expr</var>がリスト以外の何かの時、
<code>firstn</code>は
<var>expr</var>と同じ演算子を持つ式を返します。
<var>count</var>は非負整数でなければいけません。
</p>
<p><code>firstn</code>は、
式の内部形式が処理されるか(<code>inflag</code>がtrueの時)、
表示形式が処理されるか(<code>inflag</code>がfalseの時)を決定する
大域フラグ <code>inflag</code>に従います。
</p>

<p><code>firstn(<var>expr</var>, 1)</code>は最初の引数を含むノンアトミックな式を返しますが、
それは、
最初の引数そのものを返す <code>first(<var>expr</var>)</code>とは同じでないことに
注意してください。
</p>
<p><code><a href="#lastn">lastn</a></code>, <code><a href="#rest">rest</a></code>も参照してください。
</p>
<p>例:
</p>
<p>もし <var>expr</var>が少なくとも <var>count</var>個の引数を持つなら、
<code>firstn</code>は
、<var>expr</var>の先頭から <var>count</var>個の要素を返します。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) mylist : [1, a, 2, b, 3, x, 4 - y, 2*z + sin(u)];
(%o1)        [1, a, 2, b, 3, x, 4 - y, 2 z + sin(u)]
(%i2) firstn (mylist, 0);
(%o2)                          []
(%i3) firstn (mylist, 1);
(%o3)                          [1]
(%i4) firstn (mylist, 2);
(%o4)                        [1, a]
(%i5) firstn (mylist, 7);
(%o5)               [1, a, 2, b, 3, x, 4 - y]
</pre></td></tr></table>
<p>もし <var>expr</var> <var>count</var>個より少ないの引数を持つなら、
<var>expr</var>を返します。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) mylist : [1, a, 2, b, 3, x, 4 - y, 2*z + sin(u)];
(%o1)        [1, a, 2, b, 3, x, 4 - y, 2 z + sin(u)]
(%i2) firstn (mylist, 100);
(%o2)        [1, a, 2, b, 3, x, 4 - y, 2 z + sin(u)]
</pre></td></tr></table>
<p><var>expr</var>はノンアトミックな任意の式です。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) myfoo : foo(1, a, 2, b, 3, x, 4 - y, 2*z + sin(u));
(%o1)      foo(1, a, 2, b, 3, x, 4 - y, 2 z + sin(u))
(%i2) firstn (myfoo, 4);
(%o2)                    foo(1, a, 2, b)
(%i3) mybar : bar[m, n](1, a, 2, b, 3, x, 4 - y, 2*z + sin(u));
(%o3)    bar    (1, a, 2, b, 3, x, 4 - y, 2 z + sin(u))
            m, n
(%i4) firstn (mybar, 4);
(%o4)                  bar    (1, a, 2, b)
                          m, n
(%i5) mymatrix : genmatrix (lambda ([i, j], 10*i + j), 10, 4) $
(%i6) firstn (mymatrix, 3);
                       [ 11  12  13  14 ]
                       [                ]
(%o6)                  [ 21  22  23  24 ]
                       [                ]
                       [ 31  32  33  34 ]
</pre></td></tr></table>
<p><code>firstn</code>は大域フラグ <code>inflag</code>に従います。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) myexpr : a + b + c + d + e;
(%o1)                   e + d + c + b + a
(%i2) firstn (myexpr, 3), inflag=true;
(%o2)                       c + b + a
(%i3) firstn (myexpr, 3), inflag=false;
(%o3)                       e + d + c
</pre></td></tr></table>
<p><code>firstn(<var>expr</var>, 1)</code>は
<code>first(<var>expr</var>)</code>と同じじゃないことに注意してください。。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) firstn ([w, x, y, z], 1);
(%o1)                          [w]
(%i2) first ([w, x, y, z]);
(%o2)                           w
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="fourth"></a>
<a name="Item_003a-fourth"></a>
</p><dl>
<dt><u>関数:</u> <b>fourth</b><i> (<var>expr</var>)</i>
<a name="IDX118"></a>
</dt>
<dd><p>式またはリスト <var>expr</var>の4番目の項を返します。
詳細は <code><a href="#first">first</a></code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="join"></a>
<a name="Item_003a-join"></a>
</p><dl>
<dt><u>関数:</u> <b>join</b><i> (<var>l</var>, <var>m</var>)</i>
<a name="IDX119"></a>
</dt>
<dd><p>リスト<var>l</var>と<var>m</var>の要素を交互に含む新しいリストを生成します。
結果は、要素 <code>[<var>l</var>[1], <var>m</var>[1], <var>l</var>[2], <var>m</var>[2], ...]</code>を持ちます。
リスト <var>l</var>と <var>m</var>は、任意のタイプの要素を含めます。
</p>
<p>もしリストの長さが違ったら、
<code>join</code>は長いリストの要素を無視します。
</p>
<p>もし <var>l</var>か <var>m</var>がリストでなかったら、
Maximaは文句を言います。
</p>
<p><code><a href="#append">append</a></code>も参照してください。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) L1: [a, sin(b), c!, d - 1];
(%o1)                [a, sin(b), c!, d - 1]
(%i2) join (L1, [1, 2, 3, 4]);
(%o2)          [a, 1, sin(b), 2, c!, 3, d - 1, 4]
(%i3) join (L1, [aa, bb, cc, dd, ee, ff]);
(%o3)        [a, aa, sin(b), bb, c!, cc, d - 1, dd]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p></dd></dl>


<p><a name="last"></a>
<a name="Item_003a-last"></a>
</p><dl>
<dt><u>関数:</u> <b>last</b><i> (<var>expr</var>)</i>
<a name="IDX120"></a>
</dt>
<dd><p><var>expr</var>最後の(項、行、要素など）部分を返します。
</p>
<p><code><a href="#lastn">lastn</a></code>も参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>


<p><a name="lastn"></a>
<a name="Item_003a-lastn"></a>
</p><dl>
<dt><u>関数:</u> <b>lastn</b><i> (<var>expr</var>, <var>count</var>)</i>
<a name="IDX121"></a>
</dt>
<dd><p>もし <var>expr</var>が少なくとも <var>count</var>個の引数をもつなら、
<var>expr</var>の後ろから<var>count</var>個の引数を返します。
もし <var>expr</var>が <var>count</var>個より少ない引数をもつなら、
<var>expr</var>を返します。
</p>
<p><var>expr</var>はノンアトミックな任意の式です。
<var>expr</var>がリスト以外の何かの時、
<code>lastn</code>は<var>expr</var>と同じ演算子を持つ式を返します。
<var>count</var>は非負の整数でなければいけません。
</p>
<p><code>lastn</code>は
式の内部形式が処理されるか(<code>inflag</code>がtrueの時)、
表示形式が処理されるか(<code>inflag</code>がfalseの時)を決定する
大域フラグ <code>inflag</code>に従います。
</p>
<p>Note that
<code>lastn(<var>expr</var>, 1)</code>は最後の引数を含むノンアトミックな式を返しますが、
それは、
最後の引数自体を返す <code>last(<var>expr</var>)</code>とは同じでないことに注意してください。
</p>
<p><code><a href="#firstn">firstn</a></code>と <code><a href="#rest">rest</a></code>も参照してください。
</p>
<p>例:
</p>
<p>もし <var>expr</var>が少なくとも <var>count</var>個の引数をもつなら、
<var>expr</var>の後ろから<var>count</var>個の要素を返します。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) mylist : [1, a, 2, b, 3, x, 4 - y, 2*z + sin(u)];
(%o1)        [1, a, 2, b, 3, x, 4 - y, 2 z + sin(u)]
(%i2) lastn (mylist, 0);
(%o2)                          []
(%i3) lastn (mylist, 1);
(%o3)                    [2 z + sin(u)]
(%i4) lastn (mylist, 2);
(%o4)                 [4 - y, 2 z + sin(u)]
(%i5) lastn (mylist, 7);
(%o5)         [a, 2, b, 3, x, 4 - y, 2 z + sin(u)]
</pre></td></tr></table>
<p>もし <var>expr</var>が <var>count</var>個より少ない引数をもつなら、
<var>expr</var>を返します。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) mylist : [1, a, 2, b, 3, x, 4 - y, 2*z + sin(u)];
(%o1)        [1, a, 2, b, 3, x, 4 - y, 2 z + sin(u)]
(%i2) lastn (mylist, 100);
(%o2)        [1, a, 2, b, 3, x, 4 - y, 2 z + sin(u)]
</pre></td></tr></table>
<p><var>expr</var>はノンアトミックな任意の式です。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) myfoo : foo(1, a, 2, b, 3, x, 4 - y, 2*z + sin(u));
(%o1)      foo(1, a, 2, b, 3, x, 4 - y, 2 z + sin(u))
(%i2) lastn (myfoo, 4);
(%o2)            foo(3, x, 4 - y, 2 z + sin(u))
(%i3) mybar : bar[m, n](1, a, 2, b, 3, x, 4 - y, 2*z + sin(u));
(%o3)    bar    (1, a, 2, b, 3, x, 4 - y, 2 z + sin(u))
            m, n
(%i4) lastn (mybar, 4);
(%o4)          bar    (3, x, 4 - y, 2 z + sin(u))
                  m, n
(%i5) mymatrix : genmatrix (lambda ([i, j], 10*i + j), 10, 4) $
(%i6) lastn (mymatrix, 3);
                     [ 81   82   83   84  ]
                     [                    ]
(%o6)                [ 91   92   93   94  ]
                     [                    ]
                     [ 101  102  103  104 ]
</pre></td></tr></table>
<p><code>lastn</code>は大域フラグ <code>inflag</code>に従います。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) myexpr : a + b + c + d + e;
(%o1)                   e + d + c + b + a
(%i2) lastn (myexpr, 3), inflag=true;
(%o2)                       e + d + c
(%i3) lastn (myexpr, 3), inflag=false;
(%o3)                       c + b + a
</pre></td></tr></table>
<p><code>lastn(<var>expr</var>, 1)</code>は <code>last(<var>expr</var>)</code>と同じでないことに注意してください。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) lastn ([w, x, y, z], 1);
(%o1)                          [z]
(%i2) last ([w, x, y, z]);
(%o2)                           z
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="length"></a>
<a name="Item_003a-length"></a>
</p><dl>
<dt><u>関数:</u> <b>length</b><i> (<var>expr</var>)</i>
<a name="IDX122"></a>
</dt>
<dd><p>(デフォルトでは) <var>expr</var>の外部(表示)形式の部分の数を返します。
リストに関しては、これは要素の数を返し、
行列に関しては行数であり、
和に関しては項数です。
(<code><a href="maxima_6.html#dispform">dispform</a></code>を参照してください。)
</p>
<p><code>length</code>コマンドは <code><a href="maxima_6.html#inflag">inflag</a></code>スイッチに影響されます。
だから例えば、 <code>length(a/(b*c));</code>は、
 (<code><a href="maxima_4.html#exptdispflag">exptdispflag</a></code>が <code>true</code>と仮定して)
もし <code>inflag</code>が <code>false</code>なら2を与えますが、
もし <code>inflag</code>が <code>true</code>なら3を与えます。
 (内部表現は本質的には <code>a*b^-1*c^-1</code>です。)
</p>
<p>リストの長さを決定するには通常リストの要素の数に比例する時間が必要です。
なので、もしループの中でリストの長さを使っているなら、ループの外で長さを計算させれば
劇的にパフォーマンスが改善されるかもしれません。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="listarith"></a>
<a name="Item_003a-listarith"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>listarith</b>
<a name="IDX123"></a>
</dt>
<dd><p>デフォルト値: <code>true</code> - もし <code>false</code>なら、
リストを伴う任意の算術演算が抑制されるようになります;
<code>true</code>の時、リスト-行列演算では、
リストが行列に変換されるようになり、いつも行列の結果をもたらすよう連鎖します。
しかしながら、リスト-リスト演算はリストを返します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Global-flags">Global flags</a>
</div>
</p>
</dd></dl>

<p><a name="Item_003a-listp"></a>
</p><dl>
<dt><u>関数:</u> <b>listp</b><i> (<var>expr</var>)</i>
<a name="IDX124"></a>
</dt>
<dd><p>もし <var>expr</var>がリストなら <code>true</code>、
そうでなければ <code>false</code>を返します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p></dd></dl>

<p><a name="lreduce"></a>
<a name="Item_003a-lreduce"></a>
</p><dl>
<dt><u>関数:</u> <b>lreduce</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>lreduce</tt> (<var>F</var>, <var>s</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>lreduce</tt> (<var>F</var>, <var>s</var>, <var>s_0</var>)</i>
<a name="IDX125"></a>
</dt>
<dd><p>2項関数 <var>F</var>を合成で n項関数に拡張します。
<var>s</var>はリストです。
</p>
<p><code>lreduce(<var>F</var>, <var>s</var>)</code>は
<code>F(... F(F(s_1, s_2), s_3), ... s_n)</code>を返します。
オプション引数 <var>s_0</var>を与えた時には、
結果は <code>lreduce(<var>F</var>, cons(<var>s_0</var>, <var>s</var>))</code>と同値です。
</p>
<p>関数 <var>F</var>はリストの<i>leftmost</i>要素に最初に適用されるので
&quot;lreduce&quot;という名前です。
</p>
<p><code><a href="#rreduce">rreduce</a></code>, <code><a href="#xreduce">xreduce</a></code>, <code><a href="#tree_005freduce">tree_reduce</a></code>も参照してください。
</p>
<p>例:
</p>
<p>オプション引数なしの <code>lreduce</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) lreduce (f, [1, 2, 3]);
(%o1)                     f(f(1, 2), 3)
(%i2) lreduce (f, [1, 2, 3, 4]);
(%o2)                  f(f(f(1, 2), 3), 4)
</pre></td></tr></table>
<p>オプション引数ありの <code>lreduce</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) lreduce (f, [1, 2, 3], 4);
(%o1)                  f(f(f(4, 1), 2), 3)
</pre></td></tr></table>
<p>組み込み2項演算子に適用された <code>lreduce</code>。
<code>/</code>は除算演算子です。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) lreduce (&quot;^&quot;, args ({a, b, c, d}));
                               b c d
(%o1)                       ((a ) )
(%i2) lreduce (&quot;/&quot;, args ({a, b, c, d}));
                                a
(%o2)                         -----
                              b c d
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p>
</dd></dl>

<p><a name="makelist"></a>
<a name="Item_003a-makelist"></a>
</p><dl>
<dt><u>関数:</u> <b>makelist</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>makelist</tt> () &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>makelist</tt> (<var>expr</var>, <var>n</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>makelist</tt> (<var>expr</var>, <var>i</var>, <var>i_max</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>makelist</tt> (<var>expr</var>, <var>i</var>, <var>i_0</var>, <var>i_max</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>makelist</tt> (<var>expr</var>, <var>i</var>, <var>i_0</var>, <var>i_max</var>, <var>step</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>makelist</tt> (<var>expr</var>, <var>x</var>, <var>list</var>)</i>
<a name="IDX126"></a>
</dt>
<dd><p>一番目の形 <code>makelist ()</code>は空のリストを生成します。
二番目の形 <code>makelist (<var>expr</var>)</code>は
<var>expr</var>を1つの要素とするリストを生成します。
<code>makelist (<var>expr</var>, <var>n</var>)</code>は
<var>expr</var>から生成される <var>n</var>個の要素のリストを生成します。
</p>
<p>最も一般的な形 <code>makelist (<var>expr</var>, <var>i</var>, <var>i_0</var>, <var>i_max</var>,
<var>step</var>)</code>は
<var>i_0</var>から <var>i_1</var>に等しい <code>j</code>に対して
<code>ev (<var>expr</var>, <var>i</var>=<var>j</var>)</code>が以下の数列の要素 <code>j</code>に
適用された時得られる要素のリストを返します:
<var>i_0</var>, <var>i_0</var> + <var>step</var>, <var>i_0</var> + 2*<var>step</var>, ...,
ただし、<var>|j|</var>は<var>|i_max|</var>以下。
</p>
<p>増分 <var>step</var>は(正でも負でも)数であったり、式であったりします。
もし省略されたら、デフォルト値 1が使われます。
もし <var>i_0</var>と <var>step</var>の両方が省略されたら、
それらはデフォルト値 1を取ります。
</p>
<p><code>makelist (<var>expr</var>, <var>x</var>, <var>list</var>)</code>は、
1から <code>length (<var>list</var>)</code>に等しい <code>j</code>に対して、
<code>j</code>番目の要素が <code>ev (<var>expr</var>, <var>x</var>=<var>list</var>[j])</code>に等しい
リストを返します。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) makelist (concat (x,i), i, 6);
(%o1)               [x1, x2, x3, x4, x5, x6]
(%i2) makelist (x=y, y, [a, b, c]);
(%o2)                 [x = a, x = b, x = c]
(%i3) makelist (x^2, x, 3, 2*%pi, 2);
(%o3)                        [9, 25]
(%i4) makelist (random(6), 4);
(%o4)                     [2, 0, 2, 5]
(%i5) flatten (makelist (makelist (i^2, 3), i, 4));
(%o5)        [1, 1, 1, 4, 4, 4, 9, 9, 9, 16, 16, 16]
(%i6) flatten (makelist (makelist (i^2, i, 3), 4));
(%o6)         [1, 4, 9, 1, 4, 9, 1, 4, 9, 1, 4, 9]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p></dd></dl>

<p><a name="member"></a>
<a name="Item_003a-member"></a>
</p><dl>
<dt><u>関数:</u> <b>member</b><i> (<var>expr_1</var>, <var>expr_2</var>)</i>
<a name="IDX127"></a>
</dt>
<dd><p>もし
<code>args(<var>expr_2</var>)</code>の中のある要素<var>a</var>に対して
<code>is(<var>expr_1</var> = <var>a</var>)</code>なら
<code>true</code>を返し、
そうでなければ <code>false</code>を返します。
</p>
<p><code>expr_2</code>は通常リストです。
その場合、 <code>args(<var>expr_2</var>) = <var>expr_2</var></code>かつ
<code>expr_2</code>の中のある要素 <var>a</var>に対して、
<code>is(<var>expr_1</var> = <var>a</var>)</code>であることがテストです。
</p>
<p><code>member</code>は
<code>expr_2</code>の引数の部分を検査しません。
だから、
たとえ <code>expr_1</code>が <code>expr_2</code>のある引数の部分であっても
<code>false</code>を返すかもしれません。
</p>
<p><code><a href="maxima_35.html#elementp">elementp</a></code>も参照してください。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) member (8, [8, 8.0, 8b0]);
(%o1)                         true
(%i2) member (8, [8.0, 8b0]);
(%o2)                         false
(%i3) member (b, [a, b, c]);
(%o3)                         true
(%i4) member (b, [[a, b], [b, c]]);
(%o4)                         false
(%i5) member ([b, c], [[a, b], [b, c]]);
(%o5)                         true
(%i6) F (1, 1/2, 1/4, 1/8);
                               1  1  1
(%o6)                     F(1, -, -, -)
                               2  4  8
(%i7) member (1/8, %);
(%o7)                         true
(%i8) member (&quot;ab&quot;, [&quot;aa&quot;, &quot;ab&quot;, sin(1), a + b]);
(%o8)                         true
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a> &middot;
<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p></dd></dl>

<p><a name="ninth"></a>
<a name="Item_003a-ninth"></a>
</p><dl>
<dt><u>関数:</u> <b>ninth</b><i> (<var>expr</var>)</i>
<a name="IDX128"></a>
</dt>
<dd><p>式またはリスト <var>expr</var>の9番目の項を返します。
詳細は <code>first</code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="pop"></a>
<a name="Item_003a-pop"></a>
</p><dl>
<dt><u>関数:</u> <b>pop</b><i> (<var>list</var>)</i>
<a name="IDX129"></a>
</dt>
<dd><p><code>pop</code>は、リスト <var>list</var>から最初の要素を取り除き、返します。
引数 <var>list</var>は空でないリストにバインドされたmapatomでなければいけません。
もし引数 <var>list</var>が空でないリストにバインドされてなければ、
Maximaはエラーシグナルを発します。
</p>
<p>例には <code><a href="#push">push</a></code>も参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="push"></a>
<a name="Item_003a-push"></a>
</p><dl>
<dt><u>関数:</u> <b>push</b><i> (<var>item</var>, <var>list</var>)</i>
<a name="IDX130"></a>
</dt>
<dd><p><code>push</code>は項目 <var>item</var>をリスト <var>list</var>の先頭に追加し、
新しいリストのコピーを返します。
2番目の引数 <var>list</var>は空でないリストにバインドされたmapatomでなければいけません。
1番目の引数 <var>item</var>は任意のMaximaシンボルや式が使えます。
</p>
<p>もし引数 <var>list</var>が空でないリストにバインドされてなければ、
Maximaはエラーシグナルを発します。
</p>
<p>リストから最初の項目を取り除くには <code><a href="#pop">pop</a></code>を参照してください。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) ll: [];
(%o1)                          []
(%i2) push (x, ll);
(%o2)                          [x]
(%i3) push (x^2+y, ll);
                                 2
(%o3)                      [y + x , x]
(%i4) a: push (&quot;string&quot;, ll);
                                     2
(%o4)                  [string, y + x , x]
(%i5) pop (ll);
(%o5)                        string
(%i6) pop (ll);
                                  2
(%o6)                        y + x
(%i7) pop (ll);
(%o7)                           x
(%i8) ll;
(%o8)                          []
(%i9) a;
                                     2
(%o9)                  [string, y + x , x]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="rest"></a>
<a name="Item_003a-rest"></a>
</p><dl>
<dt><u>関数:</u> <b>rest</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>rest</tt> (<var>expr</var>, <var>n</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>rest</tt> (<var>expr</var>)</i>
<a name="IDX131"></a>
</dt>
<dd><p>もし <var>n</var>が正なら、
頭の <var>n</var>個の要素を取り除いた
<var>expr</var>を返し、
もし <var>n</var>が負なら、
お尻の <code>- <var>n</var></code>個の要素を取り除いた
<var>expr</var>を返します。
もし <var>n</var>が1なら、省略できます。
1番目の引数 <var>expr</var>は、リスト、行列、他の式を取り得ます。
<var>expr</var>がアトムの時、 <code>rest</code>はエラーシグナルを発します;
<var>expr</var>が 空のリストで <code>partswitch</code>が真の時、 <code>rest</code>は <code>end</code>を返します。
</p>
<p><code>rest</code>を <code>f(a,b,c)</code>のような式に適用すると <code>f(b,c)</code>を返します。
一般的には、リストでないものに <code>rest</code>を適用することは意味がありません。
例えば、 '^'は2つの引数を要求するので、
<code>rest(a^b)</code>はエラーメッセージを出力します。
<code>args(a^b)</code>は <code>[a,b]</code>を返し、 <code>op(a^b)</code>は ^を返すので
関数 <code>args</code>と <code>op</code>も役に立つかもしれません
</p>
<p><code><a href="#firstn">firstn</a></code>と <code><a href="#lastn">lastn</a></code>も参照してください。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) rest(a+b+c);
(%o1) b+a
(%i2) rest(a+b+c,2);
(%o2) a
(%i3) rest(a+b+c,-2);
(%o3) c
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>


<p><a name="reverse"></a>
<a name="Item_003a-reverse"></a>
</p><dl>
<dt><u>関数:</u> <b>reverse</b><i> (<var>list</var>)</i>
<a name="IDX132"></a>
</dt>
<dd><p><var>list</var> のメンバーの順序を逆にします。
(メンバー自身は変えません。)
 <code>reverse</code>は、一般式でも機能します。
例えば、 <code>reverse(a=b);</code>は <code>b=a</code>を与えます。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="rreduce"></a>
<a name="Item_003a-rreduce"></a>
</p><dl>
<dt><u>関数:</u> <b>rreduce</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>rreduce</tt> (<var>F</var>, <var>s</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>rreduce</tt> (<var>F</var>, <var>s</var>, <var>s_{n + 1}</var>)</i>
<a name="IDX133"></a>
</dt>
<dd><p>2項関数 <var>F</var>を合成でn項関数に拡張します。
<var>s</var>はリストです。
</p>
<p><code>rreduce(<var>F</var>, <var>s</var>)</code>は
<code>F(s_1, ... F(s_{n - 2}, F(s_{n - 1}, s_n)))</code>を返します。
オプション引数 <var>s_{n + 1}</var>を与えた時には、
結果は
<code>rreduce(<var>F</var>, endcons(<var>s_{n + 1}</var>, <var>s</var>))</code>と同値です。
</p>
<p>関数 <var>F</var>はリストの<i>rightmost</i>要素に最初に適用されるので
&quot;rreduce&quot;という名前です。
</p>
<p><code><a href="#lreduce">lreduce</a></code>, <code><a href="#tree_005freduce">tree_reduce</a></code>, <code><a href="#xreduce">xreduce</a></code>も参照してください。
</p>
<p>例:
</p>
<p>オプション引数なしの <code>rreduce</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) rreduce (f, [1, 2, 3]);
(%o1)                     f(1, f(2, 3))
(%i2) rreduce (f, [1, 2, 3, 4]);
(%o2)                  f(1, f(2, f(3, 4)))
</pre></td></tr></table>
<p>オプション引数ありの <code>rreduce</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) rreduce (f, [1, 2, 3], 4);
(%o1)                  f(1, f(2, f(3, 4)))
</pre></td></tr></table>
<p>組み込み2項演算子に適用された <code>rreduce</code>。
<code>/</code>は除算演算子です。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) rreduce (&quot;^&quot;, args ({a, b, c, d}));
                                 d
                                c
                               b
(%o1)                         a
(%i2) rreduce (&quot;/&quot;, args ({a, b, c, d}));
                               a c
(%o2)                          ---
                               b d
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p>
</dd></dl>

<p><a name="second"></a>
<a name="Item_003a-second"></a>
</p><dl>
<dt><u>関数:</u> <b>second</b><i> (<var>expr</var>)</i>
<a name="IDX134"></a>
</dt>
<dd><p>式またはリスト <var>expr</var>の二番目の項を返します。
詳細は <code><a href="#first">first</a></code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="seventh"></a>
<a name="Item_003a-seventh"></a>
</p><dl>
<dt><u>関数:</u> <b>seventh</b><i> (<var>expr</var>)</i>
<a name="IDX135"></a>
</dt>
<dd><p>式またはリスト <var>expr</var>の7番目の項を返します。
詳細は <code><a href="#first">first</a></code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="sixth"></a>
<a name="Item_003a-sixth"></a>
</p><dl>
<dt><u>関数:</u> <b>sixth</b><i> (<var>expr</var>)</i>
<a name="IDX136"></a>
</dt>
<dd><p>式またはリスト <var>expr</var>の6番目の項を返します。
詳細は <code><a href="#first">first</a></code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="sort"></a>
<a name="Item_003a-sort"></a>
</p><dl>
<dt><u>関数:</u> <b>sort</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sort</tt> (<var>L</var>, <var>P</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sort</tt> (<var>L</var>)</i>
<a name="IDX137"></a>
</dt>
<dd><p><code>sort(<var>L</var>, <var>P</var>)</code>は
２つの引数の述語論理<code>P</code>に従ってリスト<var>L</var>をソートします。
<code>P</code>は<var>L</var>の要素上で厳密で弱い順序を定義します。
もし <code>[<var>P</var>(a, b)</code>が <code>true</code>なら、
結果の中で<code>a</code>は <code>b</code>より先に現れます。
もし <code>[<var>P</var>(a, b)</code>も <code>[<var>P</var>(b, a)</code>も <code>true</code>でないなら、
<code>a</code>と <code>b</code>は等価で、入力と同じ順序で結果の中に現れます。
すなわち、 <code>sort</code>は安定ソートです。
</p>
<p>もし<var>L</var>の中のある要素で
<code>[<var>P</var>(a, b)</code>と <code>[<var>P</var>(b, a)</code>両方とも <code>true</code>なら、
<var>P</var>は有効なソート述語論理ではなく、結果は未定義です。
もし <code><var>P</var>(a, b)</code>が <code>true</code>でも <code>false</code>でもない別の何かなら、
<code>sort</code>はエラーをシグナルします。
</p>
<p>述語論理は関数や２値中値演算子の名前として、<code>lambda</code>式として指定されるかもしれません。
もし演算子名として指定するなら、名前を「ダブルクォート」でくくらなければいけません。
</p>
<p>ソートされたリストは新しいオブジェクトとして返されます; <var>L</var>は変更されません。
</p>
<p><code>sort(<var>L</var>)</code>は <code>(<var>L</var>, ordderlessp)</code>と同値です。
</p>
<p><code><a href="maxima_6.html#orderlessp">orderlessp</a></code>が決定するように、デフォルトのソート順序は昇順です。
述語論理 <code>ordergreatp</code>はリストを降順にソートします。
</p>
<p>Maximaのアトムと式すべては、<code>orderlessp</code>と <code>ordergreatp</code>の下で比較可能です。
</p>
<p>演算子 <code>&lt;</code>と <code>&gt;</code>は数、定数、定数式を大きさで順序付けします。
<code>orderlessp</code>と
<code>ordergreatp</code>は数、定数、定数式を大きさで順序付けしないことに注意してください。
</p>
<p>述語論理 <code>ordermagnitudep</code>は <code>&lt;</code>と同じように
数や定数、定数式の順序付けし、
他の要素すべてを<code>orderlessp</code>と同じように順序付けします。
</p>
<p>例:
</p>
<p><code>sort</code>は
リストの要素上で厳密で弱い順序を定義する
引数2つの述語論理<code>P</code>に従ってリスト<var>L</var>をソートします。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) sort ([1, a, b, 2, 3, c], 'orderlessp);
(%o1)                  [1, 2, 3, a, b, c]
(%i2) sort ([1, a, b, 2, 3, c], 'ordergreatp);
(%o2)                  [c, b, a, 3, 2, 1]
</pre></td></tr></table>
<p>述語論理は関数や２値中値演算子の名前として、<code>lambda</code>式として指定されるかもしれません。
もし演算子名として指定するなら、名前を「ダブルクォート」でくくらなければいけません。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) L : [[1, x], [3, y], [4, w], [2, z]];
(%o1)           [[1, x], [3, y], [4, w], [2, z]]
(%i2) foo (a, b) := a[1] &gt; b[1];
(%o2)                 foo(a, b) := a  &gt; b
                                    1    1
(%i3) sort (L, 'foo);
(%o3)           [[4, w], [3, y], [2, z], [1, x]]
(%i4) infix (&quot;&gt;&gt;&quot;);
(%o4)                          &gt;&gt;
(%i5) a &gt;&gt; b := a[1] &gt; b[1];
(%o5)                  (a &gt;&gt; b) := a  &gt; b
                                    1    1
(%i6) sort (L, &quot;&gt;&gt;&quot;);
(%o6)           [[4, w], [3, y], [2, z], [1, x]]
(%i7) sort (L, lambda ([a, b], a[1] &gt; b[1]));
(%o7)           [[4, w], [3, y], [2, z], [1, x]]
</pre></td></tr></table>
<p><code>sort(<var>L</var>)</code>は <code>sort(<var>L</var>, orderlessp)</code>と同値です。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) L : [a, 2*b, -5, 7, 1 + %e, %pi];
(%o1)             [a, 2 b, - 5, 7, %e + 1, %pi]
(%i2) sort (L);
(%o2)             [- 5, 7, %e + 1, %pi, a, 2 b]
(%i3) sort (L, 'orderlessp);
(%o3)             [- 5, 7, %e + 1, %pi, a, 2 b]
</pre></td></tr></table>
<p><code><a href="maxima_6.html#orderlessp">orderlessp</a></code>が決めるようにデフォルトのソート順は昇順です。
述語論理 <code>ordergreatp</code>はリストを降順にソートします。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) L : [a, 2*b, -5, 7, 1 + %e, %pi];
(%o1)             [a, 2 b, - 5, 7, %e + 1, %pi]
(%i2) sort (L);
(%o2)             [- 5, 7, %e + 1, %pi, a, 2 b]
(%i3) sort (L, 'ordergreatp);
(%o3)             [2 b, a, %pi, %e + 1, 7, - 5]
</pre></td></tr></table>
<p>Maximaのアトムや式すべては <code>orderlessp</code>や <code>ordergreatp</code>の下で比較可能です。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) L : [11, -17, 29b0, 9*c, 7.55, foo(x, y), -5/2, b + a];
                                                 5
(%o1)  [11, - 17, 2.9b1, 9 c, 7.55, foo(x, y), - -, b + a]
                                                 2
(%i2) sort (L, orderlessp);
                5
(%o2)  [- 17, - -, 7.55, 11, 2.9b1, b + a, 9 c, foo(x, y)]
                2
(%i3) sort (L, ordergreatp);
                                                  5
(%o3)  [foo(x, y), 9 c, b + a, 2.9b1, 11, 7.55, - -, - 17]
                                                  2
</pre></td></tr></table>
<p>演算子 <code>&lt;</code>と <code>&gt;</code>は数、定数、定数式を大きさで順序付けします。
<code>orderlessp</code>と
<code>ordergreatp</code>は数、定数、定数式を大きさで順序付けしないことに注意してください。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) L : [%pi, 3, 4, %e, %gamma];
(%o1)                [%pi, 3, 4, %e, %gamma]
(%i2) sort (L, &quot;&gt;&quot;);
(%o2)                [4, %pi, 3, %e, %gamma]
(%i3) sort (L, ordergreatp);
(%o3)                [%pi, %gamma, %e, 4, 3]
</pre></td></tr></table>
<p>述語論理 <code>ordermagnitudep</code>は <code>&lt;</code>と同じように
数や定数、定数式の順序付けし、
他の要素すべてを<code>orderlessp</code>と同じように順序付けします。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) L : [%i, 1+%i, 2*x, minf, inf, %e, sin(1), 0, 1, 2, 3, 1.0, 1.0b0];
(%o1) [%i, %i + 1, 2 x, minf, inf, %e, sin(1), 0, 1, 2, 3, 1.0,
                                                           1.0b0]
(%i2) sort (L, ordermagnitudep);
(%o2) [minf, 0, sin(1), 1, 1.0, 1.0b0, 2, %e, 3, inf, %i,
                                                     %i + 1, 2 x]
(%i3) sort (L, orderlessp);
(%o3) [0, 1, 1.0, 2, 3, sin(1), 1.0b0, %e, %i, %i + 1, inf,
                                                       minf, 2 x]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p></dd></dl>

<p><a name="sublist"></a>
<a name="Item_003a-sublist"></a>
</p><dl>
<dt><u>関数:</u> <b>sublist</b><i> (<var>list</var>, <var>p</var>)</i>
<a name="IDX138"></a>
</dt>
<dd><p>述語論理<code>p</code>が<code>true</code>を返す<var>list</var>の要素のリストを返します。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) L: [1, 2, 3, 4, 5, 6];
(%o1)                  [1, 2, 3, 4, 5, 6]
(%i2) sublist (L, evenp);
(%o2)                       [2, 4, 6]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p></dd></dl>

<p><a name="sublist_005findices"></a>
<a name="Item_003a-sublist_005findices"></a>
</p><dl>
<dt><u>関数:</u> <b>sublist_indices</b><i> (<var>L</var>, <var>P</var>)</i>
<a name="IDX139"></a>
</dt>
<dd><p>述語論理 <code>maybe(<var>P</var>(x))</code>が <code>true</code>を返す、
リスト <var>L</var>の要素 <code>x</code>のインデックスを返します;
これは <code>false</code>はもちろん <code>unknown</code>も除外します。
<var>P</var>は関数名かラムダ式を取り得ます。
<var>L</var>はリストリテラルでなければいけません。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) sublist_indices ('[a, b, b, c, 1, 2, b, 3, b],
                       lambda ([x], x='b));
(%o1)                     [2, 3, 7, 9]
(%i2) sublist_indices ('[a, b, b, c, 1, 2, b, 3, b], symbolp);
(%o2)                  [1, 2, 3, 4, 7, 9]
(%i3) sublist_indices ([1 &gt; 0, 1 &lt; 0, 2 &lt; 1, 2 &gt; 1, 2 &gt; 0],
                       identity);
(%o3)                       [1, 4, 5]
(%i4) assume (x &lt; -1);
(%o4)                       [x &lt; - 1]
(%i5) map (maybe, [x &gt; 0, x &lt; 0, x &lt; -2]);
(%o5)                [false, true, unknown]
(%i6) sublist_indices ([x &gt; 0, x &lt; 0, x &lt; -2], identity);
(%o6)                          [2]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p></dd></dl>

<p><a name="tenth"></a>
<a name="Item_003a-tenth"></a>
</p><dl>
<dt><u>関数:</u> <b>tenth</b><i> (<var>expr</var>)</i>
<a name="IDX140"></a>
</dt>
<dd><p>式かリスト <var>expr</var>の10番目の項目を返します。
詳細は <code><a href="#first">first</a></code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="third"></a>
<a name="Item_003a-third"></a>
</p><dl>
<dt><u>関数:</u> <b>third</b><i> (<var>expr</var>)</i>
<a name="IDX141"></a>
</dt>
<dd><p>式かリスト <var>expr</var>の3番目の項目を返します。
詳細は <code><a href="#first">first</a></code>を参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Lists">Lists</a> &middot;
<a href="maxima_106.html#Category_003a-Expressions">Expressions</a>
</div>
</p></dd></dl>

<p><a name="tree_005freduce"></a>
<a name="Item_003a-tree_005freduce"></a>
</p><dl>
<dt><u>関数:</u> <b>tree_reduce</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tree_reduce</tt> (<var>F</var>, <var>s</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tree_reduce</tt> (<var>F</var>, <var>s</var>, <var>s_0</var>)</i>
<a name="IDX142"></a>
</dt>
<dd><p>2項関数 <var>F</var>を合成で n項関数に拡張します。
<var>s</var>は集合かリストです。
</p>
<p><code>tree_reduce</code>は以下と同値です:
隣同士の要素のペアに <var>F</var>を適用して、
新たなリスト <code>[<var>F</var>(<var>s_1</var>, <var>s_2</var>), <var>F</var>(<var>s_3</var>, <var>s_4</var>), ...]</code>を形成します。
もし要素の数が奇数なら最後の要素はそのままリストに載ります。
そして、リストが要素1つになるまで繰り返します。その結果が戻り値です。
</p>
<p>オプション引数 <var>s_0</var>を与えた時には、
結果は <code>tree_reduce(<var>F</var>, cons(<var>s_0</var>, <var>s</var>))</code>と同値です。
</p>
<p>浮動小数点数の加算に関して、
<code>tree_reduce</code>は、<code>rreduce</code>や
<code>lreduce</code>よりも小さな丸め誤差の和を返すことができます。
</p>
<p><var>s</var>の要素と部分的な結果を深さ最小2分木で整理できるので、
&quot;tree_reduce&quot;という名前です。
</p>
<p>例:
</p>
<p>偶数個の要素を持つリストに適用された <code>tree_reduce</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) tree_reduce (f, [a, b, c, d]);
(%o1)                  f(f(a, b), f(c, d))
</pre></td></tr></table>
<p>奇数個の要素を持つリストに適用された <code>tree_reduce</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) tree_reduce (f, [a, b, c, d, e]);
(%o1)               f(f(f(a, b), f(c, d)), e)
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Sets">Sets</a> &middot;
<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p>
</dd></dl>

<p><a name="unique"></a>
<a name="Item_003a-unique"></a>
</p><dl>
<dt><u>関数:</u> <b>unique</b><i> (<var>L</var>)</i>
<a name="IDX143"></a>
</dt>
<dd><p>リスト <var>L</var>の重複しない要素を返します。
</p>
<p><var>L</var>の要素すべてが重複しない時、
<code>unique</code>は、
<var>L</var>自身ではなく、
<var>L</var>の浅いコピーを返します。
</p>
<p>もし <var>L</var>がリストでないなら、
<code>unique</code>は<var>L</var>を返します。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) unique ([1, %pi, a + b, 2, 1, %e, %pi, a + b, [1]]);
(%o1)              [1, 2, %e, %pi, [1], b + a]
</pre></td></tr></table></dd></dl>

<p><a name="xreduce"></a>
<a name="Item_003a-xreduce"></a>
</p><dl>
<dt><u>関数:</u> <b>xreduce</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>xreduce</tt> (<var>F</var>, <var>s</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>xreduce</tt> (<var>F</var>, <var>s</var>, <var>s_0</var>)</i>
<a name="IDX144"></a>
</dt>
<dd><p>関数 <var>F</var>を合成で n項関数に拡張します。
もしくはもし <var>F</var>が既に n項関数なら <var>F</var>を <var>s</var>に適用します。
<var>F</var>がn項関数でない時、
<code>xreduce</code>は <code>lreduce</code>と同じです。
<var>s</var>は集合かリストです。
</p>
<p>n項関数と知られている関数は
加算 <code>+</code>, 乗算 <code>*</code>, <code>and</code>, <code>or</code>, <code>max</code>,
<code>min</code>, と <code>append</code>です。
<code>declare(<var>F</var>, nary)</code>で関数が宣言されているかもしれません。
これらの関数に関して、
<code>xreduce</code>は <code>rreduce</code>や <code>lreduce</code>より速いことが期待できます。
</p>
<p>オプション引数 <var>s_0</var>を与えた場合、
結果は <code>xreduce(<var>s</var>, cons(<var>s_0</var>, <var>s</var>))</code>と同値です。
</p>
<p>浮動小数点加算は厳密には結合的ではないです;
それはともかく
<var>s</var>が浮動小数点数を含む時、
<code>xreduce</code>は Maximaの n項加算を適用します。
</p>
<p>例:
</p>
<p>n項関数と知られている関数へ適用された <code>xreduce</code>。
<code>F</code>はすべての引数で1度だけ呼ばれます。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) declare (F, nary);
(%o1)                         done
(%i2) F ([L]) := L;
(%o2)                      F([L]) := L
(%i3) xreduce (F, [a, b, c, d, e]);
(%o3)                    [a, b, c, d, e]
</pre></td></tr></table>
<p>n項関数と知られていない関数へ適用された <code>xreduce</code>。
<code>G</code>は2つの引数を与えられながら数回呼ばれます。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) G ([L]) := L;
(%o1)                      G([L]) := L
(%i2) xreduce (G, [a, b, c, d, e]);
(%o2)                 [[[[a, b], c], d], e]
(%i3) lreduce (G, [a, b, c, d, e]);
(%o3)                 [[[[a, b], c], d], e]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Sets">Sets</a> &middot;
<a href="maxima_106.html#Category_003a-Lists">Lists</a>
</div>
</p>
</dd></dl>

<p>c h---------------------------------------------------
<a name="Item_003a-Performance-considerations-for-Lists"></a>
</p><hr size="6">
<a name="Performance-considerations-for-Lists"></a>
<a name="SEC24"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC23" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC25" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC21" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.5.3 Performance considerations for Lists </h3>

<p>リストは要素を追加したり削除したりする効率的な方法を提供します。
最終的な次元を知ることなしに生成することができます。
リストはリストをコピーしたり扱ったりする効率的な手段を提供します。
また、入れ子のリストは厳格に矩形である必要はありません。
宣言された配列に対するこれらの利点の代わりに、
リスト内のランダムな要素へのアクセスに必要な時間がランダムな要素の頭からの距離におおよそ比例するかもしれない欠点があります。
しかし、リストをスタックやFIFOとして使うことで、リストを効率的に横断することは可能です:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) l:[Test,1,2,3,4];
(%o1)                  [Test, 1, 2, 3, 4]
(%i2) while l # [] do
   disp(pop(l));
                              Test

                                1

                                2

                                3

                                4

(%o2)                         done
</pre></td></tr></table><p>別のより速い例:
</p><table><tr><td>&nbsp;</td><td><pre class="example">(%i1) l:[Test,1,2,3,4];
(%o1)                  [Test, 1, 2, 3, 4]
(%i2) for i in l do
   disp(pop(l));
                              Test

                                1

                                2

                                3

                                4

(%o2)                         done
</pre></td></tr></table>
<p><code>reverse ()</code>を使ってリストを逆順にすれば、
リストの最後の要素から横断を始められます。
もし長いリストの要素を違った順序で処理するなら、
初めにリストを宣言された配列に変換することで
パフォーマンスを向上させられるかもしれません。
</p>
<p><code>for</code>ループの終了条件は毎回テストされることにも注意してください。
それは、 終了条件で <code>length</code>の結果が使われるなら、それはキャッシュすべきということを意味します:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) l:makelist(i,i,1,100000)$
(%i2) lngth:length(l);
(%o2)                        100000
(%i3) x:1;
(%o3)                           1
(%i4) for i:1 thru lngth do
    x:x+1$
(%i5) x;
(%o5)                        100001
</pre></td></tr></table>

<p><a name="Item_003a-Arrays"></a>
</p><hr size="6">
<a name="Arrays"></a>
<a name="SEC25"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC24" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC26" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.6 Arrays </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC26">5.7 Functions and Variables for Arrays</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p><a name="Item_003a-Functions-and-Variables-for-Arrays"></a>
</p><hr size="6">
<a name="Functions-and-Variables-for-Arrays"></a>
<a name="SEC26"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC25" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC27" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.7 Functions and Variables for Arrays </h2>

<p><a name="array"></a>
<a name="Item_003a-array"></a>
</p><dl>
<dt><u>関数:</u> <b>array</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>array</tt> (<var>name</var>, <var>dim_1</var>, &hellip;, <var>dim_n</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>array</tt> (<var>name</var>, <var>type</var>, <var>dim_1</var>, &hellip;, <var>dim_n</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>array</tt> ([<var>name_1</var>, &hellip;, <var>name_m</var>], <var>dim_1</var>, &hellip;, <var>dim_n</var>)</i>
<a name="IDX145"></a>
</dt>
<dd><p><em>n</em>次元の配列を生成します。
<em>n</em>は5以下を取り得ます。
<em>i</em>番目の次元のための添字は0から<var>dim_i</var>まで動く整数です。
</p>
<p><code>array (<var>name</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</code>は
一般的な配列を生成します。
</p>
<p><code>array (<var>name</var>, <var>type</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</code>は
指定されたタイプの要素を持つ配列を生成します。
<var>type</var>には
制限されたサイズの整数には<code>fixnum</code>が使え、
また、浮動小数点には<code>flonum</code>が使えます。
</p>
<p><code>array ([<var>name_1</var>, ..., <var>name_m</var>], <var>dim_1</var>, ..., <var>dim_n</var>)</code>
は同じ次元の<em>m</em>個の配列を生成します。
</p>
<p>もしユーザーが対応する配列を宣言する前に添字付き変数に割り当てたら、
未宣言配列が生成されます。
(ハッシュコーディングが添字上でされるので)別名ハッシュド配列と知られる未宣言配列は、
宣言配列よりもっと一般的です。
ユーザーは最大サイズを宣言せず、さらなる要素が値に割り当てられる時、ハッシュすることで
それらは動的に成長します。
未宣言配列の添字は数である必要すらありません。
しかしながら、
配列がむしろ疎でないなら、
未宣言のまま放っておくより、可能な時に宣言した方がおそらく効率的です。
<code>array</code>関数は未宣言配列を宣言配列に変換するのに使うことができます。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>

<p><a name="arrayapply"></a>
<a name="Item_003a-arrayapply"></a>
</p><dl>
<dt><u>関数:</u> <b>arrayapply</b><i> (<var>A</var>, [<var>i_1</var>, &hellip; <var>i_n</var>])</i>
<a name="IDX146"></a>
</dt>
<dd><p><code><var>A</var> [<var>i_1</var>, ..., <var>i_n</var>]</code>を評価します。
ここで、<var>A</var>は配列、<var>i_1</var>, &hellip;, <var>i_n</var>は整数です。
</p>
<p>これは、最初の引数が関数の代わりに配列だということを除いて、
<code><a href="maxima_36.html#apply">apply</a></code>を連想させます。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Expressions">Expressions</a> &middot;
<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>

<p><a name="arrayinfo"></a>
<a name="Item_003a-arrayinfo"></a>
</p><dl>
<dt><u>関数:</u> <b>arrayinfo</b><i> (<var>A</var>)</i>
<a name="IDX147"></a>
</dt>
<dd><p>配列<var>A</var>に関する情報を返します。
引数<var>A</var>は、宣言配列、未宣言(ハッシュド)配列、配列関数、または添字付き関数を取り得ます。
</p>
<p>宣言配列では、
<code>arrayinfo</code>は、
アトム<code>declared</code>と、次元数、それぞれの次元のサイズを含むリストを返します。
配列の要素は、バインドされたものもそうでないものも、<code>listarray</code>で返されます。
</p>
<p>未宣言配列(ハッシュド配列)では、
<code>arrayinfo</code>は、
アトム<code>hashed</code>と、添字の数、値を持つすべての要素の添字を含むリストを返します。
値は <code>listarray</code>で返されます。
</p>
<p>配列関数では、
<code>arrayinfo</code>は、
アトム<code>hashed</code>と、添字の数、
記憶された関数値がある添字の値すべてを含むリストを返します。
記憶された関数値は、<code>listarray</code>で返されます。
</p>
<p>添字付き関数では、、
<code>arrayinfo</code>は、
 returns a list comprising the
アトム<code>hashed</code>と、添字の数、
ラムダ式がある添字の値すべてを含むリストを返します。
ラムダ式は <code>listarray</code>で返されます。
</p>
<p><code><a href="#listarray">listarray</a></code>も参照してください。
</p>
<p>例:
</p>
<p>宣言配列に適用された<code>arrayinfo</code>と<code>listarray</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) array (aa, 2, 3);
(%o1)                          aa
(%i2) aa [2, 3] : %pi;
(%o2)                          %pi
(%i3) aa [1, 2] : %e;
(%o3)                          %e
(%i4) arrayinfo (aa);
(%o4)                 [declared, 2, [2, 3]]
(%i5) listarray (aa);
(%o5) [#####, #####, #####, #####, #####, #####, %e, #####,
                                        #####, #####, #####, %pi]
</pre></td></tr></table>
<p>未宣言(ハッシュド)配列に適用された<code>arrayinfo</code>と<code>listarray</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) bb [FOO] : (a + b)^2;
                                   2
(%o1)                       (b + a)
(%i2) bb [BAR] : (c - d)^3;
                                   3
(%o2)                       (c - d)
(%i3) arrayinfo (bb);
(%o3)               [hashed, 1, [BAR], [FOO]]
(%i4) listarray (bb);
                              3         2
(%o4)                 [(c - d) , (b + a) ]
</pre></td></tr></table>
<p>配列関数に適用された<code>arrayinfo</code>と<code>listarray</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) cc [x, y] := y / x;
                                     y
(%o1)                      cc     := -
                             x, y    x
(%i2) cc [u, v];
                                v
(%o2)                           -
                                u
(%i3) cc [4, z];
                                z
(%o3)                           -
                                4
(%i4) arrayinfo (cc);
(%o4)              [hashed, 2, [4, z], [u, v]]
(%i5) listarray (cc);
                              z  v
(%o5)                        [-, -]
                              4  u
</pre></td></tr></table>
<p>添字付き関数に適用された<code>arrayinfo</code>と<code>listarray</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) dd [x] (y) := y ^ x;
                                     x
(%o1)                     dd (y) := y
                            x
(%i2) dd [a + b];
                                    b + a
(%o2)                  lambda([y], y     )
(%i3) dd [v - u];
                                    v - u
(%o3)                  lambda([y], y     )
(%i4) arrayinfo (dd);
(%o4)             [hashed, 1, [b + a], [v - u]]
(%i5) listarray (dd);
                         b + a                v - u
(%o5)      [lambda([y], y     ), lambda([y], y     )]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>

<p><a name="arraymake"></a>
<a name="Item_003a-arraymake"></a>
</p><dl>
<dt><u>関数:</u> <b>arraymake</b><i> (<var>A</var>, [<var>i_1</var>, &hellip;, <var>i_n</var>])</i>
<a name="IDX148"></a>
</dt>
<dd><p>式<code><var>A</var>[<var>i_1</var>, ..., <var>i_n</var>]</code>を返します。
結果は未評価の配列参照です。
</p>
<p><code>arraymake</code>は、
戻り値は、未評価関数コールの代わりに未評価の配列参照だということを除いて、
<code><a href="maxima_36.html#funmake">funmake</a></code>を連想させます。
</p>
<p>例:
</p><table><tr><td>&nbsp;</td><td><pre class="example">(%i1) arraymake (A, [1]);
(%o1)                          A
                                1
(%i2) arraymake (A, [k]);
(%o2)                          A
                                k
(%i3) arraymake (A, [i, j, 3]);
(%o3)                       A
                             i, j, 3
(%i4) array (A, fixnum, 10);
(%o4)                           A
(%i5) fillarray (A, makelist (i^2, i, 1, 11));
(%o5)                           A
(%i6) arraymake (A, [5]);
(%o6)                          A
                                5
(%i7) ''%;
(%o7)                          36
(%i8) L : [a, b, c, d, e];
(%o8)                    [a, b, c, d, e]
(%i9) arraymake ('L, [n]);
(%o9)                          L
                                n
(%i10) ''%, n = 3;
(%o10)                          c
(%i11) A2 : make_array (fixnum, 10);
(%o11)          {Array:  #(0 0 0 0 0 0 0 0 0 0)}
(%i12) fillarray (A2, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
(%o12)          {Array:  #(1 2 3 4 5 6 7 8 9 10)}
(%i13) arraymake ('A2, [8]);
(%o13)                         A2
                                 8
(%i14) ''%;
(%o14)                          9
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Expressions">Expressions</a> &middot;
<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>

<p><a name="arrays"></a>
<a name="Item_003a-arrays"></a>
</p><dl>
<dt><u>システム変数:</u> <b>arrays</b>
<a name="IDX149"></a>
</dt>
<dd><p>デフォルト値: <code>[]</code>
</p>
<p><code>arrays</code>は割り当てられた配列のリストです。
これらは、<code>array</code>で宣言された配列、
(なにかw配列要素に割り当てられた)陰の定義で構成されたハッシュド配列、
<code>:=</code>と<code>define</code>で定義された配列関数を含みます。
<code><a href="#make_005farray">make_array</a></code>で定義された配列は含まれません。
</p>
<p><code><a href="#array">array</a></code>, <code><a href="#arrayapply">arrayapply</a></code>, <code><a href="#arrayinfo">arrayinfo</a></code>, <code><a href="#arraymake">arraymake</a></code>,
<code><a href="#fillarray">fillarray</a></code>, <code><a href="#listarray">listarray</a></code>, <code><a href="#rearray">rearray</a></code>も参照してください。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) array (aa, 5, 7);
(%o1)                          aa
(%i2) bb [FOO] : (a + b)^2;
                                   2
(%o2)                       (b + a)
(%i3) cc [x] := x/100;
                                   x
(%o3)                      cc  := ---
                             x    100
(%i4) dd : make_array ('any, 7);
(%o4)       {Array:  #(NIL NIL NIL NIL NIL NIL NIL)}
(%i5) arrays;
(%o5)                     [aa, bb, cc]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a> &middot;
<a href="maxima_106.html#Category_003a-Global-variables">Global variables</a>
</div>
</p></dd></dl>

<p><a name="arraysetapply"></a>
<a name="Item_003a-arraysetapply"></a>
</p><dl>
<dt><u>関数:</u> <b>arraysetapply</b><i> (<var>A</var>, [<var>i_1</var>, &hellip;, <var>i_n</var>], <var>x</var>)</i>
<a name="IDX150"></a>
</dt>
<dd><p><var>x</var>を<code><var>A</var>[<var>i_1</var>, ..., <var>i_n</var>]</code>に割り当てます。
ここで、<var>A</var>は配列で、<var>i_1</var>, &hellip;, <var>i_n</var>は整数です。
</p>
<p><code>arraysetapply</code>は引数を評価します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Expressions">Expressions</a> &middot;
<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>

<p><a name="fillarray"></a>
<a name="Item_003a-fillarray"></a>
</p><dl>
<dt><u>関数:</u> <b>fillarray</b><i> (<var>A</var>, <var>B</var>)</i>
<a name="IDX151"></a>
</dt>
<dd><p>配列<var>A</var>を<var>B</var>から埋めます。
ここで、<var>B</var>はリストか配列です。
</p>
<p>もし生成時に特定のタイプが<var>A</var>のために宣言されたら、
その同じタイプの要素でだけ埋めることができます;
もし違ったタイプの要素をコピーする試みがなされたらエラーです。
</p>
<p>もし配列<var>A</var>と<var>B</var>の次元が違ったら、
<var>A</var>は行優先順で埋められます。
もし<var>B</var>の中の要素が十分でないなら、
<var>A</var>の残りを埋めるのに最後の要素が使われます。
もし多すぎるなら、残りは無視されます。
</p>
<p><code>fillarray</code>は最初の引数を返します。
</p>
<p>例:
</p>
<p>9個の要素の配列を生成し、リストから埋めます。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) array (a1, fixnum, 8);
(%o1)                          a1
(%i2) listarray (a1);
(%o2)              [0, 0, 0, 0, 0, 0, 0, 0, 0]
(%i3) fillarray (a1, [1, 2, 3, 4, 5, 6, 7, 8, 9]);
(%o3)                          a1
(%i4) listarray (a1);
(%o4)              [1, 2, 3, 4, 5, 6, 7, 8, 9]
</pre></td></tr></table>
<p>配列を埋めるのに要素が足らない時、
最後の要素が繰り返されます。
要素が多すぎる時、余分の要素は無視されます。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) a2 : make_array (fixnum, 8);
(%o1)             {Array:  #(0 0 0 0 0 0 0 0)}
(%i2) fillarray (a2, [1, 2, 3, 4, 5]);
(%o2)             {Array:  #(1 2 3 4 5 5 5 5)}
(%i3) fillarray (a2, [4]);
(%o3)             {Array:  #(4 4 4 4 4 4 4 4)}
(%i4) fillarray (a2, makelist (i, i, 1, 100));
(%o4)             {Array:  #(1 2 3 4 5 6 7 8)}
</pre></td></tr></table>
<p>多次元配列は行優先順に埋められます。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) a3 : make_array (fixnum, 2, 5);
(%o1)        {Array:  #2A((0 0 0 0 0) (0 0 0 0 0))}
(%i2) fillarray (a3, [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);
(%o2)        {Array:  #2A((1 2 3 4 5) (6 7 8 9 10))}
(%i3) a4 : make_array (fixnum, 5, 2);
(%o3)     {Array:  #2A((0 0) (0 0) (0 0) (0 0) (0 0))}
(%i4) fillarray (a4, a3);
(%o4)     {Array:  #2A((1 2) (3 4) (5 6) (7 8) (9 10))}
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>

<p><a name="listarray"></a>
<a name="Item_003a-listarray"></a>
</p><dl>
<dt><u>関数:</u> <b>listarray</b><i> (<var>A</var>)</i>
<a name="IDX152"></a>
</dt>
<dd><p>配列<var>A</var>の要素のリストを返します。
引数<var>A</var>は、宣言配列、未宣言(ハッシュド)配列、配列関数、添字付き関数を取り得ます。
</p>
<p>要素は行優先順にリストされます。
すなわち、要素は、最初のインデックスに従って振り分けられ、次に二番目のインデックスに従って、などなど。
インデックス値の振り分け順は、
<code><a href="maxima_6.html#orderless">orderless</a></code>が確立する順と同じです。
</p>
<p>未宣言配列や、配列関数、添字付き関数では、
要素は<code><a href="#arrayinfo">arrayinfo</a></code>が返すインデックス値に対応します。
</p>
<p>宣言された一般配列のバインドされていない要素(すなわち、<code>fixnum</code>でも<code>flonum</code>でもない要素)は、 <code>#####</code>として返されます。
宣言された<code>fixnum</code>配列または<code>flonum</code>配列のバイドされていない要素は、
それぞれ0または0.0として返されます。
未宣言配列、配列関数、添字付き関数のバインドされていない要素は返されません。
</p>
<p>例:
</p>
<p>宣言配列に適用された<code>listarray</code>と<code>arrayinfo</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) array (aa, 2, 3);
(%o1)                          aa
(%i2) aa [2, 3] : %pi;
(%o2)                          %pi
(%i3) aa [1, 2] : %e;
(%o3)                          %e
(%i4) listarray (aa);
(%o4) [#####, #####, #####, #####, #####, #####, %e, #####,
                                        #####, #####, #####, %pi]
(%i5) arrayinfo (aa);
(%o5)                 [declared, 2, [2, 3]]
</pre></td></tr></table>
<p>未宣言(ハッシュド)配列に適用された<code>listarray</code>と<code>arrayinfo</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) bb [FOO] : (a + b)^2;
                                   2
(%o1)                       (b + a)
(%i2) bb [BAR] : (c - d)^3;
                                   3
(%o2)                       (c - d)
(%i3) listarray (bb);
                              3         2
(%o3)                 [(c - d) , (b + a) ]
(%i4) arrayinfo (bb);
(%o4)               [hashed, 1, [BAR], [FOO]]
</pre></td></tr></table>
<p>配列関数に適用された<code>listarray</code>と<code>arrayinfo</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) cc [x, y] := y / x;
                                     y
(%o1)                      cc     := -
                             x, y    x
(%i2) cc [u, v];
                                v
(%o2)                           -
                                u
(%i3) cc [4, z];
                                z
(%o3)                           -
                                4
(%i4) listarray (cc);
                              z  v
(%o4)                        [-, -]
                              4  u
(%i5) arrayinfo (cc);
(%o5)              [hashed, 2, [4, z], [u, v]]
</pre></td></tr></table>
<p>添字付き関数に適用された<code>listarray</code>と<code>arrayinfo</code>。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) dd [x] (y) := y ^ x;
                                     x
(%o1)                     dd (y) := y
                            x
(%i2) dd [a + b];
                                    b + a
(%o2)                  lambda([y], y     )
(%i3) dd [v - u];
                                    v - u
(%o3)                  lambda([y], y     )
(%i4) listarray (dd);
                         b + a                v - u
(%o4)      [lambda([y], y     ), lambda([y], y     )]
(%i5) arrayinfo (dd);
(%o5)             [hashed, 1, [b + a], [v - u]]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>


<p><a name="make_005farray"></a>
<a name="Item_003a-make_005farray"></a>
</p><dl>
<dt><u>関数:</u> <b>make_array</b><i> (<var>type</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</i>
<a name="IDX153"></a>
</dt>
<dd><p>Lisp配列を生成し、返します。
<var>type</var>は、<code>any</code>, <code>flonum</code>, <code>fixnum</code>, <code>hashed</code>,
<code>functional</code>を取り得ます。
<em>n</em>個のインデックスがあり、
<em>i</em>番目のインデックスは0から<em><var>dim_i</var> - 1</em>まで動きます。
</p>
<p><code>make_array</code>の<code><a href="#array">array</a></code>に対する利点は、
戻り値が名前を持たないことであり、
一旦、それへのポインタが消えると、それも消えます。
例えば、もし<code>y: make_array (...)</code>なら、
<code>y</code>は領域を取るオブジェクトを指しますが、
<code>y: false</code>の後、<code>y</code>はそのオブジェクトをもはや指さないので、
オブジェクトはガーベッジコレクトされることができます。
</p>

<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) A1 : make_array (fixnum, 10);
(%o1)           {Array:  #(0 0 0 0 0 0 0 0 0 0)}
(%i2) A1 [8] : 1729;
(%o2)                         1729
(%i3) A1;
(%o3)          {Array:  #(0 0 0 0 0 0 0 0 1729 0)}
(%i4) A2 : make_array (flonum, 10);
(%o4) {Array:  #(0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0)}
(%i5) A2 [2] : 2.718281828;
(%o5)                      2.718281828
(%i6) A2;
(%o6)
     {Array:  #(0.0 0.0 2.718281828 0.0 0.0 0.0 0.0 0.0 0.0 0.0)}
(%i7) A3 : make_array (any, 10);
(%o7) {Array:  #(NIL NIL NIL NIL NIL NIL NIL NIL NIL NIL)}
(%i8) A3 [4] : x - y - z;
(%o8)                      - z - y + x
(%i9) A3;
(%o9) {Array:  #(NIL NIL NIL NIL ((MPLUS SIMP) $X ((MTIMES SIMP)\
 -1 $Y) ((MTIMES SIMP) -1 $Z))
  NIL NIL NIL NIL NIL)}
(%i10) A4 : make_array (fixnum, 2, 3, 5);
(%o10) {Array:  #3A(((0 0 0 0 0) (0 0 0 0 0) (0 0 0 0 0)) ((0 0 \
0 0 0) (0 0 0 0 0) (0 0 0 0 0)))}
(%i11) fillarray (A4, makelist (i, i, 1, 2*3*5));
(%o11) {Array:  #3A(((1 2 3 4 5) (6 7 8 9 10) (11 12 13 14 15))
    ((16 17 18 19 20) (21 22 23 24 25) (26 27 28 29 30)))}
(%i12) A4 [0, 2, 1];
(%o12)                         12
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>

<p><a name="rearray"></a>
<a name="Item_003a-rearray"></a>
</p><dl>
<dt><u>関数:</u> <b>rearray</b><i> (<var>A</var>, <var>dim_1</var>, ..., <var>dim_n</var>)</i>
<a name="IDX154"></a>
</dt>
<dd><p>配列の次元を変えます。
新しい配列は
行優先順に古いものの配列で埋められます。
もし古い配列が小さすぎるなら、
残りの要素は、
配列のタイプに依って、
<code>false</code>, <code>0.0</code>または<code>0</code>で埋められます。
配列のタイプは変えられません。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>

<p><a name="remarray"></a>
<a name="Item_003a-remarray"></a>
</p><dl>
<dt><u>関数:</u> <b>remarray</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>remarray</tt> (<var>A_1</var>, &hellip;, <var>A_n</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>remarray</tt> (all)</i>
<a name="IDX155"></a>
</dt>
<dd><p>配列と関数に関連づけられた配列を削除し、占められた領域を開放します。
引数は、宣言配列、未宣言(ハッシュド)配列、配列関数、添字付き関数を取り得ます。
</p>
<p><code>remarray (all)</code>は、
グローバルリスト<code><a href="#arrays">arrays</a></code>の中の項目すべてを削除します。
</p>
<p>もしハッシュド配列の中の値を再定義することが望ましいなら、この関数を使うことが必要になるかもしれません。
</p>
<p><code>remarray</code>は削除された配列のリストを返します。
</p>
<p><code>remarray</code>はクォートします。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>

<p><a name="subvar"></a>
<a name="Item_003a-subvar"></a>
</p><dl>
<dt><u>関数:</u> <b>subvar</b><i> (<var>x</var>, <var>i</var>)</i>
<a name="IDX156"></a>
</dt>
<dd><p>添字付き式<code><var>x</var>[<var>i</var>]</code>を評価します。
</p>
<p><code>subvar</code>は引数を評価します。
</p>
<p><code>arraymake (<var>x</var>, [<var>i</var>])</code>は
式<code><var>x</var>[<var>i</var>]</code>を構成しますが、
それを評価はしません。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) x : foo $
(%i2) i : 3 $
(%i3) subvar (x, i);
(%o3)                         foo
                                 3
(%i4) foo : [aa, bb, cc, dd, ee]$
(%i5) subvar (x, i);
(%o5)                          cc
(%i6) arraymake (x, [i]);
(%o6)                         foo
                                 3
(%i7) ''%;
(%o7)                          cc
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Expressions">Expressions</a> &middot;
<a href="maxima_106.html#Category_003a-Arrays">Arrays</a>
</div>
</p></dd></dl>


<p><a name="subvarp"></a>
<a name="Item_003a-subvarp"></a>
</p><dl>
<dt><u>関数:</u> <b>subvarp</b><i> (<var>expr</var>)</i>
<a name="IDX157"></a>
</dt>
<dd><p>もし<var>expr</var>が例えば<code>a[i]</code>のように添字された変数なら、<code>true</code>を返します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Predicate-functions">Predicate functions</a>
</div>
</p></dd></dl>

<p><a name="use_005ffast_005farrays"></a>
<a name="Item_003a-use_005ffast_005farrays"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>use_fast_arrays</b>
<a name="IDX158"></a>
</dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p><code>use_faset_arrays</code>が <code>true</code>の時、
非宣言の配列と <code>array</code>が宣言した配列はプロパティでなく値であり、
非宣言の配列は Lispハッシュテーブルとして実装されます。
</p>
<p><code>use_faset_arrays</code>が <code>false</code>の時、
非宣言の配列と <code>array</code>が宣言した配列はプロパティであり、
非宣言の配列は Maxima自身のハッシュテーブル実装で実装されます。
</p>
<p><code>use_fast_arrays</code>は<code>make_array</code>が生成した配列には影響しません。
</p>
<p><code><a href="#translate_005ffast_005farrays">translate_fast_arrays</a></code>も参照してください。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a> &middot;
<a href="maxima_106.html#Category_003a-Global-flags">Global flags</a>
</div>
</p></dd></dl>

<p><a name="translate_005ffast_005farrays"></a>
<a name="Item_003a-translate_005ffast_005farrays"></a>
</p><dl>
<dt><u>オプション変数:</u> <b>translate_fast_arrays</b>
<a name="IDX159"></a>
</dt>
<dd><p>デフォルト値: <code>false</code>
</p>
<p><code>translate_fast_arrays</code>が <code>true</code>の時、
Maxima-to-Lispトランスレータが、
<code>use_fast_arrays</code>が <code>true</code>であるかのように
配列がプロパティでなく値であると仮定したコードを生成します。
</p>
<p><code>translate_fast_arrays</code>が <code>false</code>の時、
Maxima-to-Lispトランスレータが、
<code>use_fast_arrays</code>が <code>false</code>であるかのように
配列がプロパティであると仮定したコードを生成します。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Arrays">Arrays</a> &middot;
<a href="maxima_106.html#Category_003a-Translation-flags-and-variables">Translation flags and variables</a>
</div>
</p></dd></dl>


<p><a name="Item_003a-Structures"></a>
</p><hr size="6">
<a name="Structures"></a>
<a name="SEC27"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC26" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC28" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC11" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 5.8 Structures </h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC28">5.8.1 Introduction to Structures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC29">5.8.2 Functions and Variables for Structures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p><a name="Item_003a-Introduction-to-Structures"></a>
</p><hr size="6">
<a name="Introduction-to-Structures"></a>
<a name="SEC28"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC27" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC29" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC27" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.8.1 Introduction to Structures </h3>

<p>Maximaは構造体と呼ばれる簡単なデータ集合体を提供します。
構造体は
引数が名前(フィールド名)によって識別され、式全体が演算子(構造体名)によって識別される式です。
フィールド名は任意の式を取り得ます。
</p>
<p>構造体は<code>defstruct</code>関数によって定義されます;
グローバル変数<code>structures</code>はユーザー定義の構造体のリストです。
関数<code>new</code>は構造体のインスタンスを生成します。
<code>@</code>演算子はフィールドを参照します。
<code>kill(<var>S</var>)</code>は構造体定義<var>S</var>を取り除き、
<code>kill(<var>x</var>@ <var>a</var>)</code>は
構造体インスタンス<var>x</var>のフィールド<var>a</var>をアンバインドします。
</p>
<p>(<code>display2d</code>を<code>true</code>で使う)プリティプリンティングのコンソール表示では、
構造体インスタンスは、
左辺側にフィールド名、右辺側に値の式として表されたそれぞれのフィールドの値と一緒に
表示されます。
(等式は単に表示物です; 値だけが実際に保存されます。)
(<code>grind</code>を介してか、<code>display2d</code>を<code>false</code>で使う)1次元表示では
構造体はフィールド名ないで表示されます。
</p>
<p>フィールド値はラムダ式でありえますが、フィールド名を関数名として使う方法はありません。
フィールドの値はあるタイプに制約することもできません;
任意のフィールドにはどんな種類の式に割り当てることができます。
フィールドを、違った文脈でアクセス可能にしたり不可能する方法はありません;
すべてのフィールドはいつも可視です。
</p>
<p><a name="Item_003a-Functions-and-Variables-for-Structures"></a>
</p><hr size="6">
<a name="Functions-and-Variables-for-Structures"></a>
<a name="SEC29"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC28" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC27" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h3 class="subsection"> 5.8.2 Functions and Variables for Structures </h3>

<p><a name="structures"></a>
<a name="Item_003a-structures"></a>
</p><dl>
<dt><u>グローバル変数:</u> <b>structures</b>
<a name="IDX160"></a>
</dt>
<dd><p><code>structures</code>は
<code>defstruct</code>で定義されたユーザー定義の構造体のリストです。
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Structures">Structures</a> &middot;
<a href="maxima_106.html#Category_003a-Global-variables">Global variables</a>
</div>
</p></dd></dl>

<p><a name="defstruct"></a>
<a name="Item_003a-defstruct"></a>
</p><dl>
<dt><u>関数:</u> <b>defstruct</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>defstruct</tt> (<var>S</var>(<var>a_1</var>, &hellip;, <var>a_n</var>)) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>defstruct</tt> (<var>S</var>(<var>a_1</var> = <var>v_1</var>, &hellip;, <var>a_n</var> = <var>v_n</var>))</i>
<a name="IDX161"></a>
</dt>
<dd><p>構造体を定義します。
構造体はシンボル<var>S</var>と関連付けられた名前フィールドのリスト<var>a_1</var>, &hellip;, <var>a_n</var>です。
</p>
<p>構造体のインスタンスは演算子<var>S</var>と正確に<code>n</code>個の引数を持つただの式です。
<code>new(<var>S</var>)</code>は構造体<var>S</var>の新しいインスタンスを生成します。
</p>
<p>ただのシンボル<var>a</var>である引数はフィールド名を指定します。
等式<code><var>a</var> = <var>v</var></code>である引数は
フィールド名<var>a</var>とデフォルト値<var>v</var>を指定します。
デフォルト値は任意の式を取り得ます。
</p>
<p><code>defstruct</code>は
ユーザー定義の構造体のリスト<code>structures</code>上に<var>S</var>を入れます。
</p>
<p><code>kill(<var>S</var>)</code>は
ユーザー定義の構造体のリストから<var>S</var>を取り除き、構造体定義を取り除きます。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) defstruct (foo (a, b, c));
(%o1)                    [foo(a, b, c)]
(%i2) structures;
(%o2)                    [foo(a, b, c)]
(%i3) new (foo);
(%o3)                     foo(a, b, c)
(%i4) defstruct (bar (v, w, x = 123, y = %pi));
(%o4)             [bar(v, w, x = 123, y = %pi)]
(%i5) structures;
(%o5)      [foo(a, b, c), bar(v, w, x = 123, y = %pi)]
(%i6) new (bar);
(%o6)              bar(v, w, x = 123, y = %pi)
(%i7) kill (foo);
(%o7)                         done
(%i8) structures;
(%o8)             [bar(v, w, x = 123, y = %pi)]
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Structures">Structures</a>
</div>
</p></dd></dl>

<p><a name="new"></a>
<a name="Item_003a-new"></a>
</p><dl>
<dt><u>関数:</u> <b>new</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>new</tt> (<var>S</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>new</tt> (<var>S</var> (<var>v_1</var>, &hellip;, <var>v_n</var>))</i>
<a name="IDX162"></a>
</dt>
<dd><p><code>new</code>は構造体の新しいインスタンスを生成します。
</p>
<p><code>new(<var>S</var>)</code>は
構造体<var>S</var>の新しいインスタンスを生成します。
それぞれのフィールドは、もしデフォルト値があればデフォルト値を割り当てられ、
もしデフォルト値が構造体定義で指定されなかったなら、割り当てなしになります。
</p>
<p><code>new(<var>S</var>(<var>v_1</var>, ..., <var>v_n</var>))</code>は
フィールドが値<var>v_1</var>, &hellip;, <var>v_n</var>に割り当てられた
構造体<var>S</var>の新しいインスタンスを生成します。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) defstruct (foo (w, x = %e, y = 42, z));
(%o1)              [foo(w, x = %e, y = 42, z)]
(%i2) new (foo);
(%o2)               foo(w, x = %e, y = 42, z)
(%i3) new (foo (1, 2, 4, 8));
(%o3)            foo(w = 1, x = 2, y = 4, z = 8)
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Structures">Structures</a>
</div>
</p></dd></dl>

<p><a name="Item_003a_0040"></a>
</p><dl>
<dt><u>演算子:</u> <b>@</b>
<a name="IDX163"></a>
</dt>
<dd><p><code>@</code>構造体フィールドアクセス演算子です。
式<code><var>x</var>@ <var>a</var></code>は
構造体インスタンス<var>x</var>のフィールド<var>a</var>の値を参照します。
フィールド名は評価されません。
</p>
<p>もし<var>x</var>のフィールド<var>a</var>が値を割り当てられていないなら、
<code><var>x</var>@ <var>a</var></code>はそれ自身に評価されます。
</p>
<p><code>kill(<var>x</var>@ <var>a</var>)</code>は
<var>x</var>のフィールド値<var>a</var>を値を取り除きます。
</p>
<p>例:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) defstruct (foo (x, y, z));
(%o1)                    [foo(x, y, z)]
(%i2) u : new (foo (123, a - b, %pi));
(%o2)           foo(x = 123, y = a - b, z = %pi)
(%i3) u@z;
(%o3)                          %pi
(%i4) u@z : %e;
(%o4)                          %e
(%i5) u;
(%o5)            foo(x = 123, y = a - b, z = %e)
(%i6) kill (u@z);
(%o6)                         done
(%i7) u;
(%o7)              foo(x = 123, y = a - b, z)
(%i8) u@z;
(%o8)                          u@z
</pre></td></tr></table>
<p>フィールド名は評価されません。
</p>
<table><tr><td>&nbsp;</td><td><pre class="example">(%i1) defstruct (bar (g, h));
(%o1)                      [bar(g, h)]
(%i2) x : new (bar);
(%o2)                       bar(g, h)
(%i3) x@h : 42;
(%o3)                          42
(%i4) h : 123;
(%o4)                          123
(%i5) x@h;
(%o5)                          42
(%i6) x@h : 19;
(%o6)                          19
(%i7) x;
(%o7)                    bar(g, h = 19)
(%i8) h;
(%o8)                          123
</pre></td></tr></table>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_106.html#Category_003a-Structures">Structures</a> &middot;
<a href="maxima_106.html#Category_003a-Operators">Operators</a>
</div>
</p></dd></dl>

<p><a name="Item_003a-Expressions"></a>
</p><hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC11" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_6.html#SEC30" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_90.html#SEC429" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>市川雄二</em> on <em>October, 5 2017</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>

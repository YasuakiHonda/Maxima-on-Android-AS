<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created on August, 17 2018 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>Maxima 5.41.0 Manual: 84. stringproc</title>

<meta name="description" content="Maxima 5.41.0 Manual: 84. stringproc">
<meta name="keywords" content="Maxima 5.41.0 Manual: 84. stringproc">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 0px; padding-bottom: 0px;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%}
-->
</style>

<link rel="icon" href="figures/favicon.ico">


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="stringproc_002dpkg"></a>
<a name="SEC388"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="maxima_83.html#SEC387" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC389" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima_83.html#SEC386" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_85.html#SEC394" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_89.html#SEC426" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 84. stringproc </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC389">84.1 Introduction to String Processing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC390">84.2 Input and Output</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC391">84.3 Characters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC392">84.4 String Processing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC393">84.5 Octets and Utilities for Cryptography</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<p><a name="Item_003a-Introduction-to-String-Processing"></a>
</p><hr size="6">
<a name="Introduction-to-String-Processing"></a>
<a name="SEC389"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC388" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC390" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC388" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC388" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_85.html#SEC394" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_89.html#SEC426" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 84.1 Introduction to String Processing </h2>

<p>The package <code>stringproc</code> contains functions for processing strings 
and characters including formatting, encoding and data streams. 
This package is completed by some tools for cryptography, e.g. base64 and hash 
functions.
</p>
<p>It can be directly loaded via <code>load(stringproc)</code> or automatically by 
using one of its functions.
</p>
<p>For questions and bug reports please contact the author. The following 
command prints his e-mail-address.
</p>
<p><code>printf(true, &quot;~{~a~}@gmail.com&quot;, split(sdowncase(&quot;Volker van Nek&quot;)))$</code>
</p>

<p>A string is constructed by typing e.g. <code>&quot;Text&quot;</code>. 
When the option variable <code>stringdisp</code> is set to <code>false</code>, which is 
the default, the double quotes won't be printed. 
<a href="#stringp">stringp</a> is a test, if an object is a string.
</p>
<pre class="example">(%i1) str: &quot;Text&quot;;
(%o1)                         Text
(%i2) stringp(str);
(%o2)                         true
</pre>
<p>Characters are represented by a string of length 1. 
<a href="#charp">charp</a> is the corresponding test.
</p>
<pre class="example">(%i1) char: &quot;e&quot;;
(%o1)                           e
(%i2) charp(char);
(%o2)                         true
</pre>
<p>In Maxima position indices in strings are like in list 1-indexed 
which results to the following consistency.
</p>
<pre class="example">(%i1) is(charat(&quot;Lisp&quot;,1) = charlist(&quot;Lisp&quot;)[1]);
(%o1)                         true
</pre>
<p>A string may contain Maxima expressions. 
These can be parsed with <a href="#parse_005fstring">parse_string</a>.
</p>
<pre class="example">(%i1) map(parse_string, [&quot;42&quot; ,&quot;sqrt(2)&quot;, &quot;%pi&quot;]);
(%o1)                   [42, sqrt(2), %pi]
(%i2) map('float, %);
(%o2)        [42.0, 1.414213562373095, 3.141592653589793]
</pre>
<p>Strings can be processed as characters or in binary form as octets. 
Functions for conversions are <a href="#string_005fto_005foctets">string_to_octets</a> and <a href="#octets_005fto_005fstring">octets_to_string</a>.
Usable encodings depend on the platform, the application and the 
underlying Lisp.
(The following shows Maxima in GNU/Linux, compiled with SBCL.)
</p>
<pre class="example">(%i1) obase: 16.$
(%i2) string_to_octets(&quot;$&pound;&euro;&quot;, &quot;cp1252&quot;);
(%o2)                     [24, 0A3, 80]
(%i3) string_to_octets(&quot;$&pound;&euro;&quot;, &quot;utf-8&quot;);
(%o3)               [24, 0C2, 0A3, 0E2, 82, 0AC]
</pre>
<p>Strings may be written to character streams or as octets to binary streams. 
The following example demonstrates file in and output of characters.
</p>
<p><a href="#openw">openw</a> returns an output stream to a file, 
<a href="#printf">printf</a> writes formatted to that file and by e.g. 
<a href="#close">close</a> all characters contained in the stream are written to the file.
</p>
<pre class="example">(%i1) s: openw(&quot;file.txt&quot;);
(%o1)                #&lt;output stream file.txt&gt;
(%i2) printf(s, &quot;~%~d ~f ~a ~a ~f ~e ~a~%&quot;, 
42, 1.234, sqrt(2), %pi, 1.0e-2, 1.0e-2, 1.0b-2)$
(%i3) close(s)$
</pre>
<p><a href="#openr">openr</a> then returns an input stream from the previously used file and 
<a href="#readline">readline</a> returns the line read as a string.
The string may be tokenized by e.g. <a href="#split">split</a> or <a href="#tokens">tokens</a> and 
finally parsed by <a href="#parse_005fstring">parse_string</a>.
</p>
<pre class="example">(%i4) s: openr(&quot;file.txt&quot;);
(%o4)                 #&lt;input stream file.txt&gt;
(%i5) readline(s);
(%o5)          42 1.234 sqrt(2) %pi 0.01 1.0E-2 1.0b-2
(%i6) map(parse_string, split(%));
(%o6)       [42, 1.234, sqrt(2), %pi, 0.01, 0.01, 1.0b-2]
(%i7) close(s)$
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Strings">Strings</a> &middot;
<a href="maxima_105.html#Category_003a-Share-packages">Share packages</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>

<p><a name="Item_003a-Input-and-Output"></a>
</p><hr size="6">
<a name="Input-and-Output"></a>
<a name="SEC390"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC389" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC391" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC388" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC388" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_85.html#SEC394" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_89.html#SEC426" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 84.2 Input and Output </h2>

<p>Example: Formatted printing to a file.
</p>
<pre class="example">(%i1) s: openw(&quot;file.txt&quot;);
(%o1)                      #&lt;output stream file.txt&gt;
(%i2) control: 
&quot;~2tAn atom: ~20t~a~%~2tand a list: ~20t~{~r ~}~%~2t\
and an integer: ~20t~d~%&quot;$
(%i3) printf( s,control, 'true,[1,2,3],42 )$
(%o3)                                false
(%i4) close(s);
(%o4)                                true
(%i5) s: openr(&quot;file.txt&quot;);
(%o5)                      #&lt;input stream file.txt&gt;
(%i6) while stringp( tmp:readline(s) ) do print(tmp)$
  An atom:          true 
  and a list:       one two three  
  and an integer:   42 
(%i7) close(s)$
</pre>
<p><a name="close"></a>
<a name="Item_003a-close"></a>
</p><dl>
<dt><u>Function:</u> <b>close</b><i> (<var>stream</var>) </i>
<a name="IDX2438"></a>
</dt>
<dd><p>Closes <var>stream</var> and returns <code>true</code> if <var>stream</var> had been open. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-input">File input</a> &middot;
<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="flength"></a>
<a name="Item_003a-flength"></a>
</p><dl>
<dt><u>Function:</u> <b>flength</b><i> (<var>stream</var>)</i>
<a name="IDX2439"></a>
</dt>
<dd><p><var>stream</var> has to be an open stream from or to a file. 
<code>flength</code> then returns the number of bytes which are currently present in this file.
</p>
<p>Example: See <a href="#writebyte">writebyte</a> .
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-input">File input</a> &middot;
<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="flush_005foutput"></a>
<a name="Item_003a-flush_005foutput"></a>
</p><dl>
<dt><u>Function:</u> <b>flush_output</b><i> (<var>stream</var>)</i>
<a name="IDX2440"></a>
</dt>
<dd><p>Flushes <var>stream</var> where <var>stream</var> has to be an output stream to a file. 
</p>
<p>Example: See <a href="#writebyte">writebyte</a> .
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="fposition"></a>
<a name="Item_003a-fposition"></a>
</p><dl>
<dt><u>Function:</u> <b>fposition</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>fposition</tt> (<var>stream</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>fposition</tt> (<var>stream</var>, <var>pos</var>)</i>
<a name="IDX2441"></a>
</dt>
<dd><p>Returns the current position in <var>stream</var>, if <var>pos</var> is not used. 
If <var>pos</var> is used, <code>fposition</code> sets the position in <var>stream</var>.
<var>stream</var> has to be a stream from or to a file and 
<var>pos</var> has to be a positive number.
</p>
<p>Positions in data streams are like in strings or lists 1-indexed, 
i.e. the first element in <var>stream</var> is in position 1.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-input">File input</a> &middot;
<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="freshline"></a>
<a name="Item_003a-freshline"></a>
</p><dl>
<dt><u>Function:</u> <b>freshline</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>freshline</tt> ()  &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>freshline</tt> (<var>stream</var>) </i>
<a name="IDX2442"></a>
</dt>
<dd><p>Writes a new line to the standard output stream 
if the position is not at the beginning of a line und returns <code>true</code>.
Using the optional argument <var>stream</var> the new line is written to that stream. 
There are some cases, where <code>freshline()</code> does not work as expected. 
</p>
<p>See also <a href="#newline">newline</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="get_005foutput_005fstream_005fstring"></a>
<a name="Item_003a-get_005foutput_005fstream_005fstring"></a>
</p><dl>
<dt><u>Function:</u> <b>get_output_stream_string</b><i> (<var>stream</var>)</i>
<a name="IDX2443"></a>
</dt>
<dd><p>Returns a string containing all the characters currently present in 
<var>stream</var> which must be an open string-output stream. 
The returned characters are removed from <var>stream</var>.
</p>
<p>Example: See <a href="#make_005fstring_005foutput_005fstream">make_string_output_stream</a> .
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="make_005fstring_005finput_005fstream"></a>
<a name="Item_003a-make_005fstring_005finput_005fstream"></a>
</p><dl>
<dt><u>Function:</u> <b>make_string_input_stream</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>make_string_input_stream</tt> (<var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>make_string_input_stream</tt> (<var>string</var>, <var>start</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>make_string_input_stream</tt> (<var>string</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2444"></a>
</dt>
<dd><p>Returns an input stream which contains parts of <var>string</var> and an end of file. 
Without optional arguments the stream contains the entire string 
and is positioned in front of the first character. 
<var>start</var> and <var>end</var> define the substring contained in the stream. 
The first character is available at position 1.
</p> 
<pre class="example">(%i1) istream : make_string_input_stream(&quot;text&quot;, 1, 4);
(%o1)              #&lt;string-input stream from &quot;text&quot;&gt;
(%i2) (while (c : readchar(istream)) # false do sprint(c), newline())$
t e x 
(%i3) close(istream)$
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="make_005fstring_005foutput_005fstream"></a>
<a name="Item_003a-make_005fstring_005foutput_005fstream"></a>
</p><dl>
<dt><u>Function:</u> <b>make_string_output_stream</b><i> ()</i>
<a name="IDX2445"></a>
</dt>
<dd><p>Returns an output stream that accepts characters. Characters currently present 
in this stream can be retrieved by <a href="#get_005foutput_005fstream_005fstring">get_output_stream_string</a>.
</p> 
<pre class="example">(%i1) ostream : make_string_output_stream();
(%o1)               #&lt;string-output stream 09622ea0&gt;
(%i2) printf(ostream, &quot;foo&quot;)$

(%i3) printf(ostream, &quot;bar&quot;)$

(%i4) string : get_output_stream_string(ostream);
(%o4)                            foobar
(%i5) printf(ostream, &quot;baz&quot;)$

(%i6) string : get_output_stream_string(ostream);
(%o6)                              baz
(%i7) close(ostream)$
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="newline"></a>
<a name="Item_003a-newline"></a>
</p><dl>
<dt><u>Function:</u> <b>newline</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>newline</tt> ()  &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>newline</tt> (<var>stream</var>) </i>
<a name="IDX2446"></a>
</dt>
<dd><p>Writes a new line to the standard output stream. 
Using the optional argument <var>stream</var> the new line is written to that stream. 
There are some cases, where <code>newline()</code> does not work as expected. 
</p>
<p>See <a href="#sprint">sprint</a> for an example of using <code>newline()</code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="opena"></a>
<a name="Item_003a-opena"></a>
</p><dl>
<dt><u>Function:</u> <b>opena</b><i> (<var>file</var>) </i>
<a name="IDX2447"></a>
</dt>
<dd><p>Returns a character output stream to <var>file</var>.
If an existing file is opened, <code>opena</code> appends elements at the end of <var>file</var>.
</p>
<p>For binary output see <a href="maxima_73.html#SEC342">opena_binary</a> .
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="openr"></a>
<a name="Item_003a-openr"></a>
</p><dl>
<dt><u>Function:</u> <b>openr</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>openr</tt> (<var>file</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>openr</tt> (<var>file</var>, <var>encoding</var>) </i>
<a name="IDX2448"></a>
</dt>
<dd><p>Returns a character input stream to <var>file</var>.
<code>openr</code> assumes that <var>file</var> already exists.
If reading the file results in a lisp error about its encoding
passing the correct string as the argument <var>encoding</var> might help.
The available encodings and their names depend on the lisp being used.
For sbcl a list of suitable strings can be found at
<a href="http://www.sbcl.org/manual/#External-Formats">http://www.sbcl.org/manual/#External-Formats</a>.
</p>
<p>For binary input see <a href="maxima_73.html#SEC342">openr_binary</a> .
See also <code><a href="#close">close</a></code> and <code><a href="#openw">openw</a></code>.
</p>
<pre class="example">(%i1) istream : openr(&quot;data.txt&quot;,&quot;EUC-JP&quot;);
(%o1)     #&lt;FD-STREAM for &quot;file /home/gunter/data.txt&quot; {10099A3AE3}&gt;
(%i2) close(istream);
(%o2)                                true
</pre>

<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-input">File input</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="openw"></a>
<a name="Item_003a-openw"></a>
</p><dl>
<dt><u>Function:</u> <b>openw</b><i> (<var>file</var>) </i>
<a name="IDX2449"></a>
</dt>
<dd><p>Returns a character output stream to <var>file</var>.
If <var>file</var> does not exist, it will be created.
If an existing file is opened, <code>openw</code> destructively modifies <var>file</var>.
</p>
<p>For binary output see <a href="maxima_73.html#SEC342">openw_binary</a> .
</p>
<p>See also <code><a href="#close">close</a></code> and <code><a href="#openr">openr</a></code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="printf"></a>
<a name="Item_003a-printf"></a>
</p><dl>
<dt><u>Function:</u> <b>printf</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>printf</tt> (<var>dest</var>, <var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>printf</tt> (<var>dest</var>, <var>string</var>, <var>expr_1</var>, ..., <var>expr_n</var>)</i>
<a name="IDX2450"></a>
</dt>
<dd><p>Produces formatted output by outputting the characters of control-string 
<var>string</var> and observing that a tilde introduces a directive.
The character after the tilde, possibly preceded by prefix parameters 
and modifiers, specifies what kind of formatting is desired.
Most directives use one or more elements of the arguments 
<var>expr_1</var>, ..., <var>expr_n</var> to create their output.
</p>
<p>If <var>dest</var> is a stream or <code>true</code>, then <code>printf</code> returns <code>false</code>.
Otherwise, <code>printf</code> returns a string containing the output.
By default the streams <var>stdin</var>, <var>stdout</var> and <var>stderr</var> are defined.
If maxima is running as a server (which is the normal case if maxima communicating
with a graphical user interface) <code>setup-client</code> will define <var>old_stdout</var> and
<var>old_stderr</var>, too.
</p>
<p><code>printf</code> provides the Common Lisp function <code>format</code> in Maxima. 
The following example illustrates the general relation between these two 
functions.
</p>
<pre class="example">(%i1) printf(true, &quot;R~dD~d~%&quot;, 2, 2);
R2D2
(%o1)                                false
(%i2) :lisp (format t &quot;R~dD~d~%&quot; 2 2)
R2D2
NIL
</pre>
<p>The following description is limited to a rough sketch of the possibilities of 
<code>printf</code>.
The Lisp function <code>format</code> is described in detail in many reference books. 
Of good help is e.g. the free available online-manual 
&quot;Common Lisp the Language&quot; by Guy L. Steele. See chapter 22.3.3 there. 
</p>
<pre class="example">   ~%       new line
   ~&amp;       fresh line
   ~t       tab
   ~$       monetary
   ~d       decimal integer
   ~b       binary integer
   ~o       octal integer
   ~x       hexadecimal integer
   ~br      base-b integer
   ~r       spell an integer
   ~p       plural
   ~f       floating point
   ~e       scientific notation
   ~g       ~f or ~e, depending upon magnitude
   ~h       bigfloat
   ~a       uses Maxima function string
   ~s       like ~a, but output enclosed in &quot;double quotes&quot;
   ~~       ~
   ~&lt;       justification, ~&gt; terminates
   ~(       case conversion, ~) terminates 
   ~[       selection, ~] terminates 
   ~{       iteration, ~} terminates
</pre>
<p>The directive ~h for bigfloat is no Lisp-standard and is therefore illustrated below. 
</p>
<p>Note that the directive ~* is not supported.
</p>
<p>If <var>dest</var> is a stream or <code>true</code>, then <code>printf</code> returns <code>false</code>.
Otherwise, <code>printf</code> returns a string containing the output.
</p>
<pre class="example">(%i1) printf( false, &quot;~a ~a ~4f ~a ~@r&quot;, 
              &quot;String&quot;,sym,bound,sqrt(12),144), bound = 1.234;
(%o1)                 String sym 1.23 2*sqrt(3) CXLIV
(%i2) printf( false,&quot;~{~a ~}&quot;,[&quot;one&quot;,2,&quot;THREE&quot;] );
(%o2)                          one 2 THREE 
(%i3) printf(true,&quot;~{~{~9,1f ~}~%~}&quot;,mat ),
          mat = args(matrix([1.1,2,3.33],[4,5,6],[7,8.88,9]))$
      1.1       2.0       3.3 
      4.0       5.0       6.0 
      7.0       8.9       9.0 
(%i4) control: &quot;~:(~r~) bird~p ~[is~;are~] singing.&quot;$
(%i5) printf( false,control, n,n,if n=1 then 1 else 2 ), n=2;
(%o5)                    Two birds are singing.
</pre>
<p>The directive ~h has been introduced to handle bigfloats. 
</p>
<pre class="example">~w,d,e,x,o,p@H
 w : width
 d : decimal digits behind floating point
 e : minimal exponent digits
 x : preferred exponent
 o : overflow character
 p : padding character
 @ : display sign for positive numbers
</pre>
<pre class="example">(%i1) fpprec : 1000$
(%i2) printf(true, &quot;|~h|~%&quot;, 2.b0^-64)$
|0.0000000000000000000542101086242752217003726400434970855712890625|
(%i3) fpprec : 26$
(%i4) printf(true, &quot;|~h|~%&quot;, sqrt(2))$
|1.4142135623730950488016887|
(%i5) fpprec : 24$
(%i6) printf(true, &quot;|~h|~%&quot;, sqrt(2))$
|1.41421356237309504880169|
(%i7) printf(true, &quot;|~28h|~%&quot;, sqrt(2))$
|   1.41421356237309504880169|
(%i8) printf(true, &quot;|~28,,,,,'*h|~%&quot;, sqrt(2))$
|***1.41421356237309504880169|
(%i9) printf(true, &quot;|~,18h|~%&quot;, sqrt(2))$
|1.414213562373095049|
(%i10) printf(true, &quot;|~,,,-3h|~%&quot;, sqrt(2))$
|1414.21356237309504880169b-3|
(%i11) printf(true, &quot;|~,,2,-3h|~%&quot;, sqrt(2))$
|1414.21356237309504880169b-03|
(%i12) printf(true, &quot;|~20h|~%&quot;, sqrt(2))$
|1.41421356237309504880169|
(%i13) printf(true, &quot;|~20,,,,'+h|~%&quot;, sqrt(2))$
|++++++++++++++++++++|
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="readbyte"></a>
<a name="Item_003a-readbyte"></a>
</p><dl>
<dt><u>Function:</u> <b>readbyte</b><i> (<var>stream</var>)</i>
<a name="IDX2451"></a>
</dt>
<dd><p>Removes and returns the first byte in <var>stream</var> which must be a binary input stream. 
If the end of file is encountered <code>readbyte</code> returns <code>false</code>.
</p>
<p>Example: Read the first 16 bytes from a file encrypted with AES in OpenSSL. 
</p>
<pre class="example">(%i1) ibase: obase: 16.$

(%i2) in: openr_binary(&quot;msg.bin&quot;);
(%o2)                       #&lt;input stream msg.bin&gt;
(%i3) (L:[],  thru 16. do push(readbyte(in), L),  L:reverse(L));
(%o3) [53, 61, 6C, 74, 65, 64, 5F, 5F, 88, 56, 0DE, 8A, 74, 0FD, 0AD, 0F0]
(%i4) close(in);
(%o4)                                true
(%i5) map(ascii, rest(L,-8));
(%o5)                      [S, a, l, t, e, d, _, _]
(%i6) salt: octets_to_number(rest(L,8));
(%o6)                          8856de8a74fdadf0
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-input">File input</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="readchar"></a>
<a name="Item_003a-readchar"></a>
</p><dl>
<dt><u>Function:</u> <b>readchar</b><i> (<var>stream</var>)</i>
<a name="IDX2452"></a>
</dt>
<dd><p>Removes and returns the first character in <var>stream</var>. 
If the end of file is encountered <code>readchar</code> returns <code>false</code>.
</p>
<p>Example: See <a href="#make_005fstring_005finput_005fstream">make_string_input_stream</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-input">File input</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="readline"></a>
<a name="Item_003a-readline"></a>
</p><dl>
<dt><u>Function:</u> <b>readline</b><i> (<var>stream</var>) </i>
<a name="IDX2453"></a>
</dt>
<dd><p>Returns a string containing all characters starting at the current position 
in <var>stream</var> up to the end of the line or <code>false</code> 
if the end of the file is encountered.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-input">File input</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sprint"></a>
<a name="Item_003a-sprint"></a>
</p><dl>
<dt><u>Function:</u> <b>sprint</b><i> (<var>expr_1</var>, &hellip;, <var>expr_n</var>)</i>
<a name="IDX2454"></a>
</dt>
<dd><p>Evaluates and displays its arguments one after the other `on a line' starting at
the leftmost position.  The expressions are printed with a space character right next 
to the number, and it disregards line length.  
<code>newline()</code> might be used for line breaking.
</p>
<p>Example: Sequential printing with <code>sprint</code>. 
Creating a new line with <code>newline()</code>.
</p>
<pre class="example">(%i1) for n:0 thru 19 do sprint(fib(n))$
0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987 1597 2584 4181
(%i2) for n:0 thru 22 do ( 
         sprint(fib(n)), 
         if mod(n,10) = 9 then newline() )$
0 1 1 2 3 5 8 13 21 34 
55 89 144 233 377 610 987 1597 2584 4181 
6765 10946 17711 
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p></dd></dl>

<p><a name="writebyte"></a>
<a name="Item_003a-writebyte"></a>
</p><dl>
<dt><u>Function:</u> <b>writebyte</b><i> (<var>byte</var>, <var>stream</var>)</i>
<a name="IDX2455"></a>
</dt>
<dd><p>Writes <var>byte</var> to <var>stream</var> which must be a binary output stream. 
<code>writebyte</code> returns <code>byte</code>.
</p>
<p>Example: Write some bytes to a binary file output stream. 
In this example all bytes correspond to printable characters and are printed 
by <code>printfile</code>. 
The bytes remain in the stream until <code>flush_output</code> or <code>close</code> have been called.
</p>
<pre class="example">(%i1) ibase: obase: 16.$

(%i2) bytes: map(cint, charlist(&quot;GNU/Linux&quot;));
(%o2)                [47, 4E, 55, 2F, 4C, 69, 6E, 75, 78]
(%i3) out: openw_binary(&quot;test.bin&quot;);
(%o3)                      #&lt;output stream test.bin&gt;
(%i4) for i thru 3 do writebyte(bytes[i], out);
(%o4)                                done
(%i5) printfile(&quot;test.bin&quot;)$

(%i6) flength(out);
(%o6)                                  0
(%i7) flush_output(out);
(%o7)                                true
(%i8) flength(out);
(%o8)                                  3
(%i9) printfile(&quot;test.bin&quot;)$
GNU
(%i0A) for b in rest(bytes,3) do writebyte(b, out);
(%o0A)                               done
(%i0B) close(out);
(%o0B)                               true
(%i0C) printfile(&quot;test.bin&quot;)$
GNU/Linux
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-File-output">File output</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="Item_003a-Characters"></a>
</p><hr size="6">
<a name="Characters"></a>
<a name="SEC391"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC390" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC392" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC388" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC388" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_85.html#SEC394" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_89.html#SEC426" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 84.3 Characters </h2>

<p>Characters are strings of length 1.
</p>
<p><a name="adjust_005fexternal_005fformat"></a>
<a name="Item_003a-adjust_005fexternal_005fformat"></a>
</p><dl>
<dt><u>Function:</u> <b>adjust_external_format</b><i> () </i>
<a name="IDX2456"></a>
</dt>
<dd><p>Prints information about the current external format of the Lisp reader 
and in case the external format encoding differs from the encoding of the 
application which runs Maxima <code>adjust_external_format</code> tries to adjust 
the encoding or prints some help or instruction.
<code>adjust_external_format</code> returns <code>true</code> when the external format has 
been changed and <code>false</code> otherwise.
</p>
<p>Functions like <a href="#cint">cint</a>, <a href="#unicode">unicode</a>, <a href="#octets_005fto_005fstring">octets_to_string</a> 
and <a href="#string_005fto_005foctets">string_to_octets</a> need UTF-8 as the external format of the 
Lisp reader to work properly over the full range of Unicode characters. 
</p>
<p>Examples (Maxima on Windows, March 2016): 
Using <code>adjust_external_format</code> when the default external format 
is not equal to the encoding provided by the application.
</p>
<p>1. Command line Maxima
</p>
<p>In case a terminal session is preferred it is recommended to use Maxima compiled 
with SBCL. Here Unicode support is provided by default and calls to 
<code>adjust_external_format</code> are unnecessary. 
</p>
<p>If Maxima is compiled with CLISP or GCL it is recommended to change 
the terminal encoding from CP850 to CP1252. 
<code>adjust_external_format</code> prints some help. 
</p>
<p>CCL reads UTF-8 while the terminal input is CP850 by default. 
CP1252 is not supported by CCL. <code>adjust_external_format</code> 
prints instructions for changing the terminal encoding and external format 
both to iso-8859-1.
</p>
<p>2. wxMaxima
</p>
<p>In wxMaxima SBCL reads CP1252 by default but the input from the application 
is UTF-8 encoded. Adjustment is needed. 
</p>
<p>Calling <code>adjust_external_format</code> and restarting Maxima 
permanently changes the default external format to UTF-8.
</p>
<pre class="example">(%i1)adjust_external_format();
The line
(setf sb-impl::*default-external-format* :utf-8)
has been appended to the init file
C:/Users/Username/.sbclrc
Please restart Maxima to set the external format to UTF-8.
(%i1) false
</pre>
<p>Restarting Maxima.
</p>
<pre class="example">(%i1) adjust_external_format();
The external format is currently UTF-8
and has not been changed.
(%i1) false
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="alphacharp"></a>
<a name="Item_003a-alphacharp"></a>
</p><dl>
<dt><u>Function:</u> <b>alphacharp</b><i> (<var>char</var>)  </i>
<a name="IDX2457"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>char</var> is an alphabetic character. 
</p>
<p>To identify a non-US-ASCII character as an alphabetic character 
the underlying Lisp must provide full Unicode support. 
E.g. a German umlaut is detected as an alphabetic character with SBCL in GNU/Linux 
but not with GCL. 
(In Windows Maxima, when compiled with SBCL, must be set to UTF-8. 
See <a href="#adjust_005fexternal_005fformat">adjust_external_format</a> for more.) 
</p>
<p>Example: Examination of non-US-ASCII characters.
</p>
<p>The underlying Lisp (SBCL, GNU/Linux) is able to convert the typed character 
into a Lisp character and to examine.
</p>
<pre class="example">(%i1) alphacharp(&quot;&uuml;&quot;);
(%o1)                          true
</pre>
<p>In GCL this is not possible. An error break occurs.
</p>
<pre class="example">(%i1) alphacharp(&quot;u&quot;);
(%o1)                          true
(%i2) alphacharp(&quot;&uuml;&quot;);

package stringproc: &uuml; cannot be converted into a Lisp character.
 -- an error.
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="alphanumericp"></a>
<a name="Item_003a-alphanumericp"></a>
</p><dl>
<dt><u>Function:</u> <b>alphanumericp</b><i> (<var>char</var>) </i>
<a name="IDX2458"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>char</var> is an alphabetic character or a digit 
(only corresponding US-ASCII characters are regarded as digits). 
</p>
<p>Note: See remarks on <a href="#alphacharp">alphacharp</a>. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="ascii"></a>
<a name="Item_003a-ascii"></a>
</p><dl>
<dt><u>Function:</u> <b>ascii</b><i> (<var>int</var>) </i>
<a name="IDX2459"></a>
</dt>
<dd><p>Returns the US-ASCII character corresponding to the integer <var>int</var>
which has to be less than <code>128</code>.
</p>
<p>See <a href="#unicode">unicode</a> for converting code points larger than <code>127</code>.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) for n from 0 thru 127 do ( 
        ch: ascii(n), 
        if alphacharp(ch) then sprint(ch),
        if n = 96 then newline() )$
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z 
a b c d e f g h i j k l m n o p q r s t u v w x y z
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="cequal"></a>
<a name="Item_003a-cequal"></a>
</p><dl>
<dt><u>Function:</u> <b>cequal</b><i> (<var>char_1</var>, <var>char_2</var>) </i>
<a name="IDX2460"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>char_1</var> and <var>char_2</var> are the same character. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="cequalignore"></a>
<a name="Item_003a-cequalignore"></a>
</p><dl>
<dt><u>Function:</u> <b>cequalignore</b><i> (<var>char_1</var>, <var>char_2</var>) </i>
<a name="IDX2461"></a>
</dt>
<dd><p>Like <code>cequal</code> but ignores case which is only possible for non-US-ASCII 
characters when the underlying Lisp is able to recognize a character as an 
alphabetic character. See remarks on <a href="#alphacharp">alphacharp</a>. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="cgreaterp"></a>
<a name="Item_003a-cgreaterp"></a>
</p><dl>
<dt><u>Function:</u> <b>cgreaterp</b><i> (<var>char_1</var>, <var>char_2</var>) </i>
<a name="IDX2462"></a>
</dt>
<dd><p>Returns <code>true</code> if the code point of <var>char_1</var> is greater than the 
code point of <var>char_2</var>. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="cgreaterpignore"></a>
<a name="Item_003a-cgreaterpignore"></a>
</p><dl>
<dt><u>Function:</u> <b>cgreaterpignore</b><i> (<var>char_1</var>, <var>char_2</var>) </i>
<a name="IDX2463"></a>
</dt>
<dd><p>Like <code>cgreaterp</code> but ignores case which is only possible for non-US-ASCII 
characters when the underlying Lisp is able to recognize a character as an 
alphabetic character. See remarks on <a href="#alphacharp">alphacharp</a>. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="charp"></a>
<a name="Item_003a-charp"></a>
</p><dl>
<dt><u>Function:</u> <b>charp</b><i> (<var>obj</var>) </i>
<a name="IDX2464"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>obj</var> is a Maxima-character.
See introduction for example.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="cint"></a>
<a name="Item_003a-cint"></a>
</p><dl>
<dt><u>Function:</u> <b>cint</b><i> (<var>char</var>) </i>
<a name="IDX2465"></a>
</dt>
<dd><p>Returns the Unicode code point of <var>char</var> which must be a 
Maxima character, i.e. a string of length <code>1</code>.
</p>
<p>Examples: The hexadecimal code point of some characters 
(Maxima with SBCL on GNU/Linux). 
</p>
<pre class="example">(%i1) obase: 16.$
(%i2) map(cint, [&quot;$&quot;,&quot;&pound;&quot;,&quot;&euro;&quot;]);
(%o2)                           [24, 0A3, 20AC]
</pre>
<p>Warning: It is not possible to enter characters corresponding to code points 
larger than 16 bit in wxMaxima with SBCL on Windows when the external format 
has not been set to UTF-8. See <a href="#adjust_005fexternal_005fformat">adjust_external_format</a>.
</p>

<p>CMUCL doesn't process these characters as one character. 
<code>cint</code> then returns <code>false</code>. 
Converting a character to a code point via UTF-8-octets may serve as a workaround: 
</p>
<p><code>utf8_to_unicode(string_to_octets(character));</code>
</p>

<p>See <a href="#utf8_005fto_005funicode">utf8_to_unicode</a>, <a href="#string_005fto_005foctets">string_to_octets</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="clessp"></a>
<a name="Item_003a-clessp"></a>
</p><dl>
<dt><u>Function:</u> <b>clessp</b><i> (<var>char_1</var>, <var>char_2</var>)</i>
<a name="IDX2466"></a>
</dt>
<dd><p>Returns <code>true</code> if the code point of <var>char_1</var> is less than the 
code point of <var>char_2</var>. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="clesspignore"></a>
<a name="Item_003a-clesspignore"></a>
</p><dl>
<dt><u>Function:</u> <b>clesspignore</b><i> (<var>char_1</var>, <var>char_2</var>)</i>
<a name="IDX2467"></a>
</dt>
<dd><p>Like <code>clessp</code> but ignores case which is only possible for non-US-ASCII 
characters when the underlying Lisp is able to recognize a character as an 
alphabetic character. See remarks on <a href="#alphacharp">alphacharp</a>. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="constituent"></a>
<a name="Item_003a-constituent"></a>
</p><dl>
<dt><u>Function:</u> <b>constituent</b><i> (<var>char</var>) </i>
<a name="IDX2468"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>char</var> is a graphic character but not a space character.
A graphic character is a character one can see, plus the space character.
(<code>constituent</code> is defined by Paul Graham. 
See Paul Graham, ANSI Common Lisp, 1996, page 67.)
</p>
<pre class="example">(%i1) for n from 0 thru 255 do ( 
tmp: ascii(n), if constituent(tmp) then sprint(tmp) )$
! &quot; #  %  ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B
C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \ ] ^ _ ` a b c
d e f g h i j k l m n o p q r s t u v w x y z { | } ~
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>


<p><a name="digitcharp"></a>
<a name="Item_003a-digitcharp"></a>
</p><dl>
<dt><u>Function:</u> <b>digitcharp</b><i> (<var>char</var>) </i>
<a name="IDX2469"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>char</var> is a digit where only the corresponding 
US-ASCII-character is regarded as a digit.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>


<p><a name="lowercasep"></a>
<a name="Item_003a-lowercasep"></a>
</p><dl>
<dt><u>Function:</u> <b>lowercasep</b><i> (<var>char</var>) </i>
<a name="IDX2470"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>char</var> is a lowercase character. 
</p>
<p>Note: See remarks on <a href="#alphacharp">alphacharp</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="newline_005fvariable"></a>
</p>
<dl>
<dt><u>Variable:</u> <b>newline</b>
<a name="IDX2471"></a>
</dt>
<dd><p>The newline character (ASCII-character 10). 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Global-variables">Global variables</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="space_005fvariable"></a>
<a name="Item_003a-space"></a>
</p><dl>
<dt><u>Variable:</u> <b>space</b>
<a name="IDX2472"></a>
</dt>
<dd><p>The space character.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Global-variables">Global variables</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="tab_005fvariable"></a>
<a name="Item_003a-tab"></a>
</p><dl>
<dt><u>Variable:</u> <b>tab</b>
<a name="IDX2473"></a>
</dt>
<dd><p>The tab character.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Global-variables">Global variables</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="unicode"></a>
<a name="Item_003a-unicode"></a>
</p><dl>
<dt><u>Function:</u> <b>unicode</b><i> (<var>arg</var>) </i>
<a name="IDX2474"></a>
</dt>
<dd><p>Returns the character defined by <var>arg</var> which might be a Unicode code point 
or a name string if the underlying Lisp provides full Unicode support. 
</p>
<p>Example: Characters defined by hexadecimal code points
(Maxima with SBCL on GNU/Linux). 
</p>
<pre class="example">(%i1) ibase: 16.$
(%i2) map(unicode, [24, 0A3, 20AC]);
(%o2)                            [$, &pound;, &euro;]
</pre>
<p>Warning: In wxMaxima with SBCL on Windows it is not possible to convert 
code points larger than 16 bit to characters when the external format 
has not been set to UTF-8. See <a href="#adjust_005fexternal_005fformat">adjust_external_format</a> for more information.
</p>

<p>CMUCL doesn't process code points larger than 16 bit. 
In these cases <code>unicode</code> returns <code>false</code>. 
Converting a code point to a character via UTF-8 octets may serve as a workaround: 
</p>
<p><code>octets_to_string(unicode_to_utf8(code_point));</code>
</p>

<p>See <a href="#octets_005fto_005fstring">octets_to_string</a>, <a href="#unicode_005fto_005futf8">unicode_to_utf8</a>.
</p>
<p>In case the underlying Lisp provides full Unicode support the character might be 
specified by its name. The following is possible in ECL, CLISP and SBCL, 
where in SBCL on Windows the external format has to be set to UTF-8.
<code>unicode(name)</code> is supported by CMUCL too but again limited to 16 bit 
characters. 
</p>
<p>The string argument to <code>unicode</code> is basically the same string returned by 
<code>printf</code> using the &quot;~@c&quot; specifier. 
But as shown below the prefix &quot;#\&quot; must be omitted. 
Underlines might be replaced by spaces and uppercase letters by lowercase ones.
</p>
<p>Example (continued): Characters defined by names 
(Maxima with SBCL on GNU/Linux). 
</p>
<pre class="example">(%i3) printf(false, &quot;~@c&quot;, unicode(0DF));
(%o3)                    #\LATIN_SMALL_LETTER_SHARP_S
(%i4) unicode(&quot;LATIN_SMALL_LETTER_SHARP_S&quot;);
(%o4)                                  &szlig;
(%i5) unicode(&quot;Latin small letter sharp s&quot;);
(%o5)                                  &szlig;
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="unicode_005fto_005futf8"></a>
<a name="Item_003a-unicode_005fto_005futf8"></a>
</p><dl>
<dt><u>Function:</u> <b>unicode_to_utf8</b><i> (<var>code_point</var>) </i>
<a name="IDX2475"></a>
</dt>
<dd><p>Returns a list containing the UTF-8 code corresponding to the Unicode <var>code_point</var>.
</p>
<p>Examples: Converting Unicode code points to UTF-8 and vice versa. 
</p>
<pre class="example">(%i1) ibase: obase: 16.$
(%i2) map(cint, [&quot;$&quot;,&quot;&pound;&quot;,&quot;&euro;&quot;]);
(%o2)                           [24, 0A3, 20AC]
(%i3) map(unicode_to_utf8, %);
(%o3)                 [[24], [0C2, 0A3], [0E2, 82, 0AC]]
(%i4) map(utf8_to_unicode, %);
(%o4)                           [24, 0A3, 20AC]
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="uppercasep"></a>
<a name="Item_003a-uppercasep"></a>
</p><dl>
<dt><u>Function:</u> <b>uppercasep</b><i> (<var>char</var>)  </i>
<a name="IDX2476"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>char</var> is an uppercase character. 
</p>
<p>Note: See remarks on <a href="#alphacharp">alphacharp</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="us_005fascii_005fonly"></a>
<a name="Item_003a-us_005fascii_005fonly"></a>
</p><dl>
<dt><u>Variable:</u> <b>us_ascii_only</b>
<a name="IDX2477"></a>
</dt>
<dd><p>This option variable affects Maxima when the character encoding 
provided by the application which runs Maxima is UTF-8 but the 
external format of the Lisp reader is not equal to UTF-8. 
</p>
<p>On GNU/Linux this is true when Maxima is built with GCL 
and on Windows in wxMaxima with GCL- and SBCL-builds. 
With SBCL it is recommended to change the external format to UTF-8. 
Setting <code>us_ascii_only</code> is unnecessary then. 
See <a href="#adjust_005fexternal_005fformat">adjust_external_format</a> for details. 
</p>
<p><code>us_ascii_only</code> is <code>false</code> by default. 
Maxima itself then (i.e. in the above described situation) parses the UTF-8 encoding.
</p>
<p>When <code>us_ascii_only</code> is set to <code>true</code> it is assumed that all strings 
used as arguments to string processing functions do not contain Non-US-ASCII characters. 
Given that promise, Maxima avoids parsing UTF-8 and strings can be processed more efficiently.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Global-variables">Global variables</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="utf8_005fto_005funicode"></a>
<a name="Item_003a-utf8_005fto_005funicode"></a>
</p><dl>
<dt><u>Function:</u> <b>utf8_to_unicode</b><i> (<var>list</var>) </i>
<a name="IDX2478"></a>
</dt>
<dd><p>Returns a Unicode code point corresponding to the <var>list</var> which must contain 
the UTF-8 encoding of a single character.
</p>
<p>Examples: See <a href="#unicode_005fto_005futf8">unicode_to_utf8</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="Item_003a-String-Processing"></a>
</p><hr size="6">
<a name="String-Processing"></a>
<a name="SEC392"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC391" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC393" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC388" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC388" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_85.html#SEC394" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_89.html#SEC426" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 84.4 String Processing </h2>

<p>Position indices in strings are 1-indexed like in Maxima lists. 
See example in <a href="#charat">charat</a>.
</p>
<p><a name="charat"></a>
<a name="Item_003a-charat"></a>
</p><dl>
<dt><u>Function:</u> <b>charat</b><i> (<var>string</var>, <var>n</var>) </i>
<a name="IDX2479"></a>
</dt>
<dd><p>Returns the <var>n</var>-th character of <var>string</var>.
The first character in <var>string</var> is returned with <var>n</var> = 1. 
</p>
<pre class="example">(%i1) charat(&quot;Lisp&quot;,1);
(%o1)                           L
(%i2) charlist(&quot;Lisp&quot;)[1];
(%o2)                           L
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="charlist"></a>
<a name="Item_003a-charlist"></a>
</p><dl>
<dt><u>Function:</u> <b>charlist</b><i> (<var>string</var>) </i>
<a name="IDX2480"></a>
</dt>
<dd><p>Returns the list of all characters in <var>string</var>. 
</p>
<pre class="example">(%i1) charlist(&quot;Lisp&quot;);
(%o1)                     [L, i, s, p]
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="eval_005fstring"></a>
<a name="Item_003a-eval_005fstring"></a>
</p><dl>
<dt><u>Function:</u> <b>eval_string</b><i> (<var>str</var>)</i>
<a name="IDX2481"></a>
</dt>
<dd><p>Parse the string <var>str</var> as a Maxima expression and evaluate it.
The string <var>str</var> may or may not have a terminator (dollar sign <code>$</code> or semicolon <code>;</code>).
Only the first expression is parsed and evaluated, if there is more than one.
</p>
<p>Complain if <var>str</var> is not a string.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) eval_string (&quot;foo: 42; bar: foo^2 + baz&quot;);
(%o1)                       42
(%i2) eval_string (&quot;(foo: 42, bar: foo^2 + baz)&quot;);
(%o2)                   baz + 1764
</pre>
<p>See also <a href="#parse_005fstring">parse_string</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="parse_005fstring"></a>
<a name="Item_003a-parse_005fstring"></a>
</p><dl>
<dt><u>Function:</u> <b>parse_string</b><i> (<var>str</var>)</i>
<a name="IDX2482"></a>
</dt>
<dd><p>Parse the string <var>str</var> as a Maxima expression (do not evaluate it).
The string <var>str</var> may or may not have a terminator (dollar sign <code>$</code> or semicolon <code>;</code>).
Only the first expression is parsed, if there is more than one.
</p>
<p>Complain if <var>str</var> is not a string.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) parse_string (&quot;foo: 42; bar: foo^2 + baz&quot;);
(%o1)                    foo : 42
(%i2) parse_string (&quot;(foo: 42, bar: foo^2 + baz)&quot;);
                                   2
(%o2)          (foo : 42, bar : foo  + baz)
</pre>
<p>See also <a href="#eval_005fstring">eval_string</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="scopy"></a>
<a name="Item_003a-scopy"></a>
</p><dl>
<dt><u>Function:</u> <b>scopy</b><i> (<var>string</var>) </i>
<a name="IDX2483"></a>
</dt>
<dd><p>Returns a copy of <var>string</var> as a new string. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sdowncase"></a>
<a name="Item_003a-sdowncase"></a>
</p><dl>
<dt><u>Function:</u> <b>sdowncase</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sdowncase</tt> (<var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sdowncase</tt> (<var>string</var>, <var>start</var>)  &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sdowncase</tt> (<var>string</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2484"></a>
</dt>
<dd><p>Like <a href="#supcase">supcase</a> but uppercase characters are converted to lowercase. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sequal"></a>
<a name="Item_003a-sequal"></a>
</p><dl>
<dt><u>Function:</u> <b>sequal</b><i> (<var>string_1</var>, <var>string_2</var>) </i>
<a name="IDX2485"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>string_1</var> and <var>string_2</var> contain the same 
sequence of characters. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sequalignore"></a>
<a name="Item_003a-sequalignore"></a>
</p><dl>
<dt><u>Function:</u> <b>sequalignore</b><i> (<var>string_1</var>, <var>string_2</var>)</i>
<a name="IDX2486"></a>
</dt>
<dd><p>Like <code>sequal</code> but ignores case which is only possible for non-US-ASCII 
characters when the underlying Lisp is able to recognize a character as an 
alphabetic character. See remarks on <a href="#alphacharp">alphacharp</a>. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sexplode"></a>
<a name="Item_003a-sexplode"></a>
</p><dl>
<dt><u>Function:</u> <b>sexplode</b><i> (<var>string</var>)</i>
<a name="IDX2487"></a>
</dt>
<dd><p><code>sexplode</code> is an alias for function <code>charlist</code>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="simplode"></a>
<a name="Item_003a-simplode"></a>
</p><dl>
<dt><u>Function:</u> <b>simplode</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>simplode</tt> (<var>list</var>)   &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>simplode</tt> (<var>list</var>, <var>delim</var>)  </i>
<a name="IDX2488"></a>
</dt>
<dd><p><code>simplode</code> takes a list of expressions and concatenates them into a string.
If no delimiter <var>delim</var> is specified, <code>simplode</code> uses no delimiter.
<var>delim</var> can be any string.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) simplode([&quot;xx[&quot;,3,&quot;]:&quot;,expand((x+y)^3)]);
(%o1)             xx[3]:y^3+3*x*y^2+3*x^2*y+x^3
(%i2) simplode( sexplode(&quot;stars&quot;),&quot; * &quot; );
(%o2)                   s * t * a * r * s
(%i3) simplode( [&quot;One&quot;,&quot;more&quot;,&quot;coffee.&quot;],&quot; &quot; );
(%o3)                   One more coffee.
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sinsert"></a>
<a name="Item_003a-sinsert"></a>
</p><dl>
<dt><u>Function:</u> <b>sinsert</b><i> (<var>seq</var>, <var>string</var>, <var>pos</var>)  </i>
<a name="IDX2489"></a>
</dt>
<dd><p>Returns a string that is a concatenation of <code>substring(<var>string</var>, 1, <var>pos</var>-1)</code>,
the string <var>seq</var> and <code>substring (<var>string</var>, <var>pos</var>)</code>.
Note that the first character in <var>string</var> is in position 1.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) s: &quot;A submarine.&quot;$
(%i2) concat( substring(s,1,3),&quot;yellow &quot;,substring(s,3) );
(%o2)                  A yellow submarine.
(%i3) sinsert(&quot;hollow &quot;,s,3);
(%o3)                  A hollow submarine.
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sinvertcase"></a>
<a name="Item_003a-sinvertcase"></a>
</p><dl>
<dt><u>Function:</u> <b>sinvertcase</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sinvertcase</tt> (<var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sinvertcase</tt> (<var>string</var>, <var>start</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sinvertcase</tt> (<var>string</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2490"></a>
</dt>
<dd><p>Returns <var>string</var> except that each character from position <var>start</var> to <var>end</var> is inverted.
If <var>end</var> is not given,
all characters from <var>start</var> to the end of <var>string</var> are replaced.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) sinvertcase(&quot;sInvertCase&quot;);
(%o1)                      SiNVERTcASE
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="slength"></a>
<a name="Item_003a-slength"></a>
</p><dl>
<dt><u>Function:</u> <b>slength</b><i> (<var>string</var>) </i>
<a name="IDX2491"></a>
</dt>
<dd><p>Returns the number of characters in <var>string</var>. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="smake"></a>
<a name="Item_003a-smake"></a>
</p><dl>
<dt><u>Function:</u> <b>smake</b><i> (<var>num</var>, <var>char</var>) </i>
<a name="IDX2492"></a>
</dt>
<dd><p>Returns a new string with a number of <var>num</var> characters <var>char</var>. 
</p>
<p>Example:
</p>
<pre class="example">(%i1) smake(3,&quot;w&quot;);
(%o1)                          www
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="smismatch"></a>
<a name="Item_003a-smismatch"></a>
</p><dl>
<dt><u>Function:</u> <b>smismatch</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>smismatch</tt> (<var>string_1</var>, <var>string_2</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>smismatch</tt> (<var>string_1</var>, <var>string_2</var>, <var>test</var>)</i>
<a name="IDX2493"></a>
</dt>
<dd><p>Returns the position of the first character of <var>string_1</var> at which <var>string_1</var> and <var>string_2</var> differ or <code>false</code>.
Default test function for matching is <code>sequal</code>.
If <code>smismatch</code> should ignore case, use <code>sequalignore</code> as test.
</p>
<p>Example:
</p>
<pre class="example">(%i1) smismatch(&quot;seven&quot;,&quot;seventh&quot;);
(%o1)                           6
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="split"></a>
<a name="Item_003a-split"></a>
</p><dl>
<dt><u>Function:</u> <b>split</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>split</tt> (<var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>split</tt> (<var>string</var>, <var>delim</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>split</tt> (<var>string</var>, <var>delim</var>, <var>multiple</var>)</i>
<a name="IDX2494"></a>
</dt>
<dd><p>Returns the list of all tokens in <var>string</var>.
Each token is an unparsed string.
<code>split</code> uses <var>delim</var> as delimiter.
If <var>delim</var> is not given, the space character is the default delimiter.
<var>multiple</var> is a boolean variable with <code>true</code> by default.
Multiple delimiters are read as one.
This is useful if tabs are saved as multiple space characters.
If <var>multiple</var> is set to <code>false</code>, each delimiter is noted.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) split(&quot;1.2   2.3   3.4   4.5&quot;);
(%o1)                 [1.2, 2.3, 3.4, 4.5]
(%i2) split(&quot;first;;third;fourth&quot;,&quot;;&quot;,false);
(%o2)               [first, , third, fourth]
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sposition"></a>
<a name="Item_003a-sposition"></a>
</p><dl>
<dt><u>Function:</u> <b>sposition</b><i> (<var>char</var>, <var>string</var>) </i>
<a name="IDX2495"></a>
</dt>
<dd><p>Returns the position of the first character in <var>string</var> which matches <var>char</var>.
The first character in <var>string</var> is in position 1.
For matching characters ignoring case see <a href="#ssearch">ssearch</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sremove"></a>
<a name="Item_003a-sremove"></a>
</p><dl>
<dt><u>Function:</u> <b>sremove</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sremove</tt> (<var>seq</var>, <var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sremove</tt> (<var>seq</var>, <var>string</var>, <var>test</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sremove</tt> (<var>seq</var>, <var>string</var>, <var>test</var>, <var>start</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sremove</tt> (<var>seq</var>, <var>string</var>, <var>test</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2496"></a>
</dt>
<dd><p>Returns a string like <var>string</var> but without all substrings matching <var>seq</var>.
Default test function for matching is <code>sequal</code>.
If <code>sremove</code> should ignore case while searching for <var>seq</var>, use <code>sequalignore</code> as test.
Use <var>start</var> and <var>end</var> to limit searching.
Note that the first character in <var>string</var> is in position 1.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) sremove(&quot;n't&quot;,&quot;I don't like coffee.&quot;);
(%o1)                   I do like coffee.
(%i2) sremove (&quot;DO &quot;,%,'sequalignore);
(%o2)                    I like coffee.
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sremovefirst"></a>
<a name="Item_003a-sremovefirst"></a>
</p><dl>
<dt><u>Function:</u> <b>sremovefirst</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sremovefirst</tt> (<var>seq</var>, <var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sremovefirst</tt> (<var>seq</var>, <var>string</var>, <var>test</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sremovefirst</tt> (<var>seq</var>, <var>string</var>, <var>test</var>, <var>start</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sremovefirst</tt> (<var>seq</var>, <var>string</var>, <var>test</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2497"></a>
</dt>
<dd><p>Like <code>sremove</code> except that only the first substring that matches <var>seq</var> is removed.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sreverse"></a>
<a name="Item_003a-sreverse"></a>
</p><dl>
<dt><u>Function:</u> <b>sreverse</b><i> (<var>string</var>) </i>
<a name="IDX2498"></a>
</dt>
<dd><p>Returns a string with all the characters of <var>string</var> in reverse order. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="ssearch"></a>
<a name="Item_003a-ssearch"></a>
</p><dl>
<dt><u>Function:</u> <b>ssearch</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssearch</tt> (<var>seq</var>, <var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssearch</tt> (<var>seq</var>, <var>string</var>, <var>test</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssearch</tt> (<var>seq</var>, <var>string</var>, <var>test</var>, <var>start</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssearch</tt> (<var>seq</var>, <var>string</var>, <var>test</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2499"></a>
</dt>
<dd><p>Returns the position of the first substring of <var>string</var> that matches the string <var>seq</var>.
Default test function for matching is <code>sequal</code>.
If <code>ssearch</code> should ignore case, use <code>sequalignore</code> as test.
Use <var>start</var> and <var>end</var> to limit searching.
Note that the first character in <var>string</var> is in position 1.
</p>
<p>Example:
</p>
<pre class="example">(%i1) ssearch(&quot;~s&quot;,&quot;~{~S ~}~%&quot;,'sequalignore);
(%o1)                                  4
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="ssort"></a>
<a name="Item_003a-ssort"></a>
</p><dl>
<dt><u>Function:</u> <b>ssort</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssort</tt> (<var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssort</tt> (<var>string</var>, <var>test</var>)</i>
<a name="IDX2500"></a>
</dt>
<dd><p>Returns a string that contains all characters from <var>string</var> in an order such there are no two successive characters <var>c</var> and <var>d</var> such that <code>test (<var>c</var>, <var>d</var>)</code> is <code>false</code> and <code>test (<var>d</var>, <var>c</var>)</code> is <code>true</code>.
Default test function for sorting is <var>clessp</var>.
The set of test functions is <code>{clessp, clesspignore, cgreaterp, cgreaterpignore, cequal, cequalignore}</code>.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) ssort(&quot;I don't like Mondays.&quot;);
(%o1)                    '.IMaddeiklnnoosty
(%i2) ssort(&quot;I don't like Mondays.&quot;,'cgreaterpignore);
(%o2)                 ytsoonnMlkIiedda.'   
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="ssubst"></a>
<a name="Item_003a-ssubst"></a>
</p><dl>
<dt><u>Function:</u> <b>ssubst</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssubst</tt> (<var>new</var>, <var>old</var>, <var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssubst</tt> (<var>new</var>, <var>old</var>, <var>string</var>, <var>test</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssubst</tt> (<var>new</var>, <var>old</var>, <var>string</var>, <var>test</var>, <var>start</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssubst</tt> (<var>new</var>, <var>old</var>, <var>string</var>, <var>test</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2501"></a>
</dt>
<dd><p>Returns a string like <var>string</var> except that all substrings matching <var>old</var> are replaced by <var>new</var>.
<var>old</var> and <var>new</var> need not to be of the same length.
Default test function for matching is <code>sequal</code>.
If <code>ssubst</code> should ignore case while searching for old, use <code>sequalignore</code> as test.
Use <var>start</var> and <var>end</var> to limit searching.
Note that the first character in <var>string</var> is in position 1.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) ssubst(&quot;like&quot;,&quot;hate&quot;,&quot;I hate Thai food. I hate green tea.&quot;);
(%o1)          I like Thai food. I like green tea.
(%i2) ssubst(&quot;Indian&quot;,&quot;thai&quot;,%,'sequalignore,8,12);
(%o2)         I like Indian food. I like green tea.
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="ssubstfirst"></a>
<a name="Item_003a-ssubstfirst"></a>
</p><dl>
<dt><u>Function:</u> <b>ssubstfirst</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssubstfirst</tt> (<var>new</var>, <var>old</var>, <var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssubstfirst</tt> (<var>new</var>, <var>old</var>, <var>string</var>, <var>test</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssubstfirst</tt> (<var>new</var>, <var>old</var>, <var>string</var>, <var>test</var>, <var>start</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>ssubstfirst</tt> (<var>new</var>, <var>old</var>, <var>string</var>, <var>test</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2502"></a>
</dt>
<dd><p>Like <code>subst</code> except that only the first substring that matches <var>old</var> is replaced.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="strim"></a>
<a name="Item_003a-strim"></a>
</p><dl>
<dt><u>Function:</u> <b>strim</b><i> (<var>seq</var>,<var>string</var>) </i>
<a name="IDX2503"></a>
</dt>
<dd><p>Returns a string like <var>string</var>,
but with all characters that appear in <var>seq</var> removed from both ends. 
</p>
<p>Examples:
</p>
<pre class="example">(%i1) &quot;/* comment */&quot;$
(%i2) strim(&quot; /*&quot;,%);
(%o2)                        comment
(%i3) slength(%);
(%o3)                           7
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="striml"></a>
<a name="Item_003a-striml"></a>
</p><dl>
<dt><u>Function:</u> <b>striml</b><i> (<var>seq</var>, <var>string</var>) </i>
<a name="IDX2504"></a>
</dt>
<dd><p>Like <code>strim</code> except that only the left end of <var>string</var> is trimmed. 
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="strimr"></a>
<a name="Item_003a-strimr"></a>
</p><dl>
<dt><u>Function:</u> <b>strimr</b><i> (<var>seq</var>, <var>string</var>) </i>
<a name="IDX2505"></a>
</dt>
<dd><p>Like <code>strim</code> except that only the right end of <var>string</var> is trimmed.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="stringp"></a>
<a name="Item_003a-stringp"></a>
</p><dl>
<dt><u>Function:</u> <b>stringp</b><i> (<var>obj</var>) </i>
<a name="IDX2506"></a>
</dt>
<dd><p>Returns <code>true</code> if <var>obj</var> is a string.
See introduction for example.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Predicate-functions">Predicate functions</a> &middot;
<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="substring"></a>
<a name="Item_003a-substring"></a>
</p><dl>
<dt><u>Function:</u> <b>substring</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>substring</tt> (<var>string</var>, <var>start</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>substring</tt> (<var>string</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2507"></a>
</dt>
<dd><p>Returns the substring of <var>string</var> beginning at position <var>start</var> and ending at position <var>end</var>.
The character at position <var>end</var> is not included.
If <var>end</var> is not given, the substring contains the rest of the string.
Note that the first character in <var>string</var> is in position 1.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) substring(&quot;substring&quot;,4);
(%o1)                        string
(%i2) substring(%,4,6);
(%o2)                          in
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="supcase"></a>
<a name="Item_003a-supcase"></a>
</p><dl>
<dt><u>Function:</u> <b>supcase</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>supcase</tt> (<var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>supcase</tt> (<var>string</var>, <var>start</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>supcase</tt> (<var>string</var>, <var>start</var>, <var>end</var>)</i>
<a name="IDX2508"></a>
</dt>
<dd><p>Returns <var>string</var> except that lowercase characters from position <var>start</var> to <var>end</var> are replaced by the corresponding uppercase ones.
If <var>end</var> is not given,
all lowercase characters from <var>start</var> to the end of <var>string</var> are replaced.
</p>
<p>Example:
</p>
<pre class="example">(%i1) supcase(&quot;english&quot;,1,2);
(%o1)                        English
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="tokens"></a>
<a name="Item_003a-tokens"></a>
</p><dl>
<dt><u>Function:</u> <b>tokens</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tokens</tt> (<var>string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>tokens</tt> (<var>string</var>, <var>test</var>)</i>
<a name="IDX2509"></a>
</dt>
<dd><p>Returns a list of tokens, which have been extracted from <var>string</var>.
The tokens are substrings whose characters satisfy a certain test function.
If test is not given, <var>constituent</var> is used as the default test.
<code>{constituent, alphacharp, digitcharp, lowercasep, uppercasep, charp, characterp, alphanumericp}</code> is the set of test functions. 
(The Lisp-version of <code>tokens</code> is written by Paul Graham. ANSI Common Lisp, 1996, page 67.)
</p>
<p>Examples:
</p>
<pre class="example">(%i1) tokens(&quot;24 October 2005&quot;);
(%o1)                  [24, October, 2005]
(%i2) tokens(&quot;05-10-24&quot;,'digitcharp);
(%o2)                     [05, 10, 24]
(%i3) map(parse_string,%);
(%o3)                      [5, 10, 24]
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="Item_003a-Octets-and-Utilities-for-Cryptography"></a>
</p><hr size="6">
<a name="Octets-and-Utilities-for-Cryptography"></a>
<a name="SEC393"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC392" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_85.html#SEC394" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC388" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC388" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_85.html#SEC394" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_89.html#SEC426" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 84.5 Octets and Utilities for Cryptography </h2>

<p><a name="base64"></a>
<a name="Item_003a-base64"></a>
</p><dl>
<dt><u>Function:</u> <b>base64</b><i> (<var>arg</var>)</i>
<a name="IDX2510"></a>
</dt>
<dd><p>Returns the base64-representation of <var>arg</var> as a string. 
The argument <var>arg</var> may be a string, a non-negative integer or a list of octets.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) base64: base64(&quot;foo bar baz&quot;);
(%o1)                          Zm9vIGJhciBiYXo=
(%i2) string: base64_decode(base64);
(%o2)                            foo bar baz
(%i3) obase: 16.$
(%i4) integer: base64_decode(base64, 'number);
(%o4)                       666f6f206261722062617a
(%i5) octets: base64_decode(base64, 'list);
(%o5)            [66, 6F, 6F, 20, 62, 61, 72, 20, 62, 61, 7A]
(%i6) ibase: 16.$
(%i7) base64(octets);
(%o7)                          Zm9vIGJhciBiYXo=
</pre>
<p>Note that if <var>arg</var> contains umlauts (resp. octets larger than 127) 
the resulting base64-string is platform dependend. 
However the decoded string will be equal to the original.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="base64_005fdecode"></a>
<a name="Item_003a-base64_005fdecode"></a>
</p><dl>
<dt><u>Function:</u> <b>base64_decode</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>base64_decode</tt> (<var>base64-string</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>base64_decode</tt> (<var>base64-string</var>, <var>return-type</var>)</i>
<a name="IDX2511"></a>
</dt>
<dd><p>By default <code>base64_decode</code> decodes the <var>base64-string</var> back to the original string. 
</p>
<p>The optional argument <var>return-type</var> allows <code>base64_decode</code> to 
alternatively return the corresponding number or list of octets.
<var>return-type</var> may be <code>string</code>, <code>number</code> or <code>list</code>.
</p>
<p>Example: See <a href="#base64">base64</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="crc24sum"></a>
<a name="Item_003a-crc24sum"></a>
</p><dl>
<dt><u>Function:</u> <b>crc24sum</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>crc24sum</tt> (<var>octets</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>crc24sum</tt> (<var>octets</var>, <var>return-type</var>)</i>
<a name="IDX2512"></a>
</dt>
<dd><p>By default <code>crc24sum</code> returns the <code>CRC24</code> checksum of an octet-list 
as a string.
</p>
<p>The optional argument <var>return-type</var> allows <code>crc24sum</code> to 
alternatively return the corresponding number or list of octets.
<var>return-type</var> may be <code>string</code>, <code>number</code> or <code>list</code>.
</p>
<p>Example:
</p>
<pre class="example">-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.22 (GNU/Linux)

iQEcBAEBAgAGBQJVdCTzAAoJEG/1Mgf2DWAqCSYH/AhVFwhu1D89C3/QFcgVvZTM
wnOYzBUURJAL/cT+IngkLEpp3hEbREcugWp+Tm6aw3R4CdJ7G3FLxExBH/5KnDHi
rBQu+I7+3ySK2hpryQ6Wx5J9uZSa4YmfsNteR8up0zGkaulJeWkS4pjiRM+auWVe
vajlKZCIK52P080DG7Q2dpshh4fgTeNwqCuCiBhQ73t8g1IaLdhDN6EzJVjGIzam
/spqT/sTo6sw8yDOJjvU+Qvn6/mSMjC/YxjhRMaQt9EMrR1AZ4ukBF5uG1S7mXOH
WdiwkSPZ3gnIBhM9SuC076gLWZUNs6NqTeE3UzMjDAFhH3jYk1T7mysCvdtIkms=
=WmeC
-----END PGP SIGNATURE-----
</pre>
<pre class="example">(%i1) ibase : obase : 16.$
(%i2) sig64 : sconcat(
 &quot;iQEcBAEBAgAGBQJVdCTzAAoJEG/1Mgf2DWAqCSYH/AhVFwhu1D89C3/QFcgVvZTM&quot;,
 &quot;wnOYzBUURJAL/cT+IngkLEpp3hEbREcugWp+Tm6aw3R4CdJ7G3FLxExBH/5KnDHi&quot;,
 &quot;rBQu+I7+3ySK2hpryQ6Wx5J9uZSa4YmfsNteR8up0zGkaulJeWkS4pjiRM+auWVe&quot;,
 &quot;vajlKZCIK52P080DG7Q2dpshh4fgTeNwqCuCiBhQ73t8g1IaLdhDN6EzJVjGIzam&quot;,
 &quot;/spqT/sTo6sw8yDOJjvU+Qvn6/mSMjC/YxjhRMaQt9EMrR1AZ4ukBF5uG1S7mXOH&quot;,
 &quot;WdiwkSPZ3gnIBhM9SuC076gLWZUNs6NqTeE3UzMjDAFhH3jYk1T7mysCvdtIkms=&quot; )$
(%i3) octets: base64_decode(sig64, 'list)$
(%i4) crc24: crc24sum(octets, 'list);
(%o4)                          [5A, 67, 82]
(%i5) base64(crc24);
(%o5)                              WmeC
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="md5sum"></a>
<a name="Item_003a-md5sum"></a>
</p><dl>
<dt><u>Function:</u> <b>md5sum</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>md5sum</tt> (<var>arg</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>md5sum</tt> (<var>arg</var>, <var>return-type</var>)</i>
<a name="IDX2513"></a>
</dt>
<dd><p>Returns the <code>MD5</code> checksum of a string, a non-negative integer or 
a list of octets. The default return value is a string containing 32 hex characters.
</p>
<p>The optional argument <var>return-type</var> allows <code>md5sum</code> to alternatively 
return the corresponding number or list of octets.
<var>return-type</var> may be <code>string</code>, <code>number</code> or <code>list</code>.
</p>
<p>Examples:
</p>
<pre class="example">(%i1) ibase: obase: 16.$
(%i2) msg: &quot;foo bar baz&quot;$
(%i3) string: md5sum(msg);
(%o3)                  ab07acbb1e496801937adfa772424bf7
(%i4) integer: md5sum(msg, 'number);
(%o4)                 0ab07acbb1e496801937adfa772424bf7
(%i5) octets: md5sum(msg, 'list);
(%o5)        [0AB,7,0AC,0BB,1E,49,68,1,93,7A,0DF,0A7,72,42,4B,0F7]
(%i6) sdowncase( printf(false, &quot;~{~2,'0x~^:~}&quot;, octets) );
(%o6)           ab:07:ac:bb:1e:49:68:01:93:7a:df:a7:72:42:4b:f7
</pre>
<p>Note that in case <var>arg</var> contains German umlauts or other non-ASCII 
characters (resp. octets larger than 127) the <code>MD5</code> checksum is platform dependend.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="mgf1_005fsha1"></a>
<a name="Item_003a-mgf1_005fsha1"></a>
</p><dl>
<dt><u>Function:</u> <b>mgf1_sha1</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>mgf1_sha1</tt> (<var>seed</var>, <var>len</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>mgf1_sha1</tt> (<var>seed</var>, <var>len</var>, <var>return-type</var>)</i>
<a name="IDX2514"></a>
</dt>
<dd><p>Returns a pseudo random number of variable length. 
By default the returned value is a number with a length of <var>len</var> octets.
</p>
<p>The optional argument <var>return-type</var> allows <code>mgf1_sha1</code> to alternatively 
return the corresponding list of <var>len</var> octets.
<var>return-type</var> may be <code>number</code> or <code>list</code>.
</p>
<p>The computation of the returned value is described in <code>RFC 3447</code>, 
appendix <code>B.2.1 MGF1</code>. 
<code>SHA1</code> ist used as hash function, i.e. the randomness of the computed number 
relies on the randomness of <code>SHA1</code> hashes.
</p>
<p>Example:
</p>
<pre class="example">(%i1) ibase: obase: 16.$
(%i2) number: mgf1_sha1(4711., 8);
(%o2)                        0e0252e5a2a42fea1
(%i3) octets: mgf1_sha1(4711., 8, 'list);
(%o3)                  [0E0,25,2E,5A,2A,42,0FE,0A1]
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="number_005fto_005foctets"></a>
<a name="Item_003a-number_005fto_005foctets"></a>
</p><dl>
<dt><u>Function:</u> <b>number_to_octets</b><i> (<var>number</var>)</i>
<a name="IDX2515"></a>
</dt>
<dd><p>Returns an octet-representation of <var>number</var> as a list of octets.
The <var>number</var> must be a non-negative integer.
</p>
<p>Example:
</p>
<pre class="example">(%i1) ibase : obase : 16.$
(%i2) octets: [0ca,0fe,0ba,0be]$
(%i3) number: octets_to_number(octets);
(%o3)                            0cafebabe
(%i4) number_to_octets(number);
(%o4)                      [0CA, 0FE, 0BA, 0BE]
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="octets_005fto_005fnumber"></a>
<a name="Item_003a-octets_005fto_005fnumber"></a>
</p><dl>
<dt><u>Function:</u> <b>octets_to_number</b><i> (<var>octets</var>)</i>
<a name="IDX2516"></a>
</dt>
<dd><p>Returns a number by concatenating the octets in the list of <var>octets</var>.
</p>
<p>Example: See <a href="#number_005fto_005foctets">number_to_octets</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="octets_005fto_005foid"></a>
<a name="Item_003a-octets_005fto_005foid"></a>
</p><dl>
<dt><u>Function:</u> <b>octets_to_oid</b><i> (<var>octets</var>)</i>
<a name="IDX2517"></a>
</dt>
<dd><p>Computes an object identifier (OID) from the list of <var>octets</var>.
</p>
<p>Example: RSA encryption OID
</p>
<pre class="example">(%i1) ibase : obase : 16.$
(%i2) oid: octets_to_oid([2A,86,48,86,0F7,0D,1,1,1]);
(%o2)                      1.2.840.113549.1.1.1
(%i3) oid_to_octets(oid);
(%o3)               [2A, 86, 48, 86, 0F7, 0D, 1, 1, 1]
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="octets_005fto_005fstring"></a>
<a name="Item_003a-octets_005fto_005fstring"></a>
</p><dl>
<dt><u>Function:</u> <b>octets_to_string</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>octets_to_string</tt> (<var>octets</var>)  &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>octets_to_string</tt> (<var>octets</var>, <var>encoding</var>) </i>
<a name="IDX2518"></a>
</dt>
<dd><p>Decodes the list of <var>octets</var> into a string according to current system defaults. 
When decoding octets corresponding to Non-US-ASCII characters 
the result depends on the platform, application and underlying Lisp.
</p>
<p>Example: Using system defaults 
(Maxima compiled with GCL, which uses no format definition and 
simply passes through the UTF-8-octets encoded by the GNU/Linux terminal).
</p>
<pre class="example">(%i1) octets: string_to_octets(&quot;abc&quot;);
(%o1)                            [61, 62, 63]
(%i2) octets_to_string(octets);
(%o2)                                 abc
(%i3) ibase: obase: 16.$
(%i4) unicode(20AC);
(%o4)                                  &euro;
(%i5) octets: string_to_octets(%);
(%o5)                           [0E2, 82, 0AC]
(%i6) octets_to_string(octets);
(%o6)                                  &euro;
(%i7) utf8_to_unicode(octets);
(%o7)                                20AC
</pre>
<p>In case the external format of the Lisp reader is equal to UTF-8 the optional 
argument <var>encoding</var> allows to set the encoding for the octet to string conversion. 
If necessary see <a href="#adjust_005fexternal_005fformat">adjust_external_format</a> for changing the external format. 
</p>
<p>Some names of supported encodings (see corresponding Lisp manual for more): <br>
CCL, CLISP, SBCL: <code>utf-8, ucs-2be, ucs-4be, iso-8859-1, cp1252, cp850</code> <br>
CMUCL: <code>utf-8, utf-16-be, utf-32-be, iso8859-1, cp1252</code> <br>
ECL: <code>utf-8, ucs-2be, ucs-4be, iso-8859-1, windows-cp1252, dos-cp850</code> 
</p>   
<p>Example (continued): Using the optional encoding argument 
(Maxima compiled with SBCL, GNU/Linux terminal).
</p>
<pre class="example">(%i8) string_to_octets(&quot;&euro;&quot;, &quot;ucs-2be&quot;);
(%o8)                              [20, 0AC]
</pre>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="oid_005fto_005foctets"></a>
<a name="Item_003a-oid_005fto_005foctets"></a>
</p><dl>
<dt><u>Function:</u> <b>oid_to_octets</b><i> (<var>oid-string</var>)</i>
<a name="IDX2519"></a>
</dt>
<dd><p>Convertes an object identifier (OID) to a list of <var>octets</var>.
</p>
<p>Example: See <a href="#octets_005fto_005foid">octets_to_oid</a>.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sha1sum"></a>
<a name="Item_003a-sha1sum"></a>
</p><dl>
<dt><u>Function:</u> <b>sha1sum</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sha1sum</tt> (<var>arg</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sha1sum</tt> (<var>arg</var>, <var>return-type</var>)</i>
<a name="IDX2520"></a>
</dt>
<dd><p>Returns the <code>SHA1</code> fingerprint of a string, a non-negative integer or 
a list of octets. The default return value is a string containing 40 hex characters.
</p>
<p>The optional argument <var>return-type</var> allows <code>sha1sum</code> to alternatively 
return the corresponding number or list of octets.
<var>return-type</var> may be <code>string</code>, <code>number</code> or <code>list</code>.
</p>
<p>Example:
</p>
<pre class="example">(%i1) ibase: obase: 16.$
(%i2) msg: &quot;foo bar baz&quot;$
(%i3) string: sha1sum(msg);
(%o3)              c7567e8b39e2428e38bf9c9226ac68de4c67dc39
(%i4) integer: sha1sum(msg, 'number);
(%o4)             0c7567e8b39e2428e38bf9c9226ac68de4c67dc39
(%i5) octets: sha1sum(msg, 'list);
(%o5)  [0C7,56,7E,8B,39,0E2,42,8E,38,0BF,9C,92,26,0AC,68,0DE,4C,67,0DC,39]
(%i6) sdowncase( printf(false, &quot;~{~2,'0x~^:~}&quot;, octets) );
(%o6)     c7:56:7e:8b:39:e2:42:8e:38:bf:9c:92:26:ac:68:de:4c:67:dc:39
</pre>
<p>Note that in case <var>arg</var> contains German umlauts or other non-ASCII 
characters (resp. octets larger than 127) the <code>SHA1</code> fingerprint is platform dependend.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="sha256sum"></a>
<a name="Item_003a-sha256sum"></a>
</p><dl>
<dt><u>Function:</u> <b>sha256sum</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sha256sum</tt> (<var>arg</var>) &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>sha256sum</tt> (<var>arg</var>, <var>return-type</var>)</i>
<a name="IDX2521"></a>
</dt>
<dd><p>Returns the <code>SHA256</code> fingerprint of a string, a non-negative integer or 
a list of octets. The default return value is a string containing 64 hex characters.
</p>
<p>The optional argument <var>return-type</var> allows <code>sha256sum</code> to alternatively 
return the corresponding number or list of octets (see <a href="#sha1sum">sha1sum</a>).
</p>
<p>Example:
</p>
<pre class="example">(%i1) string: sha256sum(&quot;foo bar baz&quot;);
(%o1)  dbd318c1c462aee872f41109a4dfd3048871a03dedd0fe0e757ced57dad6f2d7
</pre>
<p>Note that in case <var>arg</var> contains German umlauts or other non-ASCII 
characters (resp. octets larger than 127) the <code>SHA256</code> fingerprint is platform dependend.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>

<p><a name="string_005fto_005foctets"></a>
<a name="Item_003a-string_005fto_005foctets"></a>
</p><dl>
<dt><u>Function:</u> <b>string_to_octets</b><i> &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>string_to_octets</tt> (<var>string</var>)  &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<tt>string_to_octets</tt> (<var>string</var>, <var>encoding</var>) </i>
<a name="IDX2522"></a>
</dt>
<dd><p>Encodes a <var>string</var> into a list of octets according to current system defaults. 
When encoding strings containing Non-US-ASCII characters 
the result depends on the platform, application and underlying Lisp.
</p>
<p>In case the external format of the Lisp reader is equal to UTF-8 the optional 
argument <var>encoding</var> allows to set the encoding for the string to octet conversion. 
If necessary see <a href="#adjust_005fexternal_005fformat">adjust_external_format</a> for changing the external format. 
</p>
<p>See <a href="#octets_005fto_005fstring">octets_to_string</a> for examples and some more information.
</p>
<div class=categorybox>

<p>Categories:&nbsp;&nbsp;<a href="maxima_105.html#Category_003a-Package-stringproc">Package stringproc</a>
</div>
</p>
</dd></dl>


<p><a name="Item_003a-to_005fpoly_005fsolve_002dpkg"></a>
</p><hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC388" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_85.html#SEC394" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_89.html#SEC426" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>本田 康晃</em> on <em>August, 17 2018</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>

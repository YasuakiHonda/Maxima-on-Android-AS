<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created on Outubro, 3 2017 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>Manual do Maxima 5.41.0: 62. plotdf</title>

<meta name="description" content="Manual do Maxima 5.41.0: 62. plotdf">
<meta name="keywords" content="Manual do Maxima 5.41.0: 62. plotdf">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 0px; padding-bottom: 0px;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%}
-->
</style>

<link rel="icon" href="../figures/favicon.ico"/>
</head>

<body lang="pt" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="plotdf"></a>
<a name="SEC228"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="maxima_61.html#SEC227" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC229" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima_61.html#SEC219" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC231" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_72.html#SEC272" title="Index">&Iacute;ndice</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 62. plotdf </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC229">62.1 Introdução a plotdf</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC230">62.2 Definições para plotdf</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Introdu_00e7_00e3o-a-plotdf"></a>
<a name="SEC229"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC228" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC230" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC228" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC228" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC231" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_72.html#SEC272" title="Index">&Iacute;ndice</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 62.1 Introdução a plotdf </h2>

<p>A função <code>plotdf</code> cria um gráfico do campo de
direcções para uma Equação Diferencial
Ordinária (EDO) de primeira ordem, ou para um sistema de duas EDO's
autónomas, de primeira ordem.
</p>
<p>Por tratar-se de um pacote adicional, para poder usá-lo deverá
primeiro carregá-lo com o comando <code>load(&quot;plotdf&quot;)</code>. Também é
necessário que Xmaxima esteja instalado, inclusivamente se executar o
Maxima desde outra interface diferente.
</p>
<p>Para desenhar o campo de direcções de uma única EDO,
essa equação deverá escrever-se na forma seguinte:
</p><pre class="example">       dy
       -- = F(x,y)
       dx
</pre>
<p>e a função <var>F</var> será dada como argumento para o
comando <code>plotdf</code>. A variável independente tem que ser sempre
<var>x</var> e a variável dependente <var>y</var>. A essas duas variáveis
não poderá estar associado nenhum valor numérico.
</p>
<p>Para desenhar o campo de direcções de um sistema
autónomo de duas EDO's, as duas equações devem ser
escritas na forma seguinte
</p><pre class="example">       dx             dy
       -- = G(x,y)    -- = F(x,y) 
       dt             dt
</pre>
<p>e o argumento para o comando <code>plotdf</code> será uma lista com duas
expressões para as funções <var>F</var> e <var>G</var>.
</p>
<p>Quando se trabalha com uma única equação,
<code>plotdf</code> assume implicitamente que <code>x=t</code> e <code>G(x,y)=1</code>,
transformando a equação num sistema autónomo com duas
equações.
</p>
<hr size="6">
<a name="Defini_00e7_00f5es-para-plotdf"></a>
<a name="SEC230"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC229" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC231" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC228" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC228" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC231" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_72.html#SEC272" title="Index">&Iacute;ndice</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 62.2 Definições para plotdf </h2>

<dl>
<dt><u>Function:</u> <b>plotdf</b><i> (<var>dydx</var>,...opções...)</i>
<a name="IDX1842"></a>
</dt>
<dt><u>Function:</u> <b>plotdf</b><i> (<code>[</code><var>dxdt</var>,<var>dydt</var><code>]</code>,...opções...)</i>
<a name="IDX1843"></a>
</dt>
<dd><p>Desenha um campo de direcções em duas
dimensões <var>x</var> e <var>y</var>.
</p>
<p><var>dydx</var>, <var>dxdt</var> e <var>dydt</var> são expressões que dependem de
<var>x</var> e <var>y</var>. Para além dessas duas variáveis, as duas
expressões podem depender de um conjunto de parâmetros, com valores
numéricos que são dados por meio da opção
<code>parameters</code> (a sintaxe dessa opção explica-se mais
para a frente), ou com um intervalo de possíveis valores
definidos com a opção <var>sliders</var>.
</p>
<p>Várias outras opções podem incluirem-se dentro do
comando, ou serem seleccionadas no menú.  Clicando num ponto do
gráfico faz com que seja desenhada a curva integral que passa por esse
ponto; o mesmo pode ser feito dando as coordenadas do ponto com a
opção <code>trajectory_at</code> dentro do comando plotdf. A
direcção de integração pode controlar-se
com a opção <code>direction</code>, que aceita valores de
<em>forward</em>, <em>backward</em> ou <em>both</em>. O número de passos
realizados na integração numérica controla-se com a
opção <code>nsteps</code> e o incremento do tempo em cada
passo com a opção <code>tstep</code>. Usa-se o método de
Adams Moulton para fazer a integração numérica;
também é possível mudar para o método de Runge-Kutta
de quarta ordem com ajuste de passos.
</p>
<p><b>Menú da janela do gráfico:</b>
</p>
<p>O menú da janela gráfica inclui as seguintes opções:
<em>Zoom</em>, que permite mudar o comportamento do rato, de maneira que
servirá para fazer zoom na região do gráfico clicando com o
botão esquerdo. Cada clic alarga a imagem mantendo no centro dela o
ponto onde se clicou.  Mantendo carregada a tecla <kbd>Shift</kbd> enquanto
se faz clic, faz diminuir o tamanho. Para continuar a desenhar
trajectórias com um clic, selecciona-se a opção
<em>Integrate</em> do menú.
</p>
<p>A opção <em>Config</em> do menú pode usar-se para mudar
a(s) EDO(S) e fazer alguns outros ajustes. Após ter feito alguma
alteração, deverá usar a opção
<em>Replot</em> para activar as novas configurações.  Se
introduzir duas coordenadas no campo <em>Trajectory at</em> do menú de
diálogo do <em>Config</em>, e a seguir carregar na tecla <kbd>Enter</kbd>,
será acrescentada mais uma curva integral.  Se seleccionar a
opção <em>Replot</em>, só será apresentada a última
curva integral seleccionada.
</p>
<p>Mantendo o botão direito carregado enquanto se desloca o cursor,
poderá arrastar o gráfico na horizontal e na vertical.  Outros
parâmetros, por exemplo, o número de passos, o valor inicial de
<var>t</var>, as coordenadas do centro e o raio, podem ser alterados no
sub-menú da opção <em>Config</em>.
</p>
<p>Com a opção <em>Save</em>, pode imprimir-se o
gráfico numa impressora Postscript ou gravar uma cópia num ficheiro
Postscript. Para optar entre impressão ou gravação em
ficheiro, selecciona-se <em>Print Options</em> na janela de diálogo de
<em>Config</em>. Após ter preenchido os campos da janela de diálogo de
<em>Save</em>, será necessário seleccionar a opção
<em>Save</em> do primeiro menú para criar o ficheiro ou imprimir o
gráfico.
</p>
<p><b>Opções gráficas:</b>
</p>
<p>A função <code>plotdf</code> admite varias
opções, cada uma sendo uma lista de duas ou mais
elementos. O primeiro elemento é o nome da opção, e o
resto estará formado pelos argumentos para essa opção.
</p>
<p>A função <code>plotdf</code> reconhece as seguintes
opções:
</p>
<ul>
<li>
<em>tstep</em> estabelece a amplitude dos
incrementos da variável independente <var>t</var>, utilizados para calcular
as curvas integrais. Se for dada só uma expressão <var>dydx</var>, a
variável <var>x</var> será directamente proporcional a <var>t</var>.
O valor por omissão é  0.1.

</li><li>
<em>nsteps</em> estabelece o número de passos de
comprimento <code>tstep</code> que se utilizarão na variável independente
para calcular a curva integral.
O valor por omissão é 100.

</li><li>
<em>direction</em> estabelece a
direcção da variável independente que será seguida
para calcular uma curva integral.  Os valores possí são:
<code>forward</code>, para fazer que a variável independente aumente
<code>nsteps</code> vezes, com incrementos <code>tstep</code>; <code>backward</code>, para
fazer que a variável independente diminua; <code>both</code>, para estender
a curva integral <code>nsteps</code> passos para a frente e <code>nsteps</code>
passos para atrás.  As palavras <code>right</code> e <code>left</code> podem serem
usadas como sinónimos de <code>forward</code> e <code>backward</code>.
O valor por omissão é <code>both</code>.

</li><li>
<em>tinitial</em> estabelece o valor inicial da
variável <var>t</var> utilizado para calcular curvas integrais. Já que as
equações diferenciais são autónomas, esta
opção só aparecerá nos gráficos das curvas em
função de <var>t</var>.
O valor por omissão é 0.

</li><li>
<em>versus_t</em> utiliza-se para criar uma segunda
janela gráfica, com o gráfico de uma curva integral, como duas
funções <var>x</var>, <var>y</var>, de variável independente
<var>t</var>. Se for dado a <code>versus_t</code> qualquer valor diferente de 0,
mostrar-se-á a segunda janela gráfica, que inclui outro menú,
similar ao da janela principal.
O valor por omissão é 0.

</li><li>
<em>trajectory_at</em> estabelece as coordenadas
<var>xinitial</var> e <var>yinitial</var> para o ponto inicial da curva integral.
Não tem atribuído nenhum valor por omissão.

</li><li>
<em>parameters</em> estabelece uma lista de
parâmetros, junto com os seus valores numéricos, que são
utilizados na definição da equação
diferencial. Os nomes dos parâmetros e os seus valores devem
escrever-se em formato de cadeia de caracteres como uma sequência de
pares <code>nome=valor</code> separados por vírgulas.

</li><li>
<em>sliders</em> estabelece uma lista de
parâmetros que poderão ser alterados interactivamente usando barras
com sliders, assim como os intervalos de variação dos
ditos parâmetros.  Os nomes dos parâmetros e os seus intervalos
devem escrever-se em formato de cadeia de caracteres como uma
sequência de pares <code>nome=min:max</code> separados por
vírgulas.

</li><li>
<em>xfun</em> estabelece uma cadeia de caracteres
com funções de <var>x</var> separadas por ponto e
vírgula para ser representadas por cima do campo de
direcções. Essas funções serão
interpretadas por Tcl, e não por Maxima.

</li><li>
<em>xradius</em> é metade do comprimento do
intervalo de valores a representar na direcção x.
O valor por omissão é 10.

</li><li>
<em>yradius</em> é metade do comprimento do
intervalo de valores a representar na direcção y.
O valor por omissão é 10.

</li><li>
<em>xcenter</em> é a coordenada x do ponto
situado no centro do gráfico.
O valor por omissão é 0.

</li><li>
<em>ycenter</em> é a coordenada y do ponto
situado no centro do gráfico.
O valor por omissão é 0.

</li><li>
<em>width</em> estabelece a largura da janela gráfica em
pixels.
O valor por omissão é 500.

</li><li>
<em>height</em> estabelece a altura da janela gráfica em
pixels.
O valor por omissão é 500.

</li></ul>

<p><b>Exemplos:</b>
</p>
<p>NOTA: Em alguns casos, dependendo da interface usada para executar o
Maxima, as funções que usam <code>openmath</code>, em
particular <code>plotdf</code>, podem desencadear um bug se terminarem em
ponto e vírgula, e não com o símbolo de
dólar. Para evitar problemas, usaremos o símbolo de
dóla nos exemplos a seguir.
</p>
<ul>
<li>
Para mostrar o campo de direcções da
equação diferencial <em>y' = exp(-x) + y</em> e a
solução que passa por <em>(2, -0.1)</em>:
<pre class="example">(%i1) load(&quot;plotdf&quot;)$

(%i2) plotdf(exp(-x)+y,[trajectory_at,2,-0.1]);
</pre>
<p><div class="image"><img src="./../figures/plotdf1.gif" alt="../figures/plotdf1"></div>
</p>
</li><li>
Para mostrar o campo de direcções da
equação <em>diff(y,x) = x - y^2</em> e a
solução com condição inicial <em>y(-1)
= 3</em>, pode utilizar-se o comando:
<pre class="example">(%i3) plotdf(x-y^2,[xfun,&quot;sqrt(x);-sqrt(x)&quot;],
          [trajectory_at,-1,3], [direction,forward],
          [yradius,5],[xcenter,6]);
</pre><p>O gráfico também mostra a função <em>y = sqrt(x)</em>.
</p>
<p><div class="image"><img src="./../figures/plotdf2.gif" alt="../figures/plotdf2"></div>
</p>
</li><li>
O exemplo seguinte mostra o campo de direcções de um
oscilador harmónico, definido pelas equações
<em>dx/dt = y</em> e <em>dy/dt = -k*x/m</em>, e a curva integral que passa
por <em>(x,y) = (6,0)</em>, com uma barra de slider que permitirá mudar
o valor de <em>m</em> interactivamente (<em>k</em> permanecerá fixo em 2):
<pre class="example">(%i4) plotdf([y,-k*x/m],[parameters,&quot;m=2,k=2&quot;],
            [sliders,&quot;m=1:5&quot;], [trajectory_at,6,0]);
</pre>
<p><div class="image"><img src="./../figures/plotdf3.gif" alt="../figures/plotdf3"></div>
</p>
</li><li>
Para representar o campo de direcções da
equação de Duffing, <em>m*x&quot;+c*x'+k*x+b*x^3 = 0</em>,
introduz-se a variável <em>y=x'</em> e faz-se:
<pre class="example">(%i5) plotdf([y,-(k*x + c*y + b*x^3)/m],
              [parameters,&quot;k=-1,m=1.0,c=0,b=1&quot;],
              [sliders,&quot;k=-2:2,m=-1:1&quot;],[tstep,0.1]);
</pre>
<p><div class="image"><img src="./../figures/plotdf4.gif" alt="../figures/plotdf4"></div>
</p>
</li><li>
O campo de direcções dum pêndulo amortecido, incluindo
a solução para condições iniciales
dadas, com uma barra de slider que pode usar-se para mudar o valor da
masa, <em>m</em>, e com o gráfico das duas variáveis de estado em
função do tempo:

<pre class="example">(%i6) plotdf([y,-g*sin(x)/l - b*y/m/l],
         [parameters,&quot;g=9.8,l=0.5,m=0.3,b=0.05&quot;],
         [trajectory_at,1.05,-9],[tstep,0.01],
         [xradius,6],[yradius,14],
         [xcenter,-4],[direction,forward],[nsteps,300],
         [sliders,&quot;m=0.1:1&quot;], [versus_t,1]);
</pre>
<p><div class="image"><img src="./../figures/plotdf5.gif" alt="../figures/plotdf5"></div>
<div class="image"><img src="./../figures/plotdf6.gif" alt="../figures/plotdf6"></div>
</p>
</li></ul>

</dd></dl>


<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC228" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_63.html#SEC231" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_72.html#SEC272" title="Index">&Iacute;ndice</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Viktor T. Toth</em> on <em>Outubro, 3 2017</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>

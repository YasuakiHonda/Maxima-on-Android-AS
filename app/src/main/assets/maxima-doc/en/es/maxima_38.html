<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created on octubre, 3 2017 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->
<head>
<title>Manual de Maxima 5.41.0: 38. Depurado</title>

<meta name="description" content="Manual de Maxima 5.41.0: 38. Depurado">
<meta name="keywords" content="Manual de Maxima 5.41.0: 38. Depurado">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.76">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
body {color: black; background: white;  margin-left: 8%; margin-right: 13%;
      font-family: "FreeSans", sans-serif}
h1 {font-size: 150%; font-family: "FreeSans", sans-serif}
h2 {font-size: 125%; font-family: "FreeSans", sans-serif}
h3 {font-size: 100%; font-family: "FreeSans", sans-serif}
a[href] {color: rgb(0,0,255); text-decoration: none;}
a[href]:hover {background: rgb(220,220,220);}
div.textbox {border: solid; border-width: thin; padding-top: 1em;
    padding-bottom: 1em; padding-left: 2em; padding-right: 2em}
div.titlebox {border: none; padding-top: 1em; padding-bottom: 1em;
    padding-left: 2em; padding-right: 2em; background: rgb(200,255,255);
    font-family: sans-serif}
div.synopsisbox {
    border: none; padding-top: 1em; padding-bottom: 1em; padding-left: 2em;
    padding-right: 2em; background: rgb(255,220,255);}
pre.example {border: 1px solid rgb(180,180,180); padding-top: 1em;
    padding-bottom: 1em; padding-left: 1em; padding-right: 1em;
    background-color: rgb(238,238,255)}
div.spacerbox {border: none; padding-top: 2em; padding-bottom: 2em}
div.image {margin: 0; padding: 1em; text-align: center}
div.categorybox {border: 1px solid gray; padding-top: 0px; padding-bottom: 0px;
    padding-left: 1em; padding-right: 1em; background: rgb(247,242,220)}
img {max-width:80%; max-height: 80%}
-->
</style>

<link rel="icon" href="../figures/favicon.ico"/>
</head>

<body lang="es" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Depurado"></a>
<a name="SEC209"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="maxima_37.html#SEC208" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC210" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima_37.html#SEC204" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_39.html#SEC213" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_80.html#SEC380" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h1 class="chapter"> 38. Depurado </h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#SEC210">38.1 Depuración del código fuente</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC211">38.2 Claves de depuración</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#SEC212">38.3 Funciones y variables para depurado</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Depuraci_00f3n-del-c_00f3digo-fuente"></a>
<a name="SEC210"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC209" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC211" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC209" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC209" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_39.html#SEC213" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_80.html#SEC380" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 38.1 Depuración del código fuente </h2>

<p>Maxima es capaz de dar asistencia en la depuración del código fuente. Un usuario puede establecer un punto de referencia dentro del código de una función a partir del cual se siga la ejecución línea a línea. La compliación puede ser posteriormente examinada, conjuntamente con los valores que se han ido asignando a las variables.
</p>
<p>La instrucción <code>:help</code>, o <code>:h</code>, muestra la lista de comandos para la depuración. (En general, los comandos pueden abreviarse; en algunos casos la lista de alternativas podrá ser listada.) Dentro del depurador, el usuario podrá examinar también cualquier función propia de Maxima, definirla y manipular variables y expresiones.
</p>
<p>El punto de referencia se establecerá con la instrucción <code>:br</code>. Ya dentro del depurador, el usuario podrá avanzar una línea de cada vez utilizando la instrucción <code>:n</code> (de &quot;next&quot;, en inglés). La orden <code>:bt</code> (de &quot;backtrace&quot;) muestra la lista de la pila. Finalmente, con el comando <code>:r</code> (&quot;resume&quot;) se abandona el depurador continuando con la ejecución. El uso de estas instrucciones se muestra en el siguiente ejemplo.
</p>
<pre class="example">(%i1) load (&quot;/tmp/foobar.mac&quot;);

(%o1)                           /tmp/foobar.mac

(%i2) :br foo
Turning on debugging debugmode(true)
Bkpt 0 for foo (in /tmp/foobar.mac line 1) 

(%i2) bar (2,3);
Bkpt 0:(foobar.mac 1)
/tmp/foobar.mac:1::

(dbm:1) :bt                  &lt;-- pulsando :bt se retrocede
#0: foo(y=5)(foobar.mac line 1)
#1: bar(x=2,y=3)(foobar.mac line 9)

(dbm:1) :n                   &lt;-- pulsando :n se avanza una línea
(foobar.mac 2)
/tmp/foobar.mac:2::

(dbm:1) :n                   &lt;-- pulsando :n se avanza otra línea
(foobar.mac 3)
/tmp/foobar.mac:3::

(dbm:1) u;                   &lt;-- se pide el valor de u
28

(dbm:1) u: 33;               &lt;-- se cambia el valor de u a 33
33

(dbm:1) :r                   &lt;-- pulsando :r se termina la depuración

(%o2)                                1094
</pre>
<p>El fichero <code>/tmp/foobar.mac</code> contiene lo siguiente:
</p>
<pre class="example">foo(y) := block ([u:y^2],
  u: u+3,
  u: u^2,
  u);
 
bar(x,y) := (
  x: x+2,
  y: y+2,
  x: foo(y),
  x+y);
</pre>
<p>USO DEL DEPURADOR EN EMACS
</p>
<p>Si el usuario está corriendo el código bajo GNU emacs en un entorno de texto (dbl shell), o está ejecutando el  entorno gráfico <code>xmaxima</code>, entonces cuando una función pare en el punto de referencia, podrá observar su
posición actual en el archivo fuente, el cual será mostrado en la otra mitad de la ventana, bien resaltada en rojo, o con una pequeña flecha apuntando a la línea correcta. El usuario puede avanzar líneas simples 
tecleando M-n (Alt-n).
</p>
<p>Bajo Emacs se debe ejecutar el programa en una ventana de texto <code>dbl</code>, la cual requiere el archivo <code>dbl.el</code> que está en el directorio elisp. El usuario debe instalar los archivos elisp o agregar el directorio elisp de Maxima a la ruta de búsqueda: por ejemplo, se puede añadir lo siguiente al archivo <tt>`.emacs'</tt> o al <code>site-init.el</code>
</p>
<pre class="example">(setq load-path (cons &quot;/usr/share/maxima/5.9.1/emacs&quot; load-path))
(autoload 'dbl &quot;dbl&quot;)
</pre>
<p>entonces en emacs
</p>
<pre class="example">M-x dbl
</pre>
<p>debería abrir una ventana del sistema en la cual se pueden ejecutar programas, por ejemplo
Maxima, gcl, gdb, etc.  En esta ventana también se puede ejecutar el depurador, mostrando el código fuente en la otra ventana.
</p>
<p>El usuario puede colocar un punto de referencia en una línea determinada sin más que teclear <code>C-x space</code>. Con esto se le hace saber al depurador en qué función está el cursor y en qué línea del mismo. Si el cursor está en la línea 2 de <code>foo</code>, entonces insertará en la otra ventana la instrucción &quot;<code>:br foo 2</code>&quot;, a fin de detener <code>foo</code> justo en la segunda línea. Para tener esto operativo, el usuario debe tener activo maxima-mode.el (modo-maxima.el) en la ventana en la que está <code>foobar.mac</code>. Hay otros comandos disponibles en la ventana, como evaluar la función dentro de Maxima tecleando <code>Alt-Control-x</code>.
</p>

<hr size="6">
<a name="Claves-de-depuraci_00f3n"></a>
<a name="SEC211"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC210" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC212" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC209" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC209" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_39.html#SEC213" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_80.html#SEC380" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 38.2 Claves de depuración </h2>

<p>Las claves de depuración son palabras que no son interpretadas como expresiones de Maxima. Una clave de depuración puede introducirse dentro de Maxima o del depurador. Las claves de depuración comienzan con dos puntos, ':'. Por ejemplo, para evaluar una expresión Lisp, se puede teclear <code>:lisp</code> seguido de la expresión a ser evaluada.
</p>
<pre class="example">(%i1) :lisp (+ 2 3) 
5
</pre>
<p>El número de argumentos depende del comando en particular. Además, tampoco es necesario teclear el nombre completo de la instrucción, tan solo lo justo para diferenciarla de las otras instrucciones. Así, <code>:br</code> sería suficiente para <code>:break</code>.
</p>
<p>Las claves de depuración se listan a continuación.
</p>
<dl compact="compact">
<dt> <code>:break F n</code></dt>
<dd><p>Establece un punto de referencia en la función <code>F</code> en la línea <code>n</code> contando a partir del comienzo de la función. Si <code>F</code> es una cadena, entonces se entiende que se trata de un fichero, siendo entonces <code>n</code> el número de línea a partir del comienzo del fichero. El valor <code>n</code> es opcional; en caso de no ser suministrado, se entenderá que vale cero (primera línea de la función o fichero).
</p></dd>
<dt> <code>:bt</code></dt>
<dd><p>Retrocede en la pila.
</p></dd>
<dt> <code>:continue</code></dt>
<dd><p>Continua el cómputo de la función.
</p></dd>
<dt> <code>:delete</code></dt>
<dd><p>Borra los punto de referencia especificados, o todos si no se especifica ninguno.
</p></dd>
<dt> <code>:disable</code></dt>
<dd><p>Deshabilita los puntos de referencia especificados, o todos si no se especifica ninguno.
</p></dd>
<dt> <code>:enable</code></dt>
<dd><p>Habilita los puntos de referencia especificados, o todos si no se especifica ninguno.
</p></dd>
<dt> <code>:frame n</code></dt>
<dd><p>Imprime el elemento <code>n</code> de la pila, o el actualmente activo si no se especifica ninguno.
</p></dd>
<dt> <code>:help</code></dt>
<dd><p>Imprime la ayuda sobre un comando del depurador, o de todos los comandos si no se especifica ninguno.
</p></dd>
<dt> <code>:info</code></dt>
<dd><p>Imprime información sobre un elemento.
</p></dd>
<dt> <code>:lisp expresión</code></dt>
<dd><p>Evalúa la <code>expresión</code> Lisp.
</p></dd>
<dt> <code>:lisp-quiet expresión</code></dt>
<dd><p>Evalúa la <code>expresión</code> Lisp sin devolver el resultado.
</p></dd>
<dt> <code>:next</code></dt>
<dd><p>Como <code>:step</code>, excepto que <code>:next</code> se salta las llamadas a funciones.
</p></dd>
<dt> <code>:quit</code></dt>
<dd><p>Sale del nivel actual del depurador sin completar el cómputo.
</p></dd>
<dt> <code>:resume</code></dt>
<dd><p>Continúa con el cómputo.
</p></dd>
<dt> <code>:step</code></dt>
<dd><p>Sigue con el cómputo de la función o fichero hasta que alcance una nueva línea fuente.
</p></dd>
<dt> <code>:top</code></dt>
<dd><p>Retorna a Maxima desde cualquier nivel del depurador sin completar el cómputo.
</p></dd>
</dl>



<hr size="6">
<a name="Funciones-y-variables-para-depurado"></a>
<a name="SEC212"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC211" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_39.html#SEC213" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="#SEC209" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="#SEC209" title="Up section"> Up </a>]</td>
<td valign="middle" align="left">[<a href="maxima_39.html#SEC213" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_80.html#SEC380" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<h2 class="section"> 38.3 Funciones y variables para depurado </h2>


<dl>
<dt><u>Variable opcional:</u> <b>debugmode</b>
<a name="IDX1569"></a>
</dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Cuando en Maxima ocurre un error, Maxima inicializará el depurador si <code>debugmode</code> tiene el valor <code>true</code>. 
El usuario puede ingresar comandos para examinar la pila de llamadas, los puntos de interrupción; en pocas palabras ir a través del código de Maxima. Vea <code>debugging</code> para una lista de los comandos del depurador.  
</p>
<p>Habilitando <code>debugmode</code> no se capturarán los errores tipo Lisp. 
</p>

</dd></dl>


<dl>
<dt><u>Variable opcional:</u> <b>refcheck</b>
<a name="IDX1570"></a>
</dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Cuando <code>refcheck</code> vale <code>true</code>, Maxima imprime un mensaje cada vez que una variable es utilizada por vez primera en un cálculo.
</p>
</dd></dl>

<dl>
<dt><u>Variable opcional:</u> <b>setcheck</b>
<a name="IDX1571"></a>
</dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Cuando el valor de <code>setcheck</code> es una lista de variables (se admite que tengan subíndices) Maxima devuelve un mensaje indicando si los valores que han sido asignados a las variables lo han sido con el operador ordinario <code>:</code>, o con el operador de asignación <code>::</code> o como resultado de haberse realizado una llamada de función, pero en ningún caso cuando la asignación haya sido hecha mediante los operadores <code>:=</code> o <code>::=</code>. El mensaje contiene el nombre de la variable y su valor.
</p>
<p>La variable <code>setcheck</code> admite también los valores <code>all</code> o <code>true</code> con lo que el informe incluirá todas las variables.
</p>
<p>Cada nueva asignación de <code>setcheck</code> establece una nueva lista de variables a ser monitorizada, de forma que cualquier otra variable previamente asignada a <code>setcheck</code> es olvidada.
</p>
<p>Los nombres asignados a <code>setcheck</code> deben estar precedidos del apóstrofo <code>'</code> a fin de evitar que las variables sean evaluadas antes de ser almacenadas en <code>setcheck</code>. Por ejemplo, si <code>x</code>, <code>y</code> y <code>z</code> ya guardan algún valor entoces se hará
</p>
<pre class="example">setcheck: ['x, 'y, 'z]$
</pre>
<p>para colocarlas en la lista de variables a monitorizar.
</p>
<p>No se generará ninguna salida cuando una variable de la lista <code>setcheck</code> sea asignada a ella misma, como en <code>X: 'X</code>.
</p>
</dd></dl>

<dl>
<dt><u>Variable opcional:</u> <b>setcheckbreak</b>
<a name="IDX1572"></a>
</dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Si <code>setcheckbreak</code> es igual <code>true</code>, Maxima se detendrá siempre que a una variable de la lista <code>setcheck</code> se le asigne un nuevo valor. La detención tendrá lugar justo antes de hacerse la asignación. En ese momento <code>setval</code> guarda el valor que se le va a dar a la variable. Entonces el usuario podrá darle un valor diferente pasándoselo a la variable <code>setval</code>.
</p>
<p>Véanse también <code>setcheck</code> y <code>setval</code>.
</p>
</dd></dl>

<dl>
<dt><u>Variable del sistema:</u> <b>setval</b>
<a name="IDX1573"></a>
</dt>
<dd><p>Guarda el valor que va a ser asignado a una variable cuando <code>setcheckbreak</code> realiza una detención. Entonces se podrá asignarle otro valor pasándoselo previamente a <code>setval</code>.
</p>
<p>Véanse también <code>setcheck</code> y <code>setcheckbreak</code>.
</p>
</dd></dl>

<dl>
<dt><u>Función:</u> <b>timer</b><i> (<var>f_1</var>, ..., <var>f_n</var>)</i>
<a name="IDX1574"></a>
</dt>
<dt><u>Función:</u> <b>timer</b><i> (all)</i>
<a name="IDX1575"></a>
</dt>
<dt><u>Función:</u> <b>timer</b><i> ()</i>
<a name="IDX1576"></a>
</dt>
<dd><p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>, <code>timer</code> coloca cada una de ellas en la lista de funciones para las cuales se generarán estadísticas relativas al tiempo de cómputo. Así, <code>timer(f)$ timer(g)$</code> coloca a <code>f</code> y luego a <code>g</code> en dicha lista de forma acumulativa.
</p>
<p>La sentencia <code>timer(all)</code> coloca todas las funciones de usuario 
(las referenciadas por la variable global <code>functions</code>) en la lista
de funciones cuyos tiempos de ejecución se quieren monitorizar.
</p>
<p>Si no se le pasan argumentos a <code>timer</code> se obtendrá la lista de funciones cuyos tiempos de ejecución se quieren monitorizar.
</p>
<p>Maxima almacena la duración del cómputo de cada función de la lista, de forma que <code>timer_info</code> devolverá las estadísticas correspondientes, incluyendo el tiempo medio de cada llamada a la función, el número de llamadas realizadas y el tiempo total transcurrido. La instrucción <code>untimer</code> borra las funciones de la lista.
</p>
<p>La función <code>timer</code> no evalúa sus argumentos, de forma que <code>f(x) := x^2$ g:f$ timer(g)$</code> no coloca a <code>f</code> en la lista.
</p>
<p>Si <code>trace(f)</code> está activada, entonces <code>timer(f)</code> está desactivada; <code>trace</code> y <code>timer</code> no pueden estar operativas al mismo tiempo.
</p>
<p>Véase también <code>timer_devalue</code>.
</p>
</dd></dl>

<dl>
<dt><u>Función:</u> <b>untimer</b><i> (<var>f_1</var>, ..., <var>f_n</var>)</i>
<a name="IDX1577"></a>
</dt>
<dt><u>Función:</u> <b>untimer</b><i> ()</i>
<a name="IDX1578"></a>
</dt>
<dd><p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>, <code>untimer</code> las elimina de la lista de funciones cuyos tiempos de ejecución se quiere monitorizar.
</p>
<p>Si no se le suministran argumentos, <code>untimer</code> borra completamente la lista.
</p>
<p>Tras la ejecución de <code>untimer (f)</code>, <code>timer_info (f)</code> aún devuelve las estadísticas de tiempo previamente registradas, pero <code>timer_info()</code> (sin argumentos) no devuelve información sobre aquellas funciones que ya no están en la lista. La ejecución de <code>timer (f)</code> inicializa todas las estadísticas a cero y coloca <code>f</code> nuevamente en la lista.
</p>
</dd></dl>

<dl>
<dt><u>Variable opcional:</u> <b>timer_devalue</b>
<a name="IDX1579"></a>
</dt>
<dd><p>Valor por defecto: <code>false</code>
</p>
<p>Si <code>timer_devalue</code> es igual a <code>true</code>, Maxima le resta a cada función cuyos tiempos de ejecución se quiere monitorizar el tiempo gastado en llamadas a otras funciones presentes también en la lista de monitorización. En caso contrario, los tiempos que se obtienen para cada función incluyen también los consumidos en otras funciones. Nótese que el tiempo consumido en llamadas a otras funciones que no están en la lista de monitorización no se resta del tiempo total.
</p>
<p>Véanse también <code>timer</code> y <code>timer_info</code>.
</p>
</dd></dl>

<dl>
<dt><u>Función:</u> <b>timer_info</b><i> (<var>f_1</var>, ..., <var>f_n</var>)</i>
<a name="IDX1580"></a>
</dt>
<dt><u>Función:</u> <b>timer_info</b><i> ()</i>
<a name="IDX1581"></a>
</dt>
<dd><p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>, <code>timer_info</code> devuelve una matriz con información relativa a los tiempos de ejecución de cada una de estas funciones. Sin argumentos, <code>timer_info</code> devuelve la información asociada a todas las funciones cuyos tiempos de ejecución se quiere monitorizar.
</p>
<p>La matriz devuelta por <code>timer_info</code> incluye los nombres de las funciones, tiempo de ejecución en cada llamada, número de veces que ha sido llamada, tiempo total de ejecución y tiempo consumido en la recolección de basura, <code>gctime</code> (del inglés, &quot;garbage collection time&quot;) en la versión original de Macsyma, aunque ahora toma el valor constante cero.
</p>
<p>Los datos con los que <code>timer_info</code> construye su respuesta pueden obtenerse también con la función <code>get</code>:
</p>
<pre class="example">get(f, 'calls);  get(f, 'runtime);  get(f, 'gctime);
</pre>
<p>Véase también <code>timer</code>.
</p>
</dd></dl>


<dl>
<dt><u>Función:</u> <b>trace</b><i> (<var>f_1</var>, ..., <var>f_n</var>)</i>
<a name="IDX1582"></a>
</dt>
<dt><u>Función:</u> <b>trace</b><i> (all)</i>
<a name="IDX1583"></a>
</dt>
<dt><u>Función:</u> <b>trace</b><i> ()</i>
<a name="IDX1584"></a>
</dt>
<dd><p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>, <code>trace</code> imprime información sobre depuración cada vez que estas funciones son llamadas; <code>trace(f)$ trace(g)$</code> coloca de forma acumulativa a <code>f</code> y luego a <code>g</code> en la lista de funciones a ser rastradas.
</p>
<p>La sentencia <code>trace(all)</code> coloca todas las funciones de usuario 
(las referenciadas por la variable global <code>functions</code>) en la lista
de funciones a ser rastreadas.
</p>
<p>Si no se suministran argumentos, <code>trace</code> devuelve una lista con todas las funciones a ser rastreadas.
</p>
<p>La función <code>untrace</code> desactiva el rastreo. Véase también <code>trace_options</code>.
</p>
<p>La función <code>trace</code> no evalúa sus argumentos, de forma que <code>f(x) := x^2$ g:f$ trace(g)$</code> no coloca a <code>f</code> en la lista de rastreo.
</p>
<p>Cuando una función se redefine es eliminada de la lista de rastreo. Así, tras  <code>timer(f)$ f(x) := x^2$</code>, la función <code>f</code> dejará de estar en dicha lista.
</p>
<p>Si <code>timer (f)</code> está activado, entonces <code>trace (f)</code> está desactivado, ya que <code>trace</code> y <code>timer</code> no pueden estar ambos activos para la misma función.
</p>
</dd></dl>

<dl>
<dt><u>Función:</u> <b>trace_options</b><i> (<var>f</var>, <var>option_1</var>, ..., <var>option_n</var>)</i>
<a name="IDX1585"></a>
</dt>
<dt><u>Función:</u> <b>trace_options</b><i> (<var>f</var>)</i>
<a name="IDX1586"></a>
</dt>
<dd><p>Establece las opciones de rastreo para la función <var>f</var>. Cualquier otra opción previamente especificada queda reemplazada por las nuevas. La ejecución de <code>trace_options (<var>f</var>, ...)</code> no tiene ningún efecto, a menos que se haya invocado previamente a <code>trace (<var>f</var>)</code> (es indiferente que esta invocación sea anterior o posterior a <code>trace_options</code>). 
</p>
<p><code>trace_options (<var>f</var>)</code> inicializa todas las opciones a sus valores por defecto.
</p>
<p>Las claves de opciones son:
</p>
<ul>
<li>
<code>noprint</code>:
No se imprime mensaje alguno ni a la entrada ni a la salida de la función.
</li><li>
<code>break</code>:
Coloca un punto de referencia antes de que la función comience a ejecutarse y otro después de que termine su ejecución. Véase <code>break</code>.
</li><li>
<code>lisp_print</code>:
Muestra los argumentos y valores retornados como objetos de Lisp.
</li><li>
<code>info</code>:
Imprime <code>-&gt; true</code> tanto a la entrada como a la salida de la función.
</li><li>
<code>errorcatch</code>:
Detecta errores, otorgando la posibilidad de marcar un error, reintentar la llamada a la función o especificar un valor de retorno.
</li></ul>

<p>Las opciones de rastreo se especifican de dos formas. La única presencia de la clave de opción ya activa la opción. (Nótese que la opción <var>foo</var> no se activa mediante <code><var>foo</var>: true</code> u otra forma similar; se tendrá en cuenta también que las claves no necesitan ir precedidas del apóstrofo.) Especificando la clave de opción junto con una función de predicado se hace que la opción quede condicionada al predicado.
</p>
<p>La lista de argumentos para las funciones de predicado es siempre <code>[level, direction, function, item]</code> donde <code>level</code> es el nivel de recursión para la función,  <code>direction</code> puede ser tanto <code>enter</code> como <code>exit</code>, <code>function</code> es el nombre de la función  y <code>item</code> es la lista de argumentos (a la entrada) o el valor de retorno (a la salida).
</p>
<p>A continuación un ejemplo de opciones de rastreo no condicionales:
</p>
<pre class="example">(%i1) ff(n) := if equal(n, 0) then 1 else n * ff(n - 1)$

(%i2) trace (ff)$

(%i3) trace_options (ff, lisp_print, break)$

(%i4) ff(3);
</pre>
<p>Para la misma función, con la opción <code>break</code> condicionada a un predicado:
</p>
<pre class="example">(%i5) trace_options (ff, break(pp))$

(%i6) pp (level, direction, function, item) := block (print (item),
    return (function = 'ff and level = 3 and direction = exit))$

(%i7) ff(6);
</pre>
</dd></dl>

<dl>
<dt><u>Función:</u> <b>untrace</b><i> (<var>f_1</var>, ..., <var>f_n</var>)</i>
<a name="IDX1587"></a>
</dt>
<dt><u>Función:</u> <b>untrace</b><i> ()</i>
<a name="IDX1588"></a>
</dt>
<dd><p>Dadas las funciones <var>f_1</var>, ..., <var>f_n</var>,
<code>untrace</code> desactiva el rastreo previamente activado por la función <code>trace</code>. Si no se aportan argumentos, <code>untrace</code> desactiva el rastreo de todas las funciones.
</p>
<p>La llamada a <code>untrace</code> devuelve una lista con las funciones para las que el rastreo se ha desactivado.
</p>
</dd></dl>



<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#SEC209" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="maxima_39.html#SEC213" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="maxima.html#SEC_Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="maxima_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[<a href="maxima_80.html#SEC380" title="Index">Index</a>]</td>
<td valign="middle" align="left">[<a href="maxima_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Viktor T. Toth</em> on <em>octubre, 3 2017</em> using <a href="http://texi2html.cvshome.org/"><em>texi2html 1.76</em></a>.
 </font>
 <br>

</p>
</body>
</html>
